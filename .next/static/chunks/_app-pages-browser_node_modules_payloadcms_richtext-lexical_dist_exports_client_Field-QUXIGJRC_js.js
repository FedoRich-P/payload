"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_payloadcms_richtext-lexical_dist_exports_client_Field-QUXIGJRC_js"],{

/***/ "(app-pages-browser)/./node_modules/@lexical/dragon/LexicalDragon.dev.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@lexical/dragon/LexicalDragon.dev.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerDragonSupport: () => (/* binding */ registerDragonSupport)\n/* harmony export */ });\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lexical */ \"(app-pages-browser)/./node_modules/lexical/Lexical.dev.mjs\");\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction registerDragonSupport(editor) {\n  const origin = window.location.origin;\n  const handler = event => {\n    if (event.origin !== origin) {\n      return;\n    }\n    const rootElement = editor.getRootElement();\n    if (document.activeElement !== rootElement) {\n      return;\n    }\n    const data = event.data;\n    if (typeof data === 'string') {\n      let parsedData;\n      try {\n        parsedData = JSON.parse(data);\n      } catch (e) {\n        return;\n      }\n      if (parsedData && parsedData.protocol === 'nuanria_messaging' && parsedData.type === 'request') {\n        const payload = parsedData.payload;\n        if (payload && payload.functionId === 'makeChanges') {\n          const args = payload.args;\n          if (args) {\n            const [elementStart, elementLength, text, selStart, selLength, formatCommand] = args;\n            editor.update(() => {\n              const selection = (0,lexical__WEBPACK_IMPORTED_MODULE_0__.$getSelection)();\n              if ((0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isRangeSelection)(selection)) {\n                const anchor = selection.anchor;\n                let anchorNode = anchor.getNode();\n                let setSelStart = 0;\n                let setSelEnd = 0;\n                if ((0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(anchorNode)) {\n                  // set initial selection\n                  if (elementStart >= 0 && elementLength >= 0) {\n                    setSelStart = elementStart;\n                    setSelEnd = elementStart + elementLength;\n                    // If the offset is more than the end, make it the end\n                    selection.setTextNodeRange(anchorNode, setSelStart, anchorNode, setSelEnd);\n                  }\n                }\n                if (setSelStart !== setSelEnd || text !== '') {\n                  selection.insertRawText(text);\n                  anchorNode = anchor.getNode();\n                }\n                if ((0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(anchorNode)) {\n                  // set final selection\n                  setSelStart = selStart;\n                  setSelEnd = selStart + selLength;\n                  const anchorNodeTextLength = anchorNode.getTextContentSize();\n                  // If the offset is more than the end, make it the end\n                  setSelStart = setSelStart > anchorNodeTextLength ? anchorNodeTextLength : setSelStart;\n                  setSelEnd = setSelEnd > anchorNodeTextLength ? anchorNodeTextLength : setSelEnd;\n                  selection.setTextNodeRange(anchorNode, setSelStart, anchorNode, setSelEnd);\n                }\n\n                // block the chrome extension from handling this event\n                event.stopImmediatePropagation();\n              }\n            });\n          }\n        }\n      }\n    }\n  };\n  window.addEventListener('message', handler, true);\n  return () => {\n    window.removeEventListener('message', handler, true);\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGV4aWNhbC9kcmFnb24vTGV4aWNhbERyYWdvbi5kZXYubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXdFOztBQUV4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNEQUFhO0FBQzdDLGtCQUFrQiwwREFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0RBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9EQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWlDIiwic291cmNlcyI6WyJEOlxcV09SS1xccHJvamVjdHNcXHBheWxvYWQtdFxcbm9kZV9tb2R1bGVzXFxAbGV4aWNhbFxcZHJhZ29uXFxMZXhpY2FsRHJhZ29uLmRldi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5pbXBvcnQgeyAkZ2V0U2VsZWN0aW9uLCAkaXNSYW5nZVNlbGVjdGlvbiwgJGlzVGV4dE5vZGUgfSBmcm9tICdsZXhpY2FsJztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5mdW5jdGlvbiByZWdpc3RlckRyYWdvblN1cHBvcnQoZWRpdG9yKSB7XG4gIGNvbnN0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG4gIGNvbnN0IGhhbmRsZXIgPSBldmVudCA9PiB7XG4gICAgaWYgKGV2ZW50Lm9yaWdpbiAhPT0gb3JpZ2luKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJvb3RFbGVtZW50ID0gZWRpdG9yLmdldFJvb3RFbGVtZW50KCk7XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHJvb3RFbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBldmVudC5kYXRhO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxldCBwYXJzZWREYXRhO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJzZWREYXRhICYmIHBhcnNlZERhdGEucHJvdG9jb2wgPT09ICdudWFucmlhX21lc3NhZ2luZycgJiYgcGFyc2VkRGF0YS50eXBlID09PSAncmVxdWVzdCcpIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHBhcnNlZERhdGEucGF5bG9hZDtcbiAgICAgICAgaWYgKHBheWxvYWQgJiYgcGF5bG9hZC5mdW5jdGlvbklkID09PSAnbWFrZUNoYW5nZXMnKSB7XG4gICAgICAgICAgY29uc3QgYXJncyA9IHBheWxvYWQuYXJncztcbiAgICAgICAgICBpZiAoYXJncykge1xuICAgICAgICAgICAgY29uc3QgW2VsZW1lbnRTdGFydCwgZWxlbWVudExlbmd0aCwgdGV4dCwgc2VsU3RhcnQsIHNlbExlbmd0aCwgZm9ybWF0Q29tbWFuZF0gPSBhcmdzO1xuICAgICAgICAgICAgZWRpdG9yLnVwZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9ICRnZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgaWYgKCRpc1JhbmdlU2VsZWN0aW9uKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmNob3IgPSBzZWxlY3Rpb24uYW5jaG9yO1xuICAgICAgICAgICAgICAgIGxldCBhbmNob3JOb2RlID0gYW5jaG9yLmdldE5vZGUoKTtcbiAgICAgICAgICAgICAgICBsZXQgc2V0U2VsU3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBzZXRTZWxFbmQgPSAwO1xuICAgICAgICAgICAgICAgIGlmICgkaXNUZXh0Tm9kZShhbmNob3JOb2RlKSkge1xuICAgICAgICAgICAgICAgICAgLy8gc2V0IGluaXRpYWwgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFN0YXJ0ID49IDAgJiYgZWxlbWVudExlbmd0aCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlbFN0YXJ0ID0gZWxlbWVudFN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBzZXRTZWxFbmQgPSBlbGVtZW50U3RhcnQgKyBlbGVtZW50TGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgb2Zmc2V0IGlzIG1vcmUgdGhhbiB0aGUgZW5kLCBtYWtlIGl0IHRoZSBlbmRcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uLnNldFRleHROb2RlUmFuZ2UoYW5jaG9yTm9kZSwgc2V0U2VsU3RhcnQsIGFuY2hvck5vZGUsIHNldFNlbEVuZCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZXRTZWxTdGFydCAhPT0gc2V0U2VsRW5kIHx8IHRleHQgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uaW5zZXJ0UmF3VGV4dCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgIGFuY2hvck5vZGUgPSBhbmNob3IuZ2V0Tm9kZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoJGlzVGV4dE5vZGUoYW5jaG9yTm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHNldCBmaW5hbCBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgIHNldFNlbFN0YXJ0ID0gc2VsU3RhcnQ7XG4gICAgICAgICAgICAgICAgICBzZXRTZWxFbmQgPSBzZWxTdGFydCArIHNlbExlbmd0aDtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvck5vZGVUZXh0TGVuZ3RoID0gYW5jaG9yTm9kZS5nZXRUZXh0Q29udGVudFNpemUoKTtcbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBvZmZzZXQgaXMgbW9yZSB0aGFuIHRoZSBlbmQsIG1ha2UgaXQgdGhlIGVuZFxuICAgICAgICAgICAgICAgICAgc2V0U2VsU3RhcnQgPSBzZXRTZWxTdGFydCA+IGFuY2hvck5vZGVUZXh0TGVuZ3RoID8gYW5jaG9yTm9kZVRleHRMZW5ndGggOiBzZXRTZWxTdGFydDtcbiAgICAgICAgICAgICAgICAgIHNldFNlbEVuZCA9IHNldFNlbEVuZCA+IGFuY2hvck5vZGVUZXh0TGVuZ3RoID8gYW5jaG9yTm9kZVRleHRMZW5ndGggOiBzZXRTZWxFbmQ7XG4gICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uc2V0VGV4dE5vZGVSYW5nZShhbmNob3JOb2RlLCBzZXRTZWxTdGFydCwgYW5jaG9yTm9kZSwgc2V0U2VsRW5kKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBibG9jayB0aGUgY2hyb21lIGV4dGVuc2lvbiBmcm9tIGhhbmRsaW5nIHRoaXMgZXZlbnRcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZXIsIHRydWUpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlciwgdHJ1ZSk7XG4gIH07XG59XG5cbmV4cG9ydCB7IHJlZ2lzdGVyRHJhZ29uU3VwcG9ydCB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@lexical/dragon/LexicalDragon.dev.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@lexical/history/LexicalHistory.dev.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@lexical/history/LexicalHistory.dev.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createEmptyHistoryState: () => (/* binding */ createEmptyHistoryState),\n/* harmony export */   registerHistory: () => (/* binding */ registerHistory)\n/* harmony export */ });\n/* harmony import */ var _lexical_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lexical/utils */ \"(app-pages-browser)/./node_modules/@lexical/utils/LexicalUtils.dev.mjs\");\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lexical */ \"(app-pages-browser)/./node_modules/lexical/Lexical.dev.mjs\");\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nconst HISTORY_MERGE = 0;\nconst HISTORY_PUSH = 1;\nconst DISCARD_HISTORY_CANDIDATE = 2;\nconst OTHER = 0;\nconst COMPOSING_CHARACTER = 1;\nconst INSERT_CHARACTER_AFTER_SELECTION = 2;\nconst DELETE_CHARACTER_BEFORE_SELECTION = 3;\nconst DELETE_CHARACTER_AFTER_SELECTION = 4;\nfunction getDirtyNodes(editorState, dirtyLeaves, dirtyElements) {\n  const nodeMap = editorState._nodeMap;\n  const nodes = [];\n  for (const dirtyLeafKey of dirtyLeaves) {\n    const dirtyLeaf = nodeMap.get(dirtyLeafKey);\n    if (dirtyLeaf !== undefined) {\n      nodes.push(dirtyLeaf);\n    }\n  }\n  for (const [dirtyElementKey, intentionallyMarkedAsDirty] of dirtyElements) {\n    if (!intentionallyMarkedAsDirty) {\n      continue;\n    }\n    const dirtyElement = nodeMap.get(dirtyElementKey);\n    if (dirtyElement !== undefined && !(0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isRootNode)(dirtyElement)) {\n      nodes.push(dirtyElement);\n    }\n  }\n  return nodes;\n}\nfunction getChangeType(prevEditorState, nextEditorState, dirtyLeavesSet, dirtyElementsSet, isComposing) {\n  if (prevEditorState === null || dirtyLeavesSet.size === 0 && dirtyElementsSet.size === 0 && !isComposing) {\n    return OTHER;\n  }\n  const nextSelection = nextEditorState._selection;\n  const prevSelection = prevEditorState._selection;\n  if (isComposing) {\n    return COMPOSING_CHARACTER;\n  }\n  if (!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isRangeSelection)(nextSelection) || !(0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isRangeSelection)(prevSelection) || !prevSelection.isCollapsed() || !nextSelection.isCollapsed()) {\n    return OTHER;\n  }\n  const dirtyNodes = getDirtyNodes(nextEditorState, dirtyLeavesSet, dirtyElementsSet);\n  if (dirtyNodes.length === 0) {\n    return OTHER;\n  }\n\n  // Catching the case when inserting new text node into an element (e.g. first char in paragraph/list),\n  // or after existing node.\n  if (dirtyNodes.length > 1) {\n    const nextNodeMap = nextEditorState._nodeMap;\n    const nextAnchorNode = nextNodeMap.get(nextSelection.anchor.key);\n    const prevAnchorNode = nextNodeMap.get(prevSelection.anchor.key);\n    if (nextAnchorNode && prevAnchorNode && !prevEditorState._nodeMap.has(nextAnchorNode.__key) && (0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(nextAnchorNode) && nextAnchorNode.__text.length === 1 && nextSelection.anchor.offset === 1) {\n      return INSERT_CHARACTER_AFTER_SELECTION;\n    }\n    return OTHER;\n  }\n  const nextDirtyNode = dirtyNodes[0];\n  const prevDirtyNode = prevEditorState._nodeMap.get(nextDirtyNode.__key);\n  if (!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(prevDirtyNode) || !(0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(nextDirtyNode) || prevDirtyNode.__mode !== nextDirtyNode.__mode) {\n    return OTHER;\n  }\n  const prevText = prevDirtyNode.__text;\n  const nextText = nextDirtyNode.__text;\n  if (prevText === nextText) {\n    return OTHER;\n  }\n  const nextAnchor = nextSelection.anchor;\n  const prevAnchor = prevSelection.anchor;\n  if (nextAnchor.key !== prevAnchor.key || nextAnchor.type !== 'text') {\n    return OTHER;\n  }\n  const nextAnchorOffset = nextAnchor.offset;\n  const prevAnchorOffset = prevAnchor.offset;\n  const textDiff = nextText.length - prevText.length;\n  if (textDiff === 1 && prevAnchorOffset === nextAnchorOffset - 1) {\n    return INSERT_CHARACTER_AFTER_SELECTION;\n  }\n  if (textDiff === -1 && prevAnchorOffset === nextAnchorOffset + 1) {\n    return DELETE_CHARACTER_BEFORE_SELECTION;\n  }\n  if (textDiff === -1 && prevAnchorOffset === nextAnchorOffset) {\n    return DELETE_CHARACTER_AFTER_SELECTION;\n  }\n  return OTHER;\n}\nfunction isTextNodeUnchanged(key, prevEditorState, nextEditorState) {\n  const prevNode = prevEditorState._nodeMap.get(key);\n  const nextNode = nextEditorState._nodeMap.get(key);\n  const prevSelection = prevEditorState._selection;\n  const nextSelection = nextEditorState._selection;\n  const isDeletingLine = (0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isRangeSelection)(prevSelection) && (0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isRangeSelection)(nextSelection) && prevSelection.anchor.type === 'element' && prevSelection.focus.type === 'element' && nextSelection.anchor.type === 'text' && nextSelection.focus.type === 'text';\n  if (!isDeletingLine && (0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(prevNode) && (0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(nextNode) && prevNode.__parent === nextNode.__parent) {\n    // This has the assumption that object key order won't change if the\n    // content did not change, which should normally be safe given\n    // the manner in which nodes and exportJSON are typically implemented.\n    return JSON.stringify(prevEditorState.read(() => prevNode.exportJSON())) === JSON.stringify(nextEditorState.read(() => nextNode.exportJSON()));\n  }\n  return false;\n}\nfunction createMergeActionGetter(editor, delay) {\n  let prevChangeTime = Date.now();\n  let prevChangeType = OTHER;\n  return (prevEditorState, nextEditorState, currentHistoryEntry, dirtyLeaves, dirtyElements, tags) => {\n    const changeTime = Date.now();\n\n    // If applying changes from history stack there's no need\n    // to run history logic again, as history entries already calculated\n    if (tags.has(lexical__WEBPACK_IMPORTED_MODULE_0__.HISTORIC_TAG)) {\n      prevChangeType = OTHER;\n      prevChangeTime = changeTime;\n      return DISCARD_HISTORY_CANDIDATE;\n    }\n    const changeType = getChangeType(prevEditorState, nextEditorState, dirtyLeaves, dirtyElements, editor.isComposing());\n    const mergeAction = (() => {\n      const isSameEditor = currentHistoryEntry === null || currentHistoryEntry.editor === editor;\n      const shouldPushHistory = tags.has(lexical__WEBPACK_IMPORTED_MODULE_0__.HISTORY_PUSH_TAG);\n      const shouldMergeHistory = !shouldPushHistory && isSameEditor && tags.has(lexical__WEBPACK_IMPORTED_MODULE_0__.HISTORY_MERGE_TAG);\n      if (shouldMergeHistory) {\n        return HISTORY_MERGE;\n      }\n      if (prevEditorState === null) {\n        return HISTORY_PUSH;\n      }\n      const selection = nextEditorState._selection;\n      const hasDirtyNodes = dirtyLeaves.size > 0 || dirtyElements.size > 0;\n      if (!hasDirtyNodes) {\n        if (selection !== null) {\n          return HISTORY_MERGE;\n        }\n        return DISCARD_HISTORY_CANDIDATE;\n      }\n      if (shouldPushHistory === false && changeType !== OTHER && changeType === prevChangeType && changeTime < prevChangeTime + delay && isSameEditor) {\n        return HISTORY_MERGE;\n      }\n\n      // A single node might have been marked as dirty, but not have changed\n      // due to some node transform reverting the change.\n      if (dirtyLeaves.size === 1) {\n        const dirtyLeafKey = Array.from(dirtyLeaves)[0];\n        if (isTextNodeUnchanged(dirtyLeafKey, prevEditorState, nextEditorState)) {\n          return HISTORY_MERGE;\n        }\n      }\n      return HISTORY_PUSH;\n    })();\n    prevChangeTime = changeTime;\n    prevChangeType = changeType;\n    return mergeAction;\n  };\n}\nfunction redo(editor, historyState) {\n  const redoStack = historyState.redoStack;\n  const undoStack = historyState.undoStack;\n  if (redoStack.length !== 0) {\n    const current = historyState.current;\n    if (current !== null) {\n      undoStack.push(current);\n      editor.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.CAN_UNDO_COMMAND, true);\n    }\n    const historyStateEntry = redoStack.pop();\n    if (redoStack.length === 0) {\n      editor.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.CAN_REDO_COMMAND, false);\n    }\n    historyState.current = historyStateEntry || null;\n    if (historyStateEntry) {\n      historyStateEntry.editor.setEditorState(historyStateEntry.editorState, {\n        tag: lexical__WEBPACK_IMPORTED_MODULE_0__.HISTORIC_TAG\n      });\n    }\n  }\n}\nfunction undo(editor, historyState) {\n  const redoStack = historyState.redoStack;\n  const undoStack = historyState.undoStack;\n  const undoStackLength = undoStack.length;\n  if (undoStackLength !== 0) {\n    const current = historyState.current;\n    const historyStateEntry = undoStack.pop();\n    if (current !== null) {\n      redoStack.push(current);\n      editor.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.CAN_REDO_COMMAND, true);\n    }\n    if (undoStack.length === 0) {\n      editor.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.CAN_UNDO_COMMAND, false);\n    }\n    historyState.current = historyStateEntry || null;\n    if (historyStateEntry) {\n      historyStateEntry.editor.setEditorState(historyStateEntry.editorState, {\n        tag: lexical__WEBPACK_IMPORTED_MODULE_0__.HISTORIC_TAG\n      });\n    }\n  }\n}\nfunction clearHistory(historyState) {\n  historyState.undoStack = [];\n  historyState.redoStack = [];\n  historyState.current = null;\n}\n\n/**\n * Registers necessary listeners to manage undo/redo history stack and related editor commands.\n * It returns `unregister` callback that cleans up all listeners and should be called on editor unmount.\n * @param editor - The lexical editor.\n * @param historyState - The history state, containing the current state and the undo/redo stack.\n * @param delay - The time (in milliseconds) the editor should delay generating a new history stack,\n * instead of merging the current changes with the current stack.\n * @returns The listeners cleanup callback function.\n */\nfunction registerHistory(editor, historyState, delay) {\n  const getMergeAction = createMergeActionGetter(editor, delay);\n  const applyChange = ({\n    editorState,\n    prevEditorState,\n    dirtyLeaves,\n    dirtyElements,\n    tags\n  }) => {\n    const current = historyState.current;\n    const redoStack = historyState.redoStack;\n    const undoStack = historyState.undoStack;\n    const currentEditorState = current === null ? null : current.editorState;\n    if (current !== null && editorState === currentEditorState) {\n      return;\n    }\n    const mergeAction = getMergeAction(prevEditorState, editorState, current, dirtyLeaves, dirtyElements, tags);\n    if (mergeAction === HISTORY_PUSH) {\n      if (redoStack.length !== 0) {\n        historyState.redoStack = [];\n        editor.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.CAN_REDO_COMMAND, false);\n      }\n      if (current !== null) {\n        undoStack.push({\n          ...current\n        });\n        editor.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.CAN_UNDO_COMMAND, true);\n      }\n    } else if (mergeAction === DISCARD_HISTORY_CANDIDATE) {\n      return;\n    }\n\n    // Else we merge\n    historyState.current = {\n      editor,\n      editorState\n    };\n  };\n  const unregister = (0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.mergeRegister)(editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.UNDO_COMMAND, () => {\n    undo(editor, historyState);\n    return true;\n  }, lexical__WEBPACK_IMPORTED_MODULE_0__.COMMAND_PRIORITY_EDITOR), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.REDO_COMMAND, () => {\n    redo(editor, historyState);\n    return true;\n  }, lexical__WEBPACK_IMPORTED_MODULE_0__.COMMAND_PRIORITY_EDITOR), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.CLEAR_EDITOR_COMMAND, () => {\n    clearHistory(historyState);\n    return false;\n  }, lexical__WEBPACK_IMPORTED_MODULE_0__.COMMAND_PRIORITY_EDITOR), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.CLEAR_HISTORY_COMMAND, () => {\n    clearHistory(historyState);\n    editor.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.CAN_REDO_COMMAND, false);\n    editor.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.CAN_UNDO_COMMAND, false);\n    return true;\n  }, lexical__WEBPACK_IMPORTED_MODULE_0__.COMMAND_PRIORITY_EDITOR), editor.registerUpdateListener(applyChange));\n  return unregister;\n}\n\n/**\n * Creates an empty history state.\n * @returns - The empty history state, as an object.\n */\nfunction createEmptyHistoryState() {\n  return {\n    current: null,\n    redoStack: [],\n    undoStack: []\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGV4aWNhbC9oaXN0b3J5L0xleGljYWxIaXN0b3J5LmRldi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrQztBQUNnTjs7QUFFL1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsb0RBQVc7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sMERBQWlCLG9CQUFvQiwwREFBaUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRyxvREFBVztBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLG9EQUFXLG9CQUFvQixvREFBVztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwwREFBaUIsbUJBQW1CLDBEQUFpQjtBQUM5RSx5QkFBeUIsb0RBQVcsY0FBYyxvREFBVztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixpREFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxxREFBZ0I7QUFDekQsZ0ZBQWdGLHNEQUFpQjtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQWdCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxREFBZ0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGlEQUFZO0FBQ3pCLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQWdCO0FBQzdDO0FBQ0E7QUFDQSw2QkFBNkIscURBQWdCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxpREFBWTtBQUN6QixPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscURBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULCtCQUErQixxREFBZ0I7QUFDL0M7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQWEsd0JBQXdCLGlEQUFZO0FBQ3RFO0FBQ0E7QUFDQSxHQUFHLEVBQUUsNERBQXVCLDBCQUEwQixpREFBWTtBQUNsRTtBQUNBO0FBQ0EsR0FBRyxFQUFFLDREQUF1QiwwQkFBMEIseURBQW9CO0FBQzFFO0FBQ0E7QUFDQSxHQUFHLEVBQUUsNERBQXVCLDBCQUEwQiwwREFBcUI7QUFDM0U7QUFDQSwyQkFBMkIscURBQWdCO0FBQzNDLDJCQUEyQixxREFBZ0I7QUFDM0M7QUFDQSxHQUFHLEVBQUUsNERBQXVCO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFb0QiLCJzb3VyY2VzIjpbIkQ6XFxXT1JLXFxwcm9qZWN0c1xccGF5bG9hZC10XFxub2RlX21vZHVsZXNcXEBsZXhpY2FsXFxoaXN0b3J5XFxMZXhpY2FsSGlzdG9yeS5kZXYubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuaW1wb3J0IHsgbWVyZ2VSZWdpc3RlciB9IGZyb20gJ0BsZXhpY2FsL3V0aWxzJztcbmltcG9ydCB7IFVORE9fQ09NTUFORCwgQ09NTUFORF9QUklPUklUWV9FRElUT1IsIFJFRE9fQ09NTUFORCwgQ0xFQVJfRURJVE9SX0NPTU1BTkQsIENMRUFSX0hJU1RPUllfQ09NTUFORCwgQ0FOX1JFRE9fQ09NTUFORCwgQ0FOX1VORE9fQ09NTUFORCwgSElTVE9SSUNfVEFHLCBISVNUT1JZX1BVU0hfVEFHLCBISVNUT1JZX01FUkdFX1RBRywgJGlzUmFuZ2VTZWxlY3Rpb24sICRpc1RleHROb2RlLCAkaXNSb290Tm9kZSB9IGZyb20gJ2xleGljYWwnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmNvbnN0IEhJU1RPUllfTUVSR0UgPSAwO1xuY29uc3QgSElTVE9SWV9QVVNIID0gMTtcbmNvbnN0IERJU0NBUkRfSElTVE9SWV9DQU5ESURBVEUgPSAyO1xuY29uc3QgT1RIRVIgPSAwO1xuY29uc3QgQ09NUE9TSU5HX0NIQVJBQ1RFUiA9IDE7XG5jb25zdCBJTlNFUlRfQ0hBUkFDVEVSX0FGVEVSX1NFTEVDVElPTiA9IDI7XG5jb25zdCBERUxFVEVfQ0hBUkFDVEVSX0JFRk9SRV9TRUxFQ1RJT04gPSAzO1xuY29uc3QgREVMRVRFX0NIQVJBQ1RFUl9BRlRFUl9TRUxFQ1RJT04gPSA0O1xuZnVuY3Rpb24gZ2V0RGlydHlOb2RlcyhlZGl0b3JTdGF0ZSwgZGlydHlMZWF2ZXMsIGRpcnR5RWxlbWVudHMpIHtcbiAgY29uc3Qgbm9kZU1hcCA9IGVkaXRvclN0YXRlLl9ub2RlTWFwO1xuICBjb25zdCBub2RlcyA9IFtdO1xuICBmb3IgKGNvbnN0IGRpcnR5TGVhZktleSBvZiBkaXJ0eUxlYXZlcykge1xuICAgIGNvbnN0IGRpcnR5TGVhZiA9IG5vZGVNYXAuZ2V0KGRpcnR5TGVhZktleSk7XG4gICAgaWYgKGRpcnR5TGVhZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBub2Rlcy5wdXNoKGRpcnR5TGVhZik7XG4gICAgfVxuICB9XG4gIGZvciAoY29uc3QgW2RpcnR5RWxlbWVudEtleSwgaW50ZW50aW9uYWxseU1hcmtlZEFzRGlydHldIG9mIGRpcnR5RWxlbWVudHMpIHtcbiAgICBpZiAoIWludGVudGlvbmFsbHlNYXJrZWRBc0RpcnR5KSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgZGlydHlFbGVtZW50ID0gbm9kZU1hcC5nZXQoZGlydHlFbGVtZW50S2V5KTtcbiAgICBpZiAoZGlydHlFbGVtZW50ICE9PSB1bmRlZmluZWQgJiYgISRpc1Jvb3ROb2RlKGRpcnR5RWxlbWVudCkpIHtcbiAgICAgIG5vZGVzLnB1c2goZGlydHlFbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vZGVzO1xufVxuZnVuY3Rpb24gZ2V0Q2hhbmdlVHlwZShwcmV2RWRpdG9yU3RhdGUsIG5leHRFZGl0b3JTdGF0ZSwgZGlydHlMZWF2ZXNTZXQsIGRpcnR5RWxlbWVudHNTZXQsIGlzQ29tcG9zaW5nKSB7XG4gIGlmIChwcmV2RWRpdG9yU3RhdGUgPT09IG51bGwgfHwgZGlydHlMZWF2ZXNTZXQuc2l6ZSA9PT0gMCAmJiBkaXJ0eUVsZW1lbnRzU2V0LnNpemUgPT09IDAgJiYgIWlzQ29tcG9zaW5nKSB7XG4gICAgcmV0dXJuIE9USEVSO1xuICB9XG4gIGNvbnN0IG5leHRTZWxlY3Rpb24gPSBuZXh0RWRpdG9yU3RhdGUuX3NlbGVjdGlvbjtcbiAgY29uc3QgcHJldlNlbGVjdGlvbiA9IHByZXZFZGl0b3JTdGF0ZS5fc2VsZWN0aW9uO1xuICBpZiAoaXNDb21wb3NpbmcpIHtcbiAgICByZXR1cm4gQ09NUE9TSU5HX0NIQVJBQ1RFUjtcbiAgfVxuICBpZiAoISRpc1JhbmdlU2VsZWN0aW9uKG5leHRTZWxlY3Rpb24pIHx8ICEkaXNSYW5nZVNlbGVjdGlvbihwcmV2U2VsZWN0aW9uKSB8fCAhcHJldlNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpIHx8ICFuZXh0U2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkpIHtcbiAgICByZXR1cm4gT1RIRVI7XG4gIH1cbiAgY29uc3QgZGlydHlOb2RlcyA9IGdldERpcnR5Tm9kZXMobmV4dEVkaXRvclN0YXRlLCBkaXJ0eUxlYXZlc1NldCwgZGlydHlFbGVtZW50c1NldCk7XG4gIGlmIChkaXJ0eU5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBPVEhFUjtcbiAgfVxuXG4gIC8vIENhdGNoaW5nIHRoZSBjYXNlIHdoZW4gaW5zZXJ0aW5nIG5ldyB0ZXh0IG5vZGUgaW50byBhbiBlbGVtZW50IChlLmcuIGZpcnN0IGNoYXIgaW4gcGFyYWdyYXBoL2xpc3QpLFxuICAvLyBvciBhZnRlciBleGlzdGluZyBub2RlLlxuICBpZiAoZGlydHlOb2Rlcy5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgbmV4dE5vZGVNYXAgPSBuZXh0RWRpdG9yU3RhdGUuX25vZGVNYXA7XG4gICAgY29uc3QgbmV4dEFuY2hvck5vZGUgPSBuZXh0Tm9kZU1hcC5nZXQobmV4dFNlbGVjdGlvbi5hbmNob3Iua2V5KTtcbiAgICBjb25zdCBwcmV2QW5jaG9yTm9kZSA9IG5leHROb2RlTWFwLmdldChwcmV2U2VsZWN0aW9uLmFuY2hvci5rZXkpO1xuICAgIGlmIChuZXh0QW5jaG9yTm9kZSAmJiBwcmV2QW5jaG9yTm9kZSAmJiAhcHJldkVkaXRvclN0YXRlLl9ub2RlTWFwLmhhcyhuZXh0QW5jaG9yTm9kZS5fX2tleSkgJiYgJGlzVGV4dE5vZGUobmV4dEFuY2hvck5vZGUpICYmIG5leHRBbmNob3JOb2RlLl9fdGV4dC5sZW5ndGggPT09IDEgJiYgbmV4dFNlbGVjdGlvbi5hbmNob3Iub2Zmc2V0ID09PSAxKSB7XG4gICAgICByZXR1cm4gSU5TRVJUX0NIQVJBQ1RFUl9BRlRFUl9TRUxFQ1RJT047XG4gICAgfVxuICAgIHJldHVybiBPVEhFUjtcbiAgfVxuICBjb25zdCBuZXh0RGlydHlOb2RlID0gZGlydHlOb2Rlc1swXTtcbiAgY29uc3QgcHJldkRpcnR5Tm9kZSA9IHByZXZFZGl0b3JTdGF0ZS5fbm9kZU1hcC5nZXQobmV4dERpcnR5Tm9kZS5fX2tleSk7XG4gIGlmICghJGlzVGV4dE5vZGUocHJldkRpcnR5Tm9kZSkgfHwgISRpc1RleHROb2RlKG5leHREaXJ0eU5vZGUpIHx8IHByZXZEaXJ0eU5vZGUuX19tb2RlICE9PSBuZXh0RGlydHlOb2RlLl9fbW9kZSkge1xuICAgIHJldHVybiBPVEhFUjtcbiAgfVxuICBjb25zdCBwcmV2VGV4dCA9IHByZXZEaXJ0eU5vZGUuX190ZXh0O1xuICBjb25zdCBuZXh0VGV4dCA9IG5leHREaXJ0eU5vZGUuX190ZXh0O1xuICBpZiAocHJldlRleHQgPT09IG5leHRUZXh0KSB7XG4gICAgcmV0dXJuIE9USEVSO1xuICB9XG4gIGNvbnN0IG5leHRBbmNob3IgPSBuZXh0U2VsZWN0aW9uLmFuY2hvcjtcbiAgY29uc3QgcHJldkFuY2hvciA9IHByZXZTZWxlY3Rpb24uYW5jaG9yO1xuICBpZiAobmV4dEFuY2hvci5rZXkgIT09IHByZXZBbmNob3Iua2V5IHx8IG5leHRBbmNob3IudHlwZSAhPT0gJ3RleHQnKSB7XG4gICAgcmV0dXJuIE9USEVSO1xuICB9XG4gIGNvbnN0IG5leHRBbmNob3JPZmZzZXQgPSBuZXh0QW5jaG9yLm9mZnNldDtcbiAgY29uc3QgcHJldkFuY2hvck9mZnNldCA9IHByZXZBbmNob3Iub2Zmc2V0O1xuICBjb25zdCB0ZXh0RGlmZiA9IG5leHRUZXh0Lmxlbmd0aCAtIHByZXZUZXh0Lmxlbmd0aDtcbiAgaWYgKHRleHREaWZmID09PSAxICYmIHByZXZBbmNob3JPZmZzZXQgPT09IG5leHRBbmNob3JPZmZzZXQgLSAxKSB7XG4gICAgcmV0dXJuIElOU0VSVF9DSEFSQUNURVJfQUZURVJfU0VMRUNUSU9OO1xuICB9XG4gIGlmICh0ZXh0RGlmZiA9PT0gLTEgJiYgcHJldkFuY2hvck9mZnNldCA9PT0gbmV4dEFuY2hvck9mZnNldCArIDEpIHtcbiAgICByZXR1cm4gREVMRVRFX0NIQVJBQ1RFUl9CRUZPUkVfU0VMRUNUSU9OO1xuICB9XG4gIGlmICh0ZXh0RGlmZiA9PT0gLTEgJiYgcHJldkFuY2hvck9mZnNldCA9PT0gbmV4dEFuY2hvck9mZnNldCkge1xuICAgIHJldHVybiBERUxFVEVfQ0hBUkFDVEVSX0FGVEVSX1NFTEVDVElPTjtcbiAgfVxuICByZXR1cm4gT1RIRVI7XG59XG5mdW5jdGlvbiBpc1RleHROb2RlVW5jaGFuZ2VkKGtleSwgcHJldkVkaXRvclN0YXRlLCBuZXh0RWRpdG9yU3RhdGUpIHtcbiAgY29uc3QgcHJldk5vZGUgPSBwcmV2RWRpdG9yU3RhdGUuX25vZGVNYXAuZ2V0KGtleSk7XG4gIGNvbnN0IG5leHROb2RlID0gbmV4dEVkaXRvclN0YXRlLl9ub2RlTWFwLmdldChrZXkpO1xuICBjb25zdCBwcmV2U2VsZWN0aW9uID0gcHJldkVkaXRvclN0YXRlLl9zZWxlY3Rpb247XG4gIGNvbnN0IG5leHRTZWxlY3Rpb24gPSBuZXh0RWRpdG9yU3RhdGUuX3NlbGVjdGlvbjtcbiAgY29uc3QgaXNEZWxldGluZ0xpbmUgPSAkaXNSYW5nZVNlbGVjdGlvbihwcmV2U2VsZWN0aW9uKSAmJiAkaXNSYW5nZVNlbGVjdGlvbihuZXh0U2VsZWN0aW9uKSAmJiBwcmV2U2VsZWN0aW9uLmFuY2hvci50eXBlID09PSAnZWxlbWVudCcgJiYgcHJldlNlbGVjdGlvbi5mb2N1cy50eXBlID09PSAnZWxlbWVudCcgJiYgbmV4dFNlbGVjdGlvbi5hbmNob3IudHlwZSA9PT0gJ3RleHQnICYmIG5leHRTZWxlY3Rpb24uZm9jdXMudHlwZSA9PT0gJ3RleHQnO1xuICBpZiAoIWlzRGVsZXRpbmdMaW5lICYmICRpc1RleHROb2RlKHByZXZOb2RlKSAmJiAkaXNUZXh0Tm9kZShuZXh0Tm9kZSkgJiYgcHJldk5vZGUuX19wYXJlbnQgPT09IG5leHROb2RlLl9fcGFyZW50KSB7XG4gICAgLy8gVGhpcyBoYXMgdGhlIGFzc3VtcHRpb24gdGhhdCBvYmplY3Qga2V5IG9yZGVyIHdvbid0IGNoYW5nZSBpZiB0aGVcbiAgICAvLyBjb250ZW50IGRpZCBub3QgY2hhbmdlLCB3aGljaCBzaG91bGQgbm9ybWFsbHkgYmUgc2FmZSBnaXZlblxuICAgIC8vIHRoZSBtYW5uZXIgaW4gd2hpY2ggbm9kZXMgYW5kIGV4cG9ydEpTT04gYXJlIHR5cGljYWxseSBpbXBsZW1lbnRlZC5cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocHJldkVkaXRvclN0YXRlLnJlYWQoKCkgPT4gcHJldk5vZGUuZXhwb3J0SlNPTigpKSkgPT09IEpTT04uc3RyaW5naWZ5KG5leHRFZGl0b3JTdGF0ZS5yZWFkKCgpID0+IG5leHROb2RlLmV4cG9ydEpTT04oKSkpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU1lcmdlQWN0aW9uR2V0dGVyKGVkaXRvciwgZGVsYXkpIHtcbiAgbGV0IHByZXZDaGFuZ2VUaW1lID0gRGF0ZS5ub3coKTtcbiAgbGV0IHByZXZDaGFuZ2VUeXBlID0gT1RIRVI7XG4gIHJldHVybiAocHJldkVkaXRvclN0YXRlLCBuZXh0RWRpdG9yU3RhdGUsIGN1cnJlbnRIaXN0b3J5RW50cnksIGRpcnR5TGVhdmVzLCBkaXJ0eUVsZW1lbnRzLCB0YWdzKSA9PiB7XG4gICAgY29uc3QgY2hhbmdlVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAvLyBJZiBhcHBseWluZyBjaGFuZ2VzIGZyb20gaGlzdG9yeSBzdGFjayB0aGVyZSdzIG5vIG5lZWRcbiAgICAvLyB0byBydW4gaGlzdG9yeSBsb2dpYyBhZ2FpbiwgYXMgaGlzdG9yeSBlbnRyaWVzIGFscmVhZHkgY2FsY3VsYXRlZFxuICAgIGlmICh0YWdzLmhhcyhISVNUT1JJQ19UQUcpKSB7XG4gICAgICBwcmV2Q2hhbmdlVHlwZSA9IE9USEVSO1xuICAgICAgcHJldkNoYW5nZVRpbWUgPSBjaGFuZ2VUaW1lO1xuICAgICAgcmV0dXJuIERJU0NBUkRfSElTVE9SWV9DQU5ESURBVEU7XG4gICAgfVxuICAgIGNvbnN0IGNoYW5nZVR5cGUgPSBnZXRDaGFuZ2VUeXBlKHByZXZFZGl0b3JTdGF0ZSwgbmV4dEVkaXRvclN0YXRlLCBkaXJ0eUxlYXZlcywgZGlydHlFbGVtZW50cywgZWRpdG9yLmlzQ29tcG9zaW5nKCkpO1xuICAgIGNvbnN0IG1lcmdlQWN0aW9uID0gKCgpID0+IHtcbiAgICAgIGNvbnN0IGlzU2FtZUVkaXRvciA9IGN1cnJlbnRIaXN0b3J5RW50cnkgPT09IG51bGwgfHwgY3VycmVudEhpc3RvcnlFbnRyeS5lZGl0b3IgPT09IGVkaXRvcjtcbiAgICAgIGNvbnN0IHNob3VsZFB1c2hIaXN0b3J5ID0gdGFncy5oYXMoSElTVE9SWV9QVVNIX1RBRyk7XG4gICAgICBjb25zdCBzaG91bGRNZXJnZUhpc3RvcnkgPSAhc2hvdWxkUHVzaEhpc3RvcnkgJiYgaXNTYW1lRWRpdG9yICYmIHRhZ3MuaGFzKEhJU1RPUllfTUVSR0VfVEFHKTtcbiAgICAgIGlmIChzaG91bGRNZXJnZUhpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIEhJU1RPUllfTUVSR0U7XG4gICAgICB9XG4gICAgICBpZiAocHJldkVkaXRvclN0YXRlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBISVNUT1JZX1BVU0g7XG4gICAgICB9XG4gICAgICBjb25zdCBzZWxlY3Rpb24gPSBuZXh0RWRpdG9yU3RhdGUuX3NlbGVjdGlvbjtcbiAgICAgIGNvbnN0IGhhc0RpcnR5Tm9kZXMgPSBkaXJ0eUxlYXZlcy5zaXplID4gMCB8fCBkaXJ0eUVsZW1lbnRzLnNpemUgPiAwO1xuICAgICAgaWYgKCFoYXNEaXJ0eU5vZGVzKSB7XG4gICAgICAgIGlmIChzZWxlY3Rpb24gIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gSElTVE9SWV9NRVJHRTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRElTQ0FSRF9ISVNUT1JZX0NBTkRJREFURTtcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRQdXNoSGlzdG9yeSA9PT0gZmFsc2UgJiYgY2hhbmdlVHlwZSAhPT0gT1RIRVIgJiYgY2hhbmdlVHlwZSA9PT0gcHJldkNoYW5nZVR5cGUgJiYgY2hhbmdlVGltZSA8IHByZXZDaGFuZ2VUaW1lICsgZGVsYXkgJiYgaXNTYW1lRWRpdG9yKSB7XG4gICAgICAgIHJldHVybiBISVNUT1JZX01FUkdFO1xuICAgICAgfVxuXG4gICAgICAvLyBBIHNpbmdsZSBub2RlIG1pZ2h0IGhhdmUgYmVlbiBtYXJrZWQgYXMgZGlydHksIGJ1dCBub3QgaGF2ZSBjaGFuZ2VkXG4gICAgICAvLyBkdWUgdG8gc29tZSBub2RlIHRyYW5zZm9ybSByZXZlcnRpbmcgdGhlIGNoYW5nZS5cbiAgICAgIGlmIChkaXJ0eUxlYXZlcy5zaXplID09PSAxKSB7XG4gICAgICAgIGNvbnN0IGRpcnR5TGVhZktleSA9IEFycmF5LmZyb20oZGlydHlMZWF2ZXMpWzBdO1xuICAgICAgICBpZiAoaXNUZXh0Tm9kZVVuY2hhbmdlZChkaXJ0eUxlYWZLZXksIHByZXZFZGl0b3JTdGF0ZSwgbmV4dEVkaXRvclN0YXRlKSkge1xuICAgICAgICAgIHJldHVybiBISVNUT1JZX01FUkdFO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gSElTVE9SWV9QVVNIO1xuICAgIH0pKCk7XG4gICAgcHJldkNoYW5nZVRpbWUgPSBjaGFuZ2VUaW1lO1xuICAgIHByZXZDaGFuZ2VUeXBlID0gY2hhbmdlVHlwZTtcbiAgICByZXR1cm4gbWVyZ2VBY3Rpb247XG4gIH07XG59XG5mdW5jdGlvbiByZWRvKGVkaXRvciwgaGlzdG9yeVN0YXRlKSB7XG4gIGNvbnN0IHJlZG9TdGFjayA9IGhpc3RvcnlTdGF0ZS5yZWRvU3RhY2s7XG4gIGNvbnN0IHVuZG9TdGFjayA9IGhpc3RvcnlTdGF0ZS51bmRvU3RhY2s7XG4gIGlmIChyZWRvU3RhY2subGVuZ3RoICE9PSAwKSB7XG4gICAgY29uc3QgY3VycmVudCA9IGhpc3RvcnlTdGF0ZS5jdXJyZW50O1xuICAgIGlmIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICB1bmRvU3RhY2sucHVzaChjdXJyZW50KTtcbiAgICAgIGVkaXRvci5kaXNwYXRjaENvbW1hbmQoQ0FOX1VORE9fQ09NTUFORCwgdHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGhpc3RvcnlTdGF0ZUVudHJ5ID0gcmVkb1N0YWNrLnBvcCgpO1xuICAgIGlmIChyZWRvU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICBlZGl0b3IuZGlzcGF0Y2hDb21tYW5kKENBTl9SRURPX0NPTU1BTkQsIGZhbHNlKTtcbiAgICB9XG4gICAgaGlzdG9yeVN0YXRlLmN1cnJlbnQgPSBoaXN0b3J5U3RhdGVFbnRyeSB8fCBudWxsO1xuICAgIGlmIChoaXN0b3J5U3RhdGVFbnRyeSkge1xuICAgICAgaGlzdG9yeVN0YXRlRW50cnkuZWRpdG9yLnNldEVkaXRvclN0YXRlKGhpc3RvcnlTdGF0ZUVudHJ5LmVkaXRvclN0YXRlLCB7XG4gICAgICAgIHRhZzogSElTVE9SSUNfVEFHXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHVuZG8oZWRpdG9yLCBoaXN0b3J5U3RhdGUpIHtcbiAgY29uc3QgcmVkb1N0YWNrID0gaGlzdG9yeVN0YXRlLnJlZG9TdGFjaztcbiAgY29uc3QgdW5kb1N0YWNrID0gaGlzdG9yeVN0YXRlLnVuZG9TdGFjaztcbiAgY29uc3QgdW5kb1N0YWNrTGVuZ3RoID0gdW5kb1N0YWNrLmxlbmd0aDtcbiAgaWYgKHVuZG9TdGFja0xlbmd0aCAhPT0gMCkge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBoaXN0b3J5U3RhdGUuY3VycmVudDtcbiAgICBjb25zdCBoaXN0b3J5U3RhdGVFbnRyeSA9IHVuZG9TdGFjay5wb3AoKTtcbiAgICBpZiAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgcmVkb1N0YWNrLnB1c2goY3VycmVudCk7XG4gICAgICBlZGl0b3IuZGlzcGF0Y2hDb21tYW5kKENBTl9SRURPX0NPTU1BTkQsIHRydWUpO1xuICAgIH1cbiAgICBpZiAodW5kb1N0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZWRpdG9yLmRpc3BhdGNoQ29tbWFuZChDQU5fVU5ET19DT01NQU5ELCBmYWxzZSk7XG4gICAgfVxuICAgIGhpc3RvcnlTdGF0ZS5jdXJyZW50ID0gaGlzdG9yeVN0YXRlRW50cnkgfHwgbnVsbDtcbiAgICBpZiAoaGlzdG9yeVN0YXRlRW50cnkpIHtcbiAgICAgIGhpc3RvcnlTdGF0ZUVudHJ5LmVkaXRvci5zZXRFZGl0b3JTdGF0ZShoaXN0b3J5U3RhdGVFbnRyeS5lZGl0b3JTdGF0ZSwge1xuICAgICAgICB0YWc6IEhJU1RPUklDX1RBR1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjbGVhckhpc3RvcnkoaGlzdG9yeVN0YXRlKSB7XG4gIGhpc3RvcnlTdGF0ZS51bmRvU3RhY2sgPSBbXTtcbiAgaGlzdG9yeVN0YXRlLnJlZG9TdGFjayA9IFtdO1xuICBoaXN0b3J5U3RhdGUuY3VycmVudCA9IG51bGw7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIG5lY2Vzc2FyeSBsaXN0ZW5lcnMgdG8gbWFuYWdlIHVuZG8vcmVkbyBoaXN0b3J5IHN0YWNrIGFuZCByZWxhdGVkIGVkaXRvciBjb21tYW5kcy5cbiAqIEl0IHJldHVybnMgYHVucmVnaXN0ZXJgIGNhbGxiYWNrIHRoYXQgY2xlYW5zIHVwIGFsbCBsaXN0ZW5lcnMgYW5kIHNob3VsZCBiZSBjYWxsZWQgb24gZWRpdG9yIHVubW91bnQuXG4gKiBAcGFyYW0gZWRpdG9yIC0gVGhlIGxleGljYWwgZWRpdG9yLlxuICogQHBhcmFtIGhpc3RvcnlTdGF0ZSAtIFRoZSBoaXN0b3J5IHN0YXRlLCBjb250YWluaW5nIHRoZSBjdXJyZW50IHN0YXRlIGFuZCB0aGUgdW5kby9yZWRvIHN0YWNrLlxuICogQHBhcmFtIGRlbGF5IC0gVGhlIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdGhlIGVkaXRvciBzaG91bGQgZGVsYXkgZ2VuZXJhdGluZyBhIG5ldyBoaXN0b3J5IHN0YWNrLFxuICogaW5zdGVhZCBvZiBtZXJnaW5nIHRoZSBjdXJyZW50IGNoYW5nZXMgd2l0aCB0aGUgY3VycmVudCBzdGFjay5cbiAqIEByZXR1cm5zIFRoZSBsaXN0ZW5lcnMgY2xlYW51cCBjYWxsYmFjayBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJIaXN0b3J5KGVkaXRvciwgaGlzdG9yeVN0YXRlLCBkZWxheSkge1xuICBjb25zdCBnZXRNZXJnZUFjdGlvbiA9IGNyZWF0ZU1lcmdlQWN0aW9uR2V0dGVyKGVkaXRvciwgZGVsYXkpO1xuICBjb25zdCBhcHBseUNoYW5nZSA9ICh7XG4gICAgZWRpdG9yU3RhdGUsXG4gICAgcHJldkVkaXRvclN0YXRlLFxuICAgIGRpcnR5TGVhdmVzLFxuICAgIGRpcnR5RWxlbWVudHMsXG4gICAgdGFnc1xuICB9KSA9PiB7XG4gICAgY29uc3QgY3VycmVudCA9IGhpc3RvcnlTdGF0ZS5jdXJyZW50O1xuICAgIGNvbnN0IHJlZG9TdGFjayA9IGhpc3RvcnlTdGF0ZS5yZWRvU3RhY2s7XG4gICAgY29uc3QgdW5kb1N0YWNrID0gaGlzdG9yeVN0YXRlLnVuZG9TdGFjaztcbiAgICBjb25zdCBjdXJyZW50RWRpdG9yU3RhdGUgPSBjdXJyZW50ID09PSBudWxsID8gbnVsbCA6IGN1cnJlbnQuZWRpdG9yU3RhdGU7XG4gICAgaWYgKGN1cnJlbnQgIT09IG51bGwgJiYgZWRpdG9yU3RhdGUgPT09IGN1cnJlbnRFZGl0b3JTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtZXJnZUFjdGlvbiA9IGdldE1lcmdlQWN0aW9uKHByZXZFZGl0b3JTdGF0ZSwgZWRpdG9yU3RhdGUsIGN1cnJlbnQsIGRpcnR5TGVhdmVzLCBkaXJ0eUVsZW1lbnRzLCB0YWdzKTtcbiAgICBpZiAobWVyZ2VBY3Rpb24gPT09IEhJU1RPUllfUFVTSCkge1xuICAgICAgaWYgKHJlZG9TdGFjay5sZW5ndGggIT09IDApIHtcbiAgICAgICAgaGlzdG9yeVN0YXRlLnJlZG9TdGFjayA9IFtdO1xuICAgICAgICBlZGl0b3IuZGlzcGF0Y2hDb21tYW5kKENBTl9SRURPX0NPTU1BTkQsIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHVuZG9TdGFjay5wdXNoKHtcbiAgICAgICAgICAuLi5jdXJyZW50XG4gICAgICAgIH0pO1xuICAgICAgICBlZGl0b3IuZGlzcGF0Y2hDb21tYW5kKENBTl9VTkRPX0NPTU1BTkQsIHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobWVyZ2VBY3Rpb24gPT09IERJU0NBUkRfSElTVE9SWV9DQU5ESURBVEUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBFbHNlIHdlIG1lcmdlXG4gICAgaGlzdG9yeVN0YXRlLmN1cnJlbnQgPSB7XG4gICAgICBlZGl0b3IsXG4gICAgICBlZGl0b3JTdGF0ZVxuICAgIH07XG4gIH07XG4gIGNvbnN0IHVucmVnaXN0ZXIgPSBtZXJnZVJlZ2lzdGVyKGVkaXRvci5yZWdpc3RlckNvbW1hbmQoVU5ET19DT01NQU5ELCAoKSA9PiB7XG4gICAgdW5kbyhlZGl0b3IsIGhpc3RvcnlTdGF0ZSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sIENPTU1BTkRfUFJJT1JJVFlfRURJVE9SKSwgZWRpdG9yLnJlZ2lzdGVyQ29tbWFuZChSRURPX0NPTU1BTkQsICgpID0+IHtcbiAgICByZWRvKGVkaXRvciwgaGlzdG9yeVN0YXRlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSwgQ09NTUFORF9QUklPUklUWV9FRElUT1IpLCBlZGl0b3IucmVnaXN0ZXJDb21tYW5kKENMRUFSX0VESVRPUl9DT01NQU5ELCAoKSA9PiB7XG4gICAgY2xlYXJIaXN0b3J5KGhpc3RvcnlTdGF0ZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LCBDT01NQU5EX1BSSU9SSVRZX0VESVRPUiksIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoQ0xFQVJfSElTVE9SWV9DT01NQU5ELCAoKSA9PiB7XG4gICAgY2xlYXJIaXN0b3J5KGhpc3RvcnlTdGF0ZSk7XG4gICAgZWRpdG9yLmRpc3BhdGNoQ29tbWFuZChDQU5fUkVET19DT01NQU5ELCBmYWxzZSk7XG4gICAgZWRpdG9yLmRpc3BhdGNoQ29tbWFuZChDQU5fVU5ET19DT01NQU5ELCBmYWxzZSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sIENPTU1BTkRfUFJJT1JJVFlfRURJVE9SKSwgZWRpdG9yLnJlZ2lzdGVyVXBkYXRlTGlzdGVuZXIoYXBwbHlDaGFuZ2UpKTtcbiAgcmV0dXJuIHVucmVnaXN0ZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBlbXB0eSBoaXN0b3J5IHN0YXRlLlxuICogQHJldHVybnMgLSBUaGUgZW1wdHkgaGlzdG9yeSBzdGF0ZSwgYXMgYW4gb2JqZWN0LlxuICovXG5mdW5jdGlvbiBjcmVhdGVFbXB0eUhpc3RvcnlTdGF0ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICBjdXJyZW50OiBudWxsLFxuICAgIHJlZG9TdGFjazogW10sXG4gICAgdW5kb1N0YWNrOiBbXVxuICB9O1xufVxuXG5leHBvcnQgeyBjcmVhdGVFbXB0eUhpc3RvcnlTdGF0ZSwgcmVnaXN0ZXJIaXN0b3J5IH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@lexical/history/LexicalHistory.dev.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@lexical/react/LexicalComposer.dev.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@lexical/react/LexicalComposer.dev.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LexicalComposer: () => (/* binding */ LexicalComposer)\n/* harmony export */ });\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lexical/react/LexicalComposerContext */ \"(app-pages-browser)/./node_modules/@lexical/react/LexicalComposerContext.dev.mjs\");\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lexical */ \"(app-pages-browser)/./node_modules/lexical/Lexical.dev.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\n\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nconst CAN_USE_DOM = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined';\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n// This workaround is no longer necessary in React 19,\n// but we currently support React >=17.x\n// https://github.com/facebook/react/pull/26395\nconst useLayoutEffectImpl = CAN_USE_DOM ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nconst HISTORY_MERGE_OPTIONS = {\n  tag: lexical__WEBPACK_IMPORTED_MODULE_2__.HISTORY_MERGE_TAG\n};\nfunction LexicalComposer({\n  initialConfig,\n  children\n}) {\n  const composerContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const {\n      theme,\n      namespace,\n      nodes,\n      onError,\n      editorState: initialEditorState,\n      html\n    } = initialConfig;\n    const context = (0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__.createLexicalComposerContext)(null, theme);\n    const editor = (0,lexical__WEBPACK_IMPORTED_MODULE_2__.createEditor)({\n      editable: initialConfig.editable,\n      html,\n      namespace,\n      nodes,\n      onError: error => onError(error, editor),\n      theme\n    });\n    initializeEditor(editor, initialEditorState);\n    return [editor, context];\n  },\n  // We only do this for init\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  useLayoutEffectImpl(() => {\n    const isEditable = initialConfig.editable;\n    const [editor] = composerContext;\n    editor.setEditable(isEditable !== undefined ? isEditable : true);\n\n    // We only do this for init\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__.LexicalComposerContext.Provider, {\n    value: composerContext,\n    children: children\n  });\n}\nfunction initializeEditor(editor, initialEditorState) {\n  if (initialEditorState === null) {\n    return;\n  } else if (initialEditorState === undefined) {\n    editor.update(() => {\n      const root = (0,lexical__WEBPACK_IMPORTED_MODULE_2__.$getRoot)();\n      if (root.isEmpty()) {\n        const paragraph = (0,lexical__WEBPACK_IMPORTED_MODULE_2__.$createParagraphNode)();\n        root.append(paragraph);\n        const activeElement = CAN_USE_DOM ? document.activeElement : null;\n        if ((0,lexical__WEBPACK_IMPORTED_MODULE_2__.$getSelection)() !== null || activeElement !== null && activeElement === editor.getRootElement()) {\n          paragraph.select();\n        }\n      }\n    }, HISTORY_MERGE_OPTIONS);\n  } else if (initialEditorState !== null) {\n    switch (typeof initialEditorState) {\n      case 'string':\n        {\n          const parsedEditorState = editor.parseEditorState(initialEditorState);\n          editor.setEditorState(parsedEditorState, HISTORY_MERGE_OPTIONS);\n          break;\n        }\n      case 'object':\n        {\n          editor.setEditorState(initialEditorState, HISTORY_MERGE_OPTIONS);\n          break;\n        }\n      case 'function':\n        {\n          editor.update(() => {\n            const root = (0,lexical__WEBPACK_IMPORTED_MODULE_2__.$getRoot)();\n            if (root.isEmpty()) {\n              initialEditorState(editor);\n            }\n          }, HISTORY_MERGE_OPTIONS);\n          break;\n        }\n    }\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGV4aWNhbC9yZWFjdC9MZXhpY2FsQ29tcG9zZXIuZGV2Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU2RztBQUNKO0FBQzdDO0FBQ3BCOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGtEQUFlLEdBQUcsNENBQVM7O0FBRXJFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyxzREFBaUI7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsMEJBQTBCLDhDQUFPO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLG9CQUFvQixtR0FBNEI7QUFDaEQsbUJBQW1CLHFEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLHNEQUFHLENBQUMseUZBQXNCO0FBQ2hEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxtQkFBbUIsaURBQVE7QUFDM0I7QUFDQSwwQkFBMEIsNkRBQW9CO0FBQzlDO0FBQ0E7QUFDQSxZQUFZLHNEQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlEQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUyQiIsInNvdXJjZXMiOlsiRDpcXFdPUktcXHByb2plY3RzXFxwYXlsb2FkLXRcXG5vZGVfbW9kdWxlc1xcQGxleGljYWxcXHJlYWN0XFxMZXhpY2FsQ29tcG9zZXIuZGV2Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmltcG9ydCB7IGNyZWF0ZUxleGljYWxDb21wb3NlckNvbnRleHQsIExleGljYWxDb21wb3NlckNvbnRleHQgfSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsQ29tcG9zZXJDb250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZUVkaXRvciwgJGdldFJvb3QsICRjcmVhdGVQYXJhZ3JhcGhOb2RlLCAkZ2V0U2VsZWN0aW9uLCBISVNUT1JZX01FUkdFX1RBRyB9IGZyb20gJ2xleGljYWwnO1xuaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0LCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuY29uc3QgQ0FOX1VTRV9ET00gPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cblxuLy8gVGhpcyB3b3JrYXJvdW5kIGlzIG5vIGxvbmdlciBuZWNlc3NhcnkgaW4gUmVhY3QgMTksXG4vLyBidXQgd2UgY3VycmVudGx5IHN1cHBvcnQgUmVhY3QgPj0xNy54XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yNjM5NVxuY29uc3QgdXNlTGF5b3V0RWZmZWN0SW1wbCA9IENBTl9VU0VfRE9NID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0O1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmNvbnN0IEhJU1RPUllfTUVSR0VfT1BUSU9OUyA9IHtcbiAgdGFnOiBISVNUT1JZX01FUkdFX1RBR1xufTtcbmZ1bmN0aW9uIExleGljYWxDb21wb3Nlcih7XG4gIGluaXRpYWxDb25maWcsXG4gIGNoaWxkcmVuXG59KSB7XG4gIGNvbnN0IGNvbXBvc2VyQ29udGV4dCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHRoZW1lLFxuICAgICAgbmFtZXNwYWNlLFxuICAgICAgbm9kZXMsXG4gICAgICBvbkVycm9yLFxuICAgICAgZWRpdG9yU3RhdGU6IGluaXRpYWxFZGl0b3JTdGF0ZSxcbiAgICAgIGh0bWxcbiAgICB9ID0gaW5pdGlhbENvbmZpZztcbiAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlTGV4aWNhbENvbXBvc2VyQ29udGV4dChudWxsLCB0aGVtZSk7XG4gICAgY29uc3QgZWRpdG9yID0gY3JlYXRlRWRpdG9yKHtcbiAgICAgIGVkaXRhYmxlOiBpbml0aWFsQ29uZmlnLmVkaXRhYmxlLFxuICAgICAgaHRtbCxcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIG5vZGVzLFxuICAgICAgb25FcnJvcjogZXJyb3IgPT4gb25FcnJvcihlcnJvciwgZWRpdG9yKSxcbiAgICAgIHRoZW1lXG4gICAgfSk7XG4gICAgaW5pdGlhbGl6ZUVkaXRvcihlZGl0b3IsIGluaXRpYWxFZGl0b3JTdGF0ZSk7XG4gICAgcmV0dXJuIFtlZGl0b3IsIGNvbnRleHRdO1xuICB9LFxuICAvLyBXZSBvbmx5IGRvIHRoaXMgZm9yIGluaXRcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBbXSk7XG4gIHVzZUxheW91dEVmZmVjdEltcGwoKCkgPT4ge1xuICAgIGNvbnN0IGlzRWRpdGFibGUgPSBpbml0aWFsQ29uZmlnLmVkaXRhYmxlO1xuICAgIGNvbnN0IFtlZGl0b3JdID0gY29tcG9zZXJDb250ZXh0O1xuICAgIGVkaXRvci5zZXRFZGl0YWJsZShpc0VkaXRhYmxlICE9PSB1bmRlZmluZWQgPyBpc0VkaXRhYmxlIDogdHJ1ZSk7XG5cbiAgICAvLyBXZSBvbmx5IGRvIHRoaXMgZm9yIGluaXRcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9qc3goTGV4aWNhbENvbXBvc2VyQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBjb21wb3NlckNvbnRleHQsXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gIH0pO1xufVxuZnVuY3Rpb24gaW5pdGlhbGl6ZUVkaXRvcihlZGl0b3IsIGluaXRpYWxFZGl0b3JTdGF0ZSkge1xuICBpZiAoaW5pdGlhbEVkaXRvclN0YXRlID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKGluaXRpYWxFZGl0b3JTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZWRpdG9yLnVwZGF0ZSgoKSA9PiB7XG4gICAgICBjb25zdCByb290ID0gJGdldFJvb3QoKTtcbiAgICAgIGlmIChyb290LmlzRW1wdHkoKSkge1xuICAgICAgICBjb25zdCBwYXJhZ3JhcGggPSAkY3JlYXRlUGFyYWdyYXBoTm9kZSgpO1xuICAgICAgICByb290LmFwcGVuZChwYXJhZ3JhcGgpO1xuICAgICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gQ0FOX1VTRV9ET00gPyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IDogbnVsbDtcbiAgICAgICAgaWYgKCRnZXRTZWxlY3Rpb24oKSAhPT0gbnVsbCB8fCBhY3RpdmVFbGVtZW50ICE9PSBudWxsICYmIGFjdGl2ZUVsZW1lbnQgPT09IGVkaXRvci5nZXRSb290RWxlbWVudCgpKSB7XG4gICAgICAgICAgcGFyYWdyYXBoLnNlbGVjdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgSElTVE9SWV9NRVJHRV9PUFRJT05TKTtcbiAgfSBlbHNlIGlmIChpbml0aWFsRWRpdG9yU3RhdGUgIT09IG51bGwpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBpbml0aWFsRWRpdG9yU3RhdGUpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWRFZGl0b3JTdGF0ZSA9IGVkaXRvci5wYXJzZUVkaXRvclN0YXRlKGluaXRpYWxFZGl0b3JTdGF0ZSk7XG4gICAgICAgICAgZWRpdG9yLnNldEVkaXRvclN0YXRlKHBhcnNlZEVkaXRvclN0YXRlLCBISVNUT1JZX01FUkdFX09QVElPTlMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICB7XG4gICAgICAgICAgZWRpdG9yLnNldEVkaXRvclN0YXRlKGluaXRpYWxFZGl0b3JTdGF0ZSwgSElTVE9SWV9NRVJHRV9PUFRJT05TKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICB7XG4gICAgICAgICAgZWRpdG9yLnVwZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByb290ID0gJGdldFJvb3QoKTtcbiAgICAgICAgICAgIGlmIChyb290LmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICBpbml0aWFsRWRpdG9yU3RhdGUoZWRpdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBISVNUT1JZX01FUkdFX09QVElPTlMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IExleGljYWxDb21wb3NlciB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@lexical/react/LexicalComposer.dev.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@lexical/react/LexicalContentEditable.dev.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@lexical/react/LexicalContentEditable.dev.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContentEditable: () => (/* binding */ ContentEditable),\n/* harmony export */   ContentEditableElement: () => (/* binding */ ContentEditableElement)\n/* harmony export */ });\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lexical/react/LexicalComposerContext */ \"(app-pages-browser)/./node_modules/@lexical/react/LexicalComposerContext.dev.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var _lexical_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lexical/text */ \"(app-pages-browser)/./node_modules/@lexical/text/LexicalText.dev.mjs\");\n/* harmony import */ var _lexical_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lexical/utils */ \"(app-pages-browser)/./node_modules/@lexical/utils/LexicalUtils.dev.mjs\");\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\n\n\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nconst CAN_USE_DOM = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined';\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n// This workaround is no longer necessary in React 19,\n// but we currently support React >=17.x\n// https://github.com/facebook/react/pull/26395\nconst useLayoutEffectImpl = CAN_USE_DOM ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n// Source: https://github.com/gregberge/react-merge-refs/blob/main/src/index.tsx\n\nfunction mergeRefs(...refs) {\n  return value => {\n    refs.forEach(ref => {\n      if (typeof ref === 'function') {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction ContentEditableElementImpl({\n  editor,\n  ariaActiveDescendant,\n  ariaAutoComplete,\n  ariaControls,\n  ariaDescribedBy,\n  ariaErrorMessage,\n  ariaExpanded,\n  ariaInvalid,\n  ariaLabel,\n  ariaLabelledBy,\n  ariaMultiline,\n  ariaOwns,\n  ariaRequired,\n  autoCapitalize,\n  className,\n  id,\n  role = 'textbox',\n  spellCheck = true,\n  style,\n  tabIndex,\n  'data-testid': testid,\n  ...rest\n}, ref) {\n  const [isEditable, setEditable] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(editor.isEditable());\n  const handleRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(rootElement => {\n    // defaultView is required for a root element.\n    // In multi-window setups, the defaultView may not exist at certain points.\n    if (rootElement && rootElement.ownerDocument && rootElement.ownerDocument.defaultView) {\n      editor.setRootElement(rootElement);\n    } else {\n      editor.setRootElement(null);\n    }\n  }, [editor]);\n  const mergedRefs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => mergeRefs(ref, handleRef), [handleRef, ref]);\n  useLayoutEffectImpl(() => {\n    setEditable(editor.isEditable());\n    return editor.registerEditableListener(currentIsEditable => {\n      setEditable(currentIsEditable);\n    });\n  }, [editor]);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    \"aria-activedescendant\": isEditable ? ariaActiveDescendant : undefined,\n    \"aria-autocomplete\": isEditable ? ariaAutoComplete : 'none',\n    \"aria-controls\": isEditable ? ariaControls : undefined,\n    \"aria-describedby\": ariaDescribedBy\n    // for compat, only override aria-errormessage if ariaErrorMessage is defined\n    ,\n    ...(ariaErrorMessage != null ? {\n      'aria-errormessage': ariaErrorMessage\n    } : {}),\n    \"aria-expanded\": isEditable && role === 'combobox' ? !!ariaExpanded : undefined\n    // for compat, only override aria-invalid if ariaInvalid is defined\n    ,\n    ...(ariaInvalid != null ? {\n      'aria-invalid': ariaInvalid\n    } : {}),\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledBy,\n    \"aria-multiline\": ariaMultiline,\n    \"aria-owns\": isEditable ? ariaOwns : undefined,\n    \"aria-readonly\": isEditable ? undefined : true,\n    \"aria-required\": ariaRequired,\n    autoCapitalize: autoCapitalize,\n    className: className,\n    contentEditable: isEditable,\n    \"data-testid\": testid,\n    id: id,\n    ref: mergedRefs,\n    role: role,\n    spellCheck: spellCheck,\n    style: style,\n    tabIndex: tabIndex,\n    ...rest\n  });\n}\nconst ContentEditableElement = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(ContentEditableElementImpl);\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction canShowPlaceholderFromCurrentEditorState(editor) {\n  const currentCanShowPlaceholder = editor.getEditorState().read((0,_lexical_text__WEBPACK_IMPORTED_MODULE_2__.$canShowPlaceholderCurry)(editor.isComposing()));\n  return currentCanShowPlaceholder;\n}\nfunction useCanShowPlaceholder(editor) {\n  const [canShowPlaceholder, setCanShowPlaceholder] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => canShowPlaceholderFromCurrentEditorState(editor));\n  useLayoutEffectImpl(() => {\n    function resetCanShowPlaceholder() {\n      const currentCanShowPlaceholder = canShowPlaceholderFromCurrentEditorState(editor);\n      setCanShowPlaceholder(currentCanShowPlaceholder);\n    }\n    resetCanShowPlaceholder();\n    return (0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRegister)(editor.registerUpdateListener(() => {\n      resetCanShowPlaceholder();\n    }), editor.registerEditableListener(() => {\n      resetCanShowPlaceholder();\n    }));\n  }, [editor]);\n  return canShowPlaceholder;\n}\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n/**\n * @deprecated This type has been renamed to `ContentEditableProps` to provide a clearer and more descriptive name.\n * For backward compatibility, this type is still exported as `Props`, but it is recommended to migrate to using `ContentEditableProps` instead.\n *\n * @note This alias is maintained for compatibility purposes but may be removed in future versions.\n * Please update your codebase to use `ContentEditableProps` to ensure long-term maintainability.\n */\n\nconst ContentEditable = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(ContentEditableImpl);\nfunction ContentEditableImpl(props, ref) {\n  const {\n    placeholder,\n    ...rest\n  } = props;\n  const [editor] = (0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_4__.useLexicalComposerContext)();\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ContentEditableElement, {\n      editor: editor,\n      ...rest,\n      ref: ref\n    }), placeholder != null && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Placeholder, {\n      editor: editor,\n      content: placeholder\n    })]\n  });\n}\nfunction Placeholder({\n  content,\n  editor\n}) {\n  const showPlaceholder = useCanShowPlaceholder(editor);\n  const [isEditable, setEditable] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(editor.isEditable());\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {\n    setEditable(editor.isEditable());\n    return editor.registerEditableListener(currentIsEditable => {\n      setEditable(currentIsEditable);\n    });\n  }, [editor]);\n  if (!showPlaceholder) {\n    return null;\n  }\n  let placeholder = null;\n  if (typeof content === 'function') {\n    placeholder = content(isEditable);\n  } else if (content !== null) {\n    placeholder = content;\n  }\n  if (placeholder === null) {\n    return null;\n  }\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    \"aria-hidden\": true,\n    children: placeholder\n  });\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGV4aWNhbC9yZWFjdC9MZXhpY2FsQ29udGVudEVkaXRhYmxlLmRldi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVrRjtBQUNhO0FBQ3ZDO0FBQ0M7QUFDVjs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxrREFBZSxHQUFHLDRDQUFTOztBQUVyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsb0NBQW9DLCtDQUFRO0FBQzVDLG9CQUFvQixrREFBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNILHFCQUFxQiw4Q0FBTztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsc0JBQXNCLHNEQUFHO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLElBQUk7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxJQUFJO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDRDQUE0QyxpREFBVTs7QUFFdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpRUFBaUUsdUVBQXdCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCwrQ0FBUTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZEQUFhO0FBQ3hCO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUMsaURBQVU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osbUJBQW1CLGdHQUF5QjtBQUM1QyxzQkFBc0IsdURBQUksQ0FBQyx1REFBUTtBQUNuQyw0QkFBNEIsc0RBQUc7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsS0FBSyx1Q0FBdUMsc0RBQUc7QUFDL0M7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxvQ0FBb0MsK0NBQVE7QUFDNUMsRUFBRSxzREFBZTtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFHO0FBQ3pCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRW1EIiwic291cmNlcyI6WyJEOlxcV09SS1xccHJvamVjdHNcXHBheWxvYWQtdFxcbm9kZV9tb2R1bGVzXFxAbGV4aWNhbFxccmVhY3RcXExleGljYWxDb250ZW50RWRpdGFibGUuZGV2Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmltcG9ydCB7IHVzZUxleGljYWxDb21wb3NlckNvbnRleHQgfSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsQ29tcG9zZXJDb250ZXh0JztcbmltcG9ydCB7IHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0LCBmb3J3YXJkUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3gsIGpzeHMsIEZyYWdtZW50IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgJGNhblNob3dQbGFjZWhvbGRlckN1cnJ5IH0gZnJvbSAnQGxleGljYWwvdGV4dCc7XG5pbXBvcnQgeyBtZXJnZVJlZ2lzdGVyIH0gZnJvbSAnQGxleGljYWwvdXRpbHMnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmNvbnN0IENBTl9VU0VfRE9NID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50ICE9PSAndW5kZWZpbmVkJztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5cbi8vIFRoaXMgd29ya2Fyb3VuZCBpcyBubyBsb25nZXIgbmVjZXNzYXJ5IGluIFJlYWN0IDE5LFxuLy8gYnV0IHdlIGN1cnJlbnRseSBzdXBwb3J0IFJlYWN0ID49MTcueFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMjYzOTVcbmNvbnN0IHVzZUxheW91dEVmZmVjdEltcGwgPSBDQU5fVVNFX0RPTSA/IHVzZUxheW91dEVmZmVjdCA6IHVzZUVmZmVjdDtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuLy8gU291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vZ3JlZ2JlcmdlL3JlYWN0LW1lcmdlLXJlZnMvYmxvYi9tYWluL3NyYy9pbmRleC50c3hcblxuZnVuY3Rpb24gbWVyZ2VSZWZzKC4uLnJlZnMpIHtcbiAgcmV0dXJuIHZhbHVlID0+IHtcbiAgICByZWZzLmZvckVhY2gocmVmID0+IHtcbiAgICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlZih2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuZnVuY3Rpb24gQ29udGVudEVkaXRhYmxlRWxlbWVudEltcGwoe1xuICBlZGl0b3IsXG4gIGFyaWFBY3RpdmVEZXNjZW5kYW50LFxuICBhcmlhQXV0b0NvbXBsZXRlLFxuICBhcmlhQ29udHJvbHMsXG4gIGFyaWFEZXNjcmliZWRCeSxcbiAgYXJpYUVycm9yTWVzc2FnZSxcbiAgYXJpYUV4cGFuZGVkLFxuICBhcmlhSW52YWxpZCxcbiAgYXJpYUxhYmVsLFxuICBhcmlhTGFiZWxsZWRCeSxcbiAgYXJpYU11bHRpbGluZSxcbiAgYXJpYU93bnMsXG4gIGFyaWFSZXF1aXJlZCxcbiAgYXV0b0NhcGl0YWxpemUsXG4gIGNsYXNzTmFtZSxcbiAgaWQsXG4gIHJvbGUgPSAndGV4dGJveCcsXG4gIHNwZWxsQ2hlY2sgPSB0cnVlLFxuICBzdHlsZSxcbiAgdGFiSW5kZXgsXG4gICdkYXRhLXRlc3RpZCc6IHRlc3RpZCxcbiAgLi4ucmVzdFxufSwgcmVmKSB7XG4gIGNvbnN0IFtpc0VkaXRhYmxlLCBzZXRFZGl0YWJsZV0gPSB1c2VTdGF0ZShlZGl0b3IuaXNFZGl0YWJsZSgpKTtcbiAgY29uc3QgaGFuZGxlUmVmID0gdXNlQ2FsbGJhY2socm9vdEVsZW1lbnQgPT4ge1xuICAgIC8vIGRlZmF1bHRWaWV3IGlzIHJlcXVpcmVkIGZvciBhIHJvb3QgZWxlbWVudC5cbiAgICAvLyBJbiBtdWx0aS13aW5kb3cgc2V0dXBzLCB0aGUgZGVmYXVsdFZpZXcgbWF5IG5vdCBleGlzdCBhdCBjZXJ0YWluIHBvaW50cy5cbiAgICBpZiAocm9vdEVsZW1lbnQgJiYgcm9vdEVsZW1lbnQub3duZXJEb2N1bWVudCAmJiByb290RWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSB7XG4gICAgICBlZGl0b3Iuc2V0Um9vdEVsZW1lbnQocm9vdEVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlZGl0b3Iuc2V0Um9vdEVsZW1lbnQobnVsbCk7XG4gICAgfVxuICB9LCBbZWRpdG9yXSk7XG4gIGNvbnN0IG1lcmdlZFJlZnMgPSB1c2VNZW1vKCgpID0+IG1lcmdlUmVmcyhyZWYsIGhhbmRsZVJlZiksIFtoYW5kbGVSZWYsIHJlZl0pO1xuICB1c2VMYXlvdXRFZmZlY3RJbXBsKCgpID0+IHtcbiAgICBzZXRFZGl0YWJsZShlZGl0b3IuaXNFZGl0YWJsZSgpKTtcbiAgICByZXR1cm4gZWRpdG9yLnJlZ2lzdGVyRWRpdGFibGVMaXN0ZW5lcihjdXJyZW50SXNFZGl0YWJsZSA9PiB7XG4gICAgICBzZXRFZGl0YWJsZShjdXJyZW50SXNFZGl0YWJsZSk7XG4gICAgfSk7XG4gIH0sIFtlZGl0b3JdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9qc3goXCJkaXZcIiwge1xuICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IGlzRWRpdGFibGUgPyBhcmlhQWN0aXZlRGVzY2VuZGFudCA6IHVuZGVmaW5lZCxcbiAgICBcImFyaWEtYXV0b2NvbXBsZXRlXCI6IGlzRWRpdGFibGUgPyBhcmlhQXV0b0NvbXBsZXRlIDogJ25vbmUnLFxuICAgIFwiYXJpYS1jb250cm9sc1wiOiBpc0VkaXRhYmxlID8gYXJpYUNvbnRyb2xzIDogdW5kZWZpbmVkLFxuICAgIFwiYXJpYS1kZXNjcmliZWRieVwiOiBhcmlhRGVzY3JpYmVkQnlcbiAgICAvLyBmb3IgY29tcGF0LCBvbmx5IG92ZXJyaWRlIGFyaWEtZXJyb3JtZXNzYWdlIGlmIGFyaWFFcnJvck1lc3NhZ2UgaXMgZGVmaW5lZFxuICAgICxcbiAgICAuLi4oYXJpYUVycm9yTWVzc2FnZSAhPSBudWxsID8ge1xuICAgICAgJ2FyaWEtZXJyb3JtZXNzYWdlJzogYXJpYUVycm9yTWVzc2FnZVxuICAgIH0gOiB7fSksXG4gICAgXCJhcmlhLWV4cGFuZGVkXCI6IGlzRWRpdGFibGUgJiYgcm9sZSA9PT0gJ2NvbWJvYm94JyA/ICEhYXJpYUV4cGFuZGVkIDogdW5kZWZpbmVkXG4gICAgLy8gZm9yIGNvbXBhdCwgb25seSBvdmVycmlkZSBhcmlhLWludmFsaWQgaWYgYXJpYUludmFsaWQgaXMgZGVmaW5lZFxuICAgICxcbiAgICAuLi4oYXJpYUludmFsaWQgIT0gbnVsbCA/IHtcbiAgICAgICdhcmlhLWludmFsaWQnOiBhcmlhSW52YWxpZFxuICAgIH0gOiB7fSksXG4gICAgXCJhcmlhLWxhYmVsXCI6IGFyaWFMYWJlbCxcbiAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBhcmlhTGFiZWxsZWRCeSxcbiAgICBcImFyaWEtbXVsdGlsaW5lXCI6IGFyaWFNdWx0aWxpbmUsXG4gICAgXCJhcmlhLW93bnNcIjogaXNFZGl0YWJsZSA/IGFyaWFPd25zIDogdW5kZWZpbmVkLFxuICAgIFwiYXJpYS1yZWFkb25seVwiOiBpc0VkaXRhYmxlID8gdW5kZWZpbmVkIDogdHJ1ZSxcbiAgICBcImFyaWEtcmVxdWlyZWRcIjogYXJpYVJlcXVpcmVkLFxuICAgIGF1dG9DYXBpdGFsaXplOiBhdXRvQ2FwaXRhbGl6ZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBjb250ZW50RWRpdGFibGU6IGlzRWRpdGFibGUsXG4gICAgXCJkYXRhLXRlc3RpZFwiOiB0ZXN0aWQsXG4gICAgaWQ6IGlkLFxuICAgIHJlZjogbWVyZ2VkUmVmcyxcbiAgICByb2xlOiByb2xlLFxuICAgIHNwZWxsQ2hlY2s6IHNwZWxsQ2hlY2ssXG4gICAgc3R5bGU6IHN0eWxlLFxuICAgIHRhYkluZGV4OiB0YWJJbmRleCxcbiAgICAuLi5yZXN0XG4gIH0pO1xufVxuY29uc3QgQ29udGVudEVkaXRhYmxlRWxlbWVudCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKENvbnRlbnRFZGl0YWJsZUVsZW1lbnRJbXBsKTtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5mdW5jdGlvbiBjYW5TaG93UGxhY2Vob2xkZXJGcm9tQ3VycmVudEVkaXRvclN0YXRlKGVkaXRvcikge1xuICBjb25zdCBjdXJyZW50Q2FuU2hvd1BsYWNlaG9sZGVyID0gZWRpdG9yLmdldEVkaXRvclN0YXRlKCkucmVhZCgkY2FuU2hvd1BsYWNlaG9sZGVyQ3VycnkoZWRpdG9yLmlzQ29tcG9zaW5nKCkpKTtcbiAgcmV0dXJuIGN1cnJlbnRDYW5TaG93UGxhY2Vob2xkZXI7XG59XG5mdW5jdGlvbiB1c2VDYW5TaG93UGxhY2Vob2xkZXIoZWRpdG9yKSB7XG4gIGNvbnN0IFtjYW5TaG93UGxhY2Vob2xkZXIsIHNldENhblNob3dQbGFjZWhvbGRlcl0gPSB1c2VTdGF0ZSgoKSA9PiBjYW5TaG93UGxhY2Vob2xkZXJGcm9tQ3VycmVudEVkaXRvclN0YXRlKGVkaXRvcikpO1xuICB1c2VMYXlvdXRFZmZlY3RJbXBsKCgpID0+IHtcbiAgICBmdW5jdGlvbiByZXNldENhblNob3dQbGFjZWhvbGRlcigpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRDYW5TaG93UGxhY2Vob2xkZXIgPSBjYW5TaG93UGxhY2Vob2xkZXJGcm9tQ3VycmVudEVkaXRvclN0YXRlKGVkaXRvcik7XG4gICAgICBzZXRDYW5TaG93UGxhY2Vob2xkZXIoY3VycmVudENhblNob3dQbGFjZWhvbGRlcik7XG4gICAgfVxuICAgIHJlc2V0Q2FuU2hvd1BsYWNlaG9sZGVyKCk7XG4gICAgcmV0dXJuIG1lcmdlUmVnaXN0ZXIoZWRpdG9yLnJlZ2lzdGVyVXBkYXRlTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgcmVzZXRDYW5TaG93UGxhY2Vob2xkZXIoKTtcbiAgICB9KSwgZWRpdG9yLnJlZ2lzdGVyRWRpdGFibGVMaXN0ZW5lcigoKSA9PiB7XG4gICAgICByZXNldENhblNob3dQbGFjZWhvbGRlcigpO1xuICAgIH0pKTtcbiAgfSwgW2VkaXRvcl0pO1xuICByZXR1cm4gY2FuU2hvd1BsYWNlaG9sZGVyO1xufVxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBUaGlzIHR5cGUgaGFzIGJlZW4gcmVuYW1lZCB0byBgQ29udGVudEVkaXRhYmxlUHJvcHNgIHRvIHByb3ZpZGUgYSBjbGVhcmVyIGFuZCBtb3JlIGRlc2NyaXB0aXZlIG5hbWUuXG4gKiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgdGhpcyB0eXBlIGlzIHN0aWxsIGV4cG9ydGVkIGFzIGBQcm9wc2AsIGJ1dCBpdCBpcyByZWNvbW1lbmRlZCB0byBtaWdyYXRlIHRvIHVzaW5nIGBDb250ZW50RWRpdGFibGVQcm9wc2AgaW5zdGVhZC5cbiAqXG4gKiBAbm90ZSBUaGlzIGFsaWFzIGlzIG1haW50YWluZWQgZm9yIGNvbXBhdGliaWxpdHkgcHVycG9zZXMgYnV0IG1heSBiZSByZW1vdmVkIGluIGZ1dHVyZSB2ZXJzaW9ucy5cbiAqIFBsZWFzZSB1cGRhdGUgeW91ciBjb2RlYmFzZSB0byB1c2UgYENvbnRlbnRFZGl0YWJsZVByb3BzYCB0byBlbnN1cmUgbG9uZy10ZXJtIG1haW50YWluYWJpbGl0eS5cbiAqL1xuXG5jb25zdCBDb250ZW50RWRpdGFibGUgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihDb250ZW50RWRpdGFibGVJbXBsKTtcbmZ1bmN0aW9uIENvbnRlbnRFZGl0YWJsZUltcGwocHJvcHMsIHJlZikge1xuICBjb25zdCB7XG4gICAgcGxhY2Vob2xkZXIsXG4gICAgLi4ucmVzdFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IFtlZGl0b3JdID0gdXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCgpO1xuICByZXR1cm4gLyojX19QVVJFX18qL2pzeHMoRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9qc3goQ29udGVudEVkaXRhYmxlRWxlbWVudCwge1xuICAgICAgZWRpdG9yOiBlZGl0b3IsXG4gICAgICAuLi5yZXN0LFxuICAgICAgcmVmOiByZWZcbiAgICB9KSwgcGxhY2Vob2xkZXIgIT0gbnVsbCAmJiAvKiNfX1BVUkVfXyovanN4KFBsYWNlaG9sZGVyLCB7XG4gICAgICBlZGl0b3I6IGVkaXRvcixcbiAgICAgIGNvbnRlbnQ6IHBsYWNlaG9sZGVyXG4gICAgfSldXG4gIH0pO1xufVxuZnVuY3Rpb24gUGxhY2Vob2xkZXIoe1xuICBjb250ZW50LFxuICBlZGl0b3Jcbn0pIHtcbiAgY29uc3Qgc2hvd1BsYWNlaG9sZGVyID0gdXNlQ2FuU2hvd1BsYWNlaG9sZGVyKGVkaXRvcik7XG4gIGNvbnN0IFtpc0VkaXRhYmxlLCBzZXRFZGl0YWJsZV0gPSB1c2VTdGF0ZShlZGl0b3IuaXNFZGl0YWJsZSgpKTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBzZXRFZGl0YWJsZShlZGl0b3IuaXNFZGl0YWJsZSgpKTtcbiAgICByZXR1cm4gZWRpdG9yLnJlZ2lzdGVyRWRpdGFibGVMaXN0ZW5lcihjdXJyZW50SXNFZGl0YWJsZSA9PiB7XG4gICAgICBzZXRFZGl0YWJsZShjdXJyZW50SXNFZGl0YWJsZSk7XG4gICAgfSk7XG4gIH0sIFtlZGl0b3JdKTtcbiAgaWYgKCFzaG93UGxhY2Vob2xkZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgcGxhY2Vob2xkZXIgPSBudWxsO1xuICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBwbGFjZWhvbGRlciA9IGNvbnRlbnQoaXNFZGl0YWJsZSk7XG4gIH0gZWxzZSBpZiAoY29udGVudCAhPT0gbnVsbCkge1xuICAgIHBsYWNlaG9sZGVyID0gY29udGVudDtcbiAgfVxuICBpZiAocGxhY2Vob2xkZXIgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyojX19QVVJFX18qL2pzeChcImRpdlwiLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlLFxuICAgIGNoaWxkcmVuOiBwbGFjZWhvbGRlclxuICB9KTtcbn1cblxuZXhwb3J0IHsgQ29udGVudEVkaXRhYmxlLCBDb250ZW50RWRpdGFibGVFbGVtZW50IH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@lexical/react/LexicalContentEditable.dev.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@lexical/react/LexicalErrorBoundary.dev.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@lexical/react/LexicalErrorBoundary.dev.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LexicalErrorBoundary: () => (/* binding */ LexicalErrorBoundary)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\n\nvar changedArray = function changedArray(a, b) {\n  if (a === void 0) {\n    a = [];\n  }\n\n  if (b === void 0) {\n    b = [];\n  }\n\n  return a.length !== b.length || a.some(function (item, index) {\n    return !Object.is(item, b[index]);\n  });\n};\n\nvar initialState = {\n  error: null\n};\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\n    _this.state = initialState;\n\n    _this.resetErrorBoundary = function () {\n      var _this$props;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _this.props.onReset == null ? void 0 : (_this$props = _this.props).onReset.apply(_this$props, args);\n\n      _this.reset();\n    };\n\n    return _this;\n  }\n\n  ErrorBoundary.getDerivedStateFromError = function getDerivedStateFromError(error) {\n    return {\n      error: error\n    };\n  };\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.reset = function reset() {\n    this.setState(initialState);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n\n    (_this$props$onError = (_this$props2 = this.props).onError) == null ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var error = this.state.error;\n    var resetKeys = this.props.resetKeys; // There's an edge case where if the thing that triggered the error\n    // happens to *also* be in the resetKeys array, we'd end up resetting\n    // the error boundary immediately. This would likely trigger a second\n    // error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call\n    // of cDU after the error is set\n\n    if (error !== null && prevState.error !== null && changedArray(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onResetKe, _this$props3;\n\n      (_this$props$onResetKe = (_this$props3 = this.props).onResetKeysChange) == null ? void 0 : _this$props$onResetKe.call(_this$props3, prevProps.resetKeys, resetKeys);\n      this.reset();\n    }\n  };\n\n  _proto.render = function render() {\n    var error = this.state.error;\n    var _this$props4 = this.props,\n        fallbackRender = _this$props4.fallbackRender,\n        FallbackComponent = _this$props4.FallbackComponent,\n        fallback = _this$props4.fallback;\n\n    if (error !== null) {\n      var _props = {\n        error: error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n\n      if ( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(fallback)) {\n        return fallback;\n      } else if (typeof fallbackRender === 'function') {\n        return fallbackRender(_props);\n      } else if (FallbackComponent) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(FallbackComponent, _props);\n      } else {\n        throw new Error('react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop');\n      }\n    }\n\n    return this.props.children;\n  };\n\n  return ErrorBoundary;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component);\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction LexicalErrorBoundary({\n  children,\n  onError\n}) {\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ErrorBoundary, {\n    fallback: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      style: {\n        border: '1px solid #f00',\n        color: '#f00',\n        padding: '8px'\n      },\n      children: \"An error was thrown.\"\n    }),\n    onError: onError,\n    children: children\n  });\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGV4aWNhbC9yZWFjdC9MZXhpY2FsRXJyb3JCb3VuZGFyeS5kZXYubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrQjtBQUNTOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUVBQXlFLGFBQWE7QUFDdEY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsNkVBQTZFLGVBQWU7QUFDNUY7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdCQUF3QixpREFBb0I7QUFDNUM7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1IsNEJBQTRCLGdEQUFtQjtBQUMvQyxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDLENBQUMsNENBQWU7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxzQkFBc0Isc0RBQUc7QUFDekIsMkJBQTJCLHNEQUFHO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRWdDIiwic291cmNlcyI6WyJEOlxcV09SS1xccHJvamVjdHNcXHBheWxvYWQtdFxcbm9kZV9tb2R1bGVzXFxAbGV4aWNhbFxccmVhY3RcXExleGljYWxFcnJvckJvdW5kYXJ5LmRldi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuXG52YXIgY2hhbmdlZEFycmF5ID0gZnVuY3Rpb24gY2hhbmdlZEFycmF5KGEsIGIpIHtcbiAgaWYgKGEgPT09IHZvaWQgMCkge1xuICAgIGEgPSBbXTtcbiAgfVxuXG4gIGlmIChiID09PSB2b2lkIDApIHtcbiAgICBiID0gW107XG4gIH1cblxuICByZXR1cm4gYS5sZW5ndGggIT09IGIubGVuZ3RoIHx8IGEuc29tZShmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICByZXR1cm4gIU9iamVjdC5pcyhpdGVtLCBiW2luZGV4XSk7XG4gIH0pO1xufTtcblxudmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgZXJyb3I6IG51bGxcbn07XG5cbnZhciBFcnJvckJvdW5kYXJ5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKEVycm9yQm91bmRhcnksIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEVycm9yQm91bmRhcnkoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF9hcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgX2FyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChfYXJncykpIHx8IHRoaXM7XG4gICAgX3RoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG5cbiAgICBfdGhpcy5yZXNldEVycm9yQm91bmRhcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM7XG5cbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnByb3BzLm9uUmVzZXQgPT0gbnVsbCA/IHZvaWQgMCA6IChfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzKS5vblJlc2V0LmFwcGx5KF90aGlzJHByb3BzLCBhcmdzKTtcblxuICAgICAgX3RoaXMucmVzZXQoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgRXJyb3JCb3VuZGFyeS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gRXJyb3JCb3VuZGFyeS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRDYXRjaCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZENhdGNoKGVycm9yLCBpbmZvKSB7XG4gICAgdmFyIF90aGlzJHByb3BzJG9uRXJyb3IsIF90aGlzJHByb3BzMjtcblxuICAgIChfdGhpcyRwcm9wcyRvbkVycm9yID0gKF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMpLm9uRXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRwcm9wcyRvbkVycm9yLmNhbGwoX3RoaXMkcHJvcHMyLCBlcnJvciwgaW5mbyk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIHZhciBlcnJvciA9IHRoaXMuc3RhdGUuZXJyb3I7XG4gICAgdmFyIHJlc2V0S2V5cyA9IHRoaXMucHJvcHMucmVzZXRLZXlzOyAvLyBUaGVyZSdzIGFuIGVkZ2UgY2FzZSB3aGVyZSBpZiB0aGUgdGhpbmcgdGhhdCB0cmlnZ2VyZWQgdGhlIGVycm9yXG4gICAgLy8gaGFwcGVucyB0byAqYWxzbyogYmUgaW4gdGhlIHJlc2V0S2V5cyBhcnJheSwgd2UnZCBlbmQgdXAgcmVzZXR0aW5nXG4gICAgLy8gdGhlIGVycm9yIGJvdW5kYXJ5IGltbWVkaWF0ZWx5LiBUaGlzIHdvdWxkIGxpa2VseSB0cmlnZ2VyIGEgc2Vjb25kXG4gICAgLy8gZXJyb3IgdG8gYmUgdGhyb3duLlxuICAgIC8vIFNvIHdlIG1ha2Ugc3VyZSB0aGF0IHdlIGRvbid0IGNoZWNrIHRoZSByZXNldEtleXMgb24gdGhlIGZpcnN0IGNhbGxcbiAgICAvLyBvZiBjRFUgYWZ0ZXIgdGhlIGVycm9yIGlzIHNldFxuXG4gICAgaWYgKGVycm9yICE9PSBudWxsICYmIHByZXZTdGF0ZS5lcnJvciAhPT0gbnVsbCAmJiBjaGFuZ2VkQXJyYXkocHJldlByb3BzLnJlc2V0S2V5cywgcmVzZXRLZXlzKSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzJG9uUmVzZXRLZSwgX3RoaXMkcHJvcHMzO1xuXG4gICAgICAoX3RoaXMkcHJvcHMkb25SZXNldEtlID0gKF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMpLm9uUmVzZXRLZXlzQ2hhbmdlKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkcHJvcHMkb25SZXNldEtlLmNhbGwoX3RoaXMkcHJvcHMzLCBwcmV2UHJvcHMucmVzZXRLZXlzLCByZXNldEtleXMpO1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBlcnJvciA9IHRoaXMuc3RhdGUuZXJyb3I7XG4gICAgdmFyIF90aGlzJHByb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgIGZhbGxiYWNrUmVuZGVyID0gX3RoaXMkcHJvcHM0LmZhbGxiYWNrUmVuZGVyLFxuICAgICAgICBGYWxsYmFja0NvbXBvbmVudCA9IF90aGlzJHByb3BzNC5GYWxsYmFja0NvbXBvbmVudCxcbiAgICAgICAgZmFsbGJhY2sgPSBfdGhpcyRwcm9wczQuZmFsbGJhY2s7XG5cbiAgICBpZiAoZXJyb3IgIT09IG51bGwpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB7XG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgcmVzZXRFcnJvckJvdW5kYXJ5OiB0aGlzLnJlc2V0RXJyb3JCb3VuZGFyeVxuICAgICAgfTtcblxuICAgICAgaWYgKCAvKiNfX1BVUkVfXyovUmVhY3QuaXNWYWxpZEVsZW1lbnQoZmFsbGJhY2spKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZhbGxiYWNrUmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFja1JlbmRlcihfcHJvcHMpO1xuICAgICAgfSBlbHNlIGlmIChGYWxsYmFja0NvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRmFsbGJhY2tDb21wb25lbnQsIF9wcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlYWN0LWVycm9yLWJvdW5kYXJ5IHJlcXVpcmVzIGVpdGhlciBhIGZhbGxiYWNrLCBmYWxsYmFja1JlbmRlciwgb3IgRmFsbGJhY2tDb21wb25lbnQgcHJvcCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9O1xuXG4gIHJldHVybiBFcnJvckJvdW5kYXJ5O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmZ1bmN0aW9uIExleGljYWxFcnJvckJvdW5kYXJ5KHtcbiAgY2hpbGRyZW4sXG4gIG9uRXJyb3Jcbn0pIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9qc3goRXJyb3JCb3VuZGFyeSwge1xuICAgIGZhbGxiYWNrOiAvKiNfX1BVUkVfXyovanN4KFwiZGl2XCIsIHtcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZjAwJyxcbiAgICAgICAgY29sb3I6ICcjZjAwJyxcbiAgICAgICAgcGFkZGluZzogJzhweCdcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogXCJBbiBlcnJvciB3YXMgdGhyb3duLlwiXG4gICAgfSksXG4gICAgb25FcnJvcjogb25FcnJvcixcbiAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgfSk7XG59XG5cbmV4cG9ydCB7IExleGljYWxFcnJvckJvdW5kYXJ5IH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@lexical/react/LexicalErrorBoundary.dev.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@lexical/react/LexicalHistoryPlugin.dev.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@lexical/react/LexicalHistoryPlugin.dev.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HistoryPlugin: () => (/* binding */ HistoryPlugin),\n/* harmony export */   createEmptyHistoryState: () => (/* reexport safe */ _lexical_history__WEBPACK_IMPORTED_MODULE_0__.createEmptyHistoryState)\n/* harmony export */ });\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lexical/react/LexicalComposerContext */ \"(app-pages-browser)/./node_modules/@lexical/react/LexicalComposerContext.dev.mjs\");\n/* harmony import */ var _lexical_history__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lexical/history */ \"(app-pages-browser)/./node_modules/@lexical/history/LexicalHistory.dev.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\n\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction useHistory(editor, externalHistoryState, delay = 1000) {\n  const historyState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => externalHistoryState || (0,_lexical_history__WEBPACK_IMPORTED_MODULE_0__.createEmptyHistoryState)(), [externalHistoryState]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    return (0,_lexical_history__WEBPACK_IMPORTED_MODULE_0__.registerHistory)(editor, historyState, delay);\n  }, [delay, editor, historyState]);\n}\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction HistoryPlugin({\n  delay,\n  externalHistoryState\n}) {\n  const [editor] = (0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_2__.useLexicalComposerContext)();\n  useHistory(editor, externalHistoryState, delay);\n  return null;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGV4aWNhbC9yZWFjdC9MZXhpY2FsSGlzdG9yeVBsdWdpbi5kZXYubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWtGO0FBQ047QUFDakI7QUFDaEI7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLDhDQUFPLCtCQUErQix5RUFBdUI7QUFDcEYsRUFBRSxnREFBUztBQUNYLFdBQVcsaUVBQWU7QUFDMUIsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxtQkFBbUIsZ0dBQXlCO0FBQzVDO0FBQ0E7QUFDQTs7QUFFeUIiLCJzb3VyY2VzIjpbIkQ6XFxXT1JLXFxwcm9qZWN0c1xccGF5bG9hZC10XFxub2RlX21vZHVsZXNcXEBsZXhpY2FsXFxyZWFjdFxcTGV4aWNhbEhpc3RvcnlQbHVnaW4uZGV2Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmltcG9ydCB7IHVzZUxleGljYWxDb21wb3NlckNvbnRleHQgfSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsQ29tcG9zZXJDb250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZUVtcHR5SGlzdG9yeVN0YXRlLCByZWdpc3Rlckhpc3RvcnkgfSBmcm9tICdAbGV4aWNhbC9oaXN0b3J5JztcbmV4cG9ydCB7IGNyZWF0ZUVtcHR5SGlzdG9yeVN0YXRlIH0gZnJvbSAnQGxleGljYWwvaGlzdG9yeSc7XG5pbXBvcnQgeyB1c2VNZW1vLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuZnVuY3Rpb24gdXNlSGlzdG9yeShlZGl0b3IsIGV4dGVybmFsSGlzdG9yeVN0YXRlLCBkZWxheSA9IDEwMDApIHtcbiAgY29uc3QgaGlzdG9yeVN0YXRlID0gdXNlTWVtbygoKSA9PiBleHRlcm5hbEhpc3RvcnlTdGF0ZSB8fCBjcmVhdGVFbXB0eUhpc3RvcnlTdGF0ZSgpLCBbZXh0ZXJuYWxIaXN0b3J5U3RhdGVdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gcmVnaXN0ZXJIaXN0b3J5KGVkaXRvciwgaGlzdG9yeVN0YXRlLCBkZWxheSk7XG4gIH0sIFtkZWxheSwgZWRpdG9yLCBoaXN0b3J5U3RhdGVdKTtcbn1cblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5mdW5jdGlvbiBIaXN0b3J5UGx1Z2luKHtcbiAgZGVsYXksXG4gIGV4dGVybmFsSGlzdG9yeVN0YXRlXG59KSB7XG4gIGNvbnN0IFtlZGl0b3JdID0gdXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCgpO1xuICB1c2VIaXN0b3J5KGVkaXRvciwgZXh0ZXJuYWxIaXN0b3J5U3RhdGUsIGRlbGF5KTtcbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCB7IEhpc3RvcnlQbHVnaW4gfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@lexical/react/LexicalHistoryPlugin.dev.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@lexical/react/LexicalOnChangePlugin.dev.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@lexical/react/LexicalOnChangePlugin.dev.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OnChangePlugin: () => (/* binding */ OnChangePlugin)\n/* harmony export */ });\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lexical/react/LexicalComposerContext */ \"(app-pages-browser)/./node_modules/@lexical/react/LexicalComposerContext.dev.mjs\");\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lexical */ \"(app-pages-browser)/./node_modules/lexical/Lexical.dev.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nconst CAN_USE_DOM = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined';\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n// This workaround is no longer necessary in React 19,\n// but we currently support React >=17.x\n// https://github.com/facebook/react/pull/26395\nconst useLayoutEffectImpl = CAN_USE_DOM ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction OnChangePlugin({\n  ignoreHistoryMergeTagChange = true,\n  ignoreSelectionChange = false,\n  onChange\n}) {\n  const [editor] = (0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.useLexicalComposerContext)();\n  useLayoutEffectImpl(() => {\n    if (onChange) {\n      return editor.registerUpdateListener(({\n        editorState,\n        dirtyElements,\n        dirtyLeaves,\n        prevEditorState,\n        tags\n      }) => {\n        if (ignoreSelectionChange && dirtyElements.size === 0 && dirtyLeaves.size === 0 || ignoreHistoryMergeTagChange && tags.has(lexical__WEBPACK_IMPORTED_MODULE_2__.HISTORY_MERGE_TAG) || prevEditorState.isEmpty()) {\n          return;\n        }\n        onChange(editorState, editor, tags);\n      });\n    }\n  }, [editor, ignoreHistoryMergeTagChange, ignoreSelectionChange, onChange]);\n  return null;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGV4aWNhbC9yZWFjdC9MZXhpY2FsT25DaGFuZ2VQbHVnaW4uZGV2Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWtGO0FBQ3RDO0FBQ087O0FBRW5EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsa0RBQWUsR0FBRyw0Q0FBUzs7QUFFckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsbUJBQW1CLGdHQUF5QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLG1JQUFtSSxzREFBaUI7QUFDcEo7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRTBCIiwic291cmNlcyI6WyJEOlxcV09SS1xccHJvamVjdHNcXHBheWxvYWQtdFxcbm9kZV9tb2R1bGVzXFxAbGV4aWNhbFxccmVhY3RcXExleGljYWxPbkNoYW5nZVBsdWdpbi5kZXYubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuaW1wb3J0IHsgdXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCB9IGZyb20gJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxDb21wb3NlckNvbnRleHQnO1xuaW1wb3J0IHsgSElTVE9SWV9NRVJHRV9UQUcgfSBmcm9tICdsZXhpY2FsJztcbmltcG9ydCB7IHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmNvbnN0IENBTl9VU0VfRE9NID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50ICE9PSAndW5kZWZpbmVkJztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5cbi8vIFRoaXMgd29ya2Fyb3VuZCBpcyBubyBsb25nZXIgbmVjZXNzYXJ5IGluIFJlYWN0IDE5LFxuLy8gYnV0IHdlIGN1cnJlbnRseSBzdXBwb3J0IFJlYWN0ID49MTcueFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMjYzOTVcbmNvbnN0IHVzZUxheW91dEVmZmVjdEltcGwgPSBDQU5fVVNFX0RPTSA/IHVzZUxheW91dEVmZmVjdCA6IHVzZUVmZmVjdDtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5mdW5jdGlvbiBPbkNoYW5nZVBsdWdpbih7XG4gIGlnbm9yZUhpc3RvcnlNZXJnZVRhZ0NoYW5nZSA9IHRydWUsXG4gIGlnbm9yZVNlbGVjdGlvbkNoYW5nZSA9IGZhbHNlLFxuICBvbkNoYW5nZVxufSkge1xuICBjb25zdCBbZWRpdG9yXSA9IHVzZUxleGljYWxDb21wb3NlckNvbnRleHQoKTtcbiAgdXNlTGF5b3V0RWZmZWN0SW1wbCgoKSA9PiB7XG4gICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICByZXR1cm4gZWRpdG9yLnJlZ2lzdGVyVXBkYXRlTGlzdGVuZXIoKHtcbiAgICAgICAgZWRpdG9yU3RhdGUsXG4gICAgICAgIGRpcnR5RWxlbWVudHMsXG4gICAgICAgIGRpcnR5TGVhdmVzLFxuICAgICAgICBwcmV2RWRpdG9yU3RhdGUsXG4gICAgICAgIHRhZ3NcbiAgICAgIH0pID0+IHtcbiAgICAgICAgaWYgKGlnbm9yZVNlbGVjdGlvbkNoYW5nZSAmJiBkaXJ0eUVsZW1lbnRzLnNpemUgPT09IDAgJiYgZGlydHlMZWF2ZXMuc2l6ZSA9PT0gMCB8fCBpZ25vcmVIaXN0b3J5TWVyZ2VUYWdDaGFuZ2UgJiYgdGFncy5oYXMoSElTVE9SWV9NRVJHRV9UQUcpIHx8IHByZXZFZGl0b3JTdGF0ZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgb25DaGFuZ2UoZWRpdG9yU3RhdGUsIGVkaXRvciwgdGFncyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtlZGl0b3IsIGlnbm9yZUhpc3RvcnlNZXJnZVRhZ0NoYW5nZSwgaWdub3JlU2VsZWN0aW9uQ2hhbmdlLCBvbkNoYW5nZV0pO1xuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IHsgT25DaGFuZ2VQbHVnaW4gfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@lexical/react/LexicalOnChangePlugin.dev.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@lexical/react/LexicalRichTextPlugin.dev.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@lexical/react/LexicalRichTextPlugin.dev.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RichTextPlugin: () => (/* binding */ RichTextPlugin)\n/* harmony export */ });\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @lexical/react/LexicalComposerContext */ \"(app-pages-browser)/./node_modules/@lexical/react/LexicalComposerContext.dev.mjs\");\n/* harmony import */ var _lexical_react_useLexicalEditable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @lexical/react/useLexicalEditable */ \"(app-pages-browser)/./node_modules/@lexical/react/useLexicalEditable.dev.mjs\");\n/* harmony import */ var _lexical_text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lexical/text */ \"(app-pages-browser)/./node_modules/@lexical/text/LexicalText.dev.mjs\");\n/* harmony import */ var _lexical_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lexical/utils */ \"(app-pages-browser)/./node_modules/@lexical/utils/LexicalUtils.dev.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var _lexical_dragon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lexical/dragon */ \"(app-pages-browser)/./node_modules/@lexical/dragon/LexicalDragon.dev.mjs\");\n/* harmony import */ var _lexical_rich_text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lexical/rich-text */ \"(app-pages-browser)/./node_modules/@lexical/rich-text/LexicalRichText.dev.mjs\");\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nconst CAN_USE_DOM = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined';\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n// This workaround is no longer necessary in React 19,\n// but we currently support React >=17.x\n// https://github.com/facebook/react/pull/26395\nconst useLayoutEffectImpl = CAN_USE_DOM ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction canShowPlaceholderFromCurrentEditorState(editor) {\n  const currentCanShowPlaceholder = editor.getEditorState().read((0,_lexical_text__WEBPACK_IMPORTED_MODULE_3__.$canShowPlaceholderCurry)(editor.isComposing()));\n  return currentCanShowPlaceholder;\n}\nfunction useCanShowPlaceholder(editor) {\n  const [canShowPlaceholder, setCanShowPlaceholder] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => canShowPlaceholderFromCurrentEditorState(editor));\n  useLayoutEffectImpl(() => {\n    function resetCanShowPlaceholder() {\n      const currentCanShowPlaceholder = canShowPlaceholderFromCurrentEditorState(editor);\n      setCanShowPlaceholder(currentCanShowPlaceholder);\n    }\n    resetCanShowPlaceholder();\n    return (0,_lexical_utils__WEBPACK_IMPORTED_MODULE_4__.mergeRegister)(editor.registerUpdateListener(() => {\n      resetCanShowPlaceholder();\n    }), editor.registerEditableListener(() => {\n      resetCanShowPlaceholder();\n    }));\n  }, [editor]);\n  return canShowPlaceholder;\n}\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction useDecorators(editor, ErrorBoundary) {\n  const [decorators, setDecorators] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => editor.getDecorators());\n\n  // Subscribe to changes\n  useLayoutEffectImpl(() => {\n    return editor.registerDecoratorListener(nextDecorators => {\n      (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(() => {\n        setDecorators(nextDecorators);\n      });\n    });\n  }, [editor]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    // If the content editable mounts before the subscription is added, then\n    // nothing will be rendered on initial pass. We can get around that by\n    // ensuring that we set the value.\n    setDecorators(editor.getDecorators());\n  }, [editor]);\n\n  // Return decorators defined as React Portals\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const decoratedPortals = [];\n    const decoratorKeys = Object.keys(decorators);\n    for (let i = 0; i < decoratorKeys.length; i++) {\n      const nodeKey = decoratorKeys[i];\n      const reactDecorator = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ErrorBoundary, {\n        onError: e => editor._onError(e),\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, {\n          fallback: null,\n          children: decorators[nodeKey]\n        })\n      });\n      const element = editor.getElementByKey(nodeKey);\n      if (element !== null) {\n        decoratedPortals.push(/*#__PURE__*/(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(reactDecorator, element, nodeKey));\n      }\n    }\n    return decoratedPortals;\n  }, [ErrorBoundary, decorators, editor]);\n}\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction useRichTextSetup(editor) {\n  useLayoutEffectImpl(() => {\n    return (0,_lexical_utils__WEBPACK_IMPORTED_MODULE_4__.mergeRegister)((0,_lexical_rich_text__WEBPACK_IMPORTED_MODULE_5__.registerRichText)(editor), (0,_lexical_dragon__WEBPACK_IMPORTED_MODULE_6__.registerDragonSupport)(editor));\n\n    // We only do this for init\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor]);\n}\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction RichTextPlugin({\n  contentEditable,\n  // TODO Remove. This property is now part of ContentEditable\n  placeholder = null,\n  ErrorBoundary\n}) {\n  const [editor] = (0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_7__.useLexicalComposerContext)();\n  const decorators = useDecorators(editor, ErrorBoundary);\n  useRichTextSetup(editor);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n    children: [contentEditable, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Placeholder, {\n      content: placeholder\n    }), decorators]\n  });\n}\n\n// TODO remove\nfunction Placeholder({\n  content\n}) {\n  const [editor] = (0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_7__.useLexicalComposerContext)();\n  const showPlaceholder = useCanShowPlaceholder(editor);\n  const editable = (0,_lexical_react_useLexicalEditable__WEBPACK_IMPORTED_MODULE_8__.useLexicalEditable)();\n  if (!showPlaceholder) {\n    return null;\n  }\n  if (typeof content === 'function') {\n    return content(editable);\n  } else {\n    return content;\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGV4aWNhbC9yZWFjdC9MZXhpY2FsUmljaFRleHRQbHVnaW4uZGV2Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWtGO0FBQ1g7QUFDZDtBQUNWO0FBQ2lDO0FBQzVCO0FBQ0k7QUFDQTtBQUNGOztBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGtEQUFlLEdBQUcsNENBQVM7O0FBRXJFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUVBQWlFLHVFQUF3QjtBQUN6RjtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsK0NBQVE7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw2REFBYTtBQUN4QjtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNDQUFzQywrQ0FBUTs7QUFFOUM7QUFDQTtBQUNBO0FBQ0EsTUFBTSxvREFBUztBQUNmO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0gsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLFNBQVMsOENBQU87QUFDaEI7QUFDQTtBQUNBLG9CQUFvQiwwQkFBMEI7QUFDOUM7QUFDQSwwQ0FBMEMsc0RBQUc7QUFDN0M7QUFDQSwrQkFBK0Isc0RBQUcsQ0FBQywyQ0FBUTtBQUMzQztBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsMkNBQTJDLHVEQUFZO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyw2REFBYSxDQUFDLG9FQUFnQixVQUFVLHNFQUFxQjs7QUFFeEU7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG1CQUFtQixnR0FBeUI7QUFDNUM7QUFDQTtBQUNBLHNCQUFzQix1REFBSSxDQUFDLHVEQUFRO0FBQ25DLDZDQUE2QyxzREFBRztBQUNoRDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG1CQUFtQixnR0FBeUI7QUFDNUM7QUFDQSxtQkFBbUIscUZBQWtCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUUwQiIsInNvdXJjZXMiOlsiRDpcXFdPUktcXHByb2plY3RzXFxwYXlsb2FkLXRcXG5vZGVfbW9kdWxlc1xcQGxleGljYWxcXHJlYWN0XFxMZXhpY2FsUmljaFRleHRQbHVnaW4uZGV2Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmltcG9ydCB7IHVzZUxleGljYWxDb21wb3NlckNvbnRleHQgfSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsQ29tcG9zZXJDb250ZXh0JztcbmltcG9ydCB7IHVzZUxleGljYWxFZGl0YWJsZSB9IGZyb20gJ0BsZXhpY2FsL3JlYWN0L3VzZUxleGljYWxFZGl0YWJsZSc7XG5pbXBvcnQgeyAkY2FuU2hvd1BsYWNlaG9sZGVyQ3VycnkgfSBmcm9tICdAbGV4aWNhbC90ZXh0JztcbmltcG9ydCB7IG1lcmdlUmVnaXN0ZXIgfSBmcm9tICdAbGV4aWNhbC91dGlscyc7XG5pbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZU1lbW8sIFN1c3BlbnNlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZmx1c2hTeW5jLCBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsganN4LCBqc3hzLCBGcmFnbWVudCB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHJlZ2lzdGVyRHJhZ29uU3VwcG9ydCB9IGZyb20gJ0BsZXhpY2FsL2RyYWdvbic7XG5pbXBvcnQgeyByZWdpc3RlclJpY2hUZXh0IH0gZnJvbSAnQGxleGljYWwvcmljaC10ZXh0JztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5jb25zdCBDQU5fVVNFX0RPTSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuXG4vLyBUaGlzIHdvcmthcm91bmQgaXMgbm8gbG9uZ2VyIG5lY2Vzc2FyeSBpbiBSZWFjdCAxOSxcbi8vIGJ1dCB3ZSBjdXJyZW50bHkgc3VwcG9ydCBSZWFjdCA+PTE3Lnhcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzI2Mzk1XG5jb25zdCB1c2VMYXlvdXRFZmZlY3RJbXBsID0gQ0FOX1VTRV9ET00gPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3Q7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuZnVuY3Rpb24gY2FuU2hvd1BsYWNlaG9sZGVyRnJvbUN1cnJlbnRFZGl0b3JTdGF0ZShlZGl0b3IpIHtcbiAgY29uc3QgY3VycmVudENhblNob3dQbGFjZWhvbGRlciA9IGVkaXRvci5nZXRFZGl0b3JTdGF0ZSgpLnJlYWQoJGNhblNob3dQbGFjZWhvbGRlckN1cnJ5KGVkaXRvci5pc0NvbXBvc2luZygpKSk7XG4gIHJldHVybiBjdXJyZW50Q2FuU2hvd1BsYWNlaG9sZGVyO1xufVxuZnVuY3Rpb24gdXNlQ2FuU2hvd1BsYWNlaG9sZGVyKGVkaXRvcikge1xuICBjb25zdCBbY2FuU2hvd1BsYWNlaG9sZGVyLCBzZXRDYW5TaG93UGxhY2Vob2xkZXJdID0gdXNlU3RhdGUoKCkgPT4gY2FuU2hvd1BsYWNlaG9sZGVyRnJvbUN1cnJlbnRFZGl0b3JTdGF0ZShlZGl0b3IpKTtcbiAgdXNlTGF5b3V0RWZmZWN0SW1wbCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gcmVzZXRDYW5TaG93UGxhY2Vob2xkZXIoKSB7XG4gICAgICBjb25zdCBjdXJyZW50Q2FuU2hvd1BsYWNlaG9sZGVyID0gY2FuU2hvd1BsYWNlaG9sZGVyRnJvbUN1cnJlbnRFZGl0b3JTdGF0ZShlZGl0b3IpO1xuICAgICAgc2V0Q2FuU2hvd1BsYWNlaG9sZGVyKGN1cnJlbnRDYW5TaG93UGxhY2Vob2xkZXIpO1xuICAgIH1cbiAgICByZXNldENhblNob3dQbGFjZWhvbGRlcigpO1xuICAgIHJldHVybiBtZXJnZVJlZ2lzdGVyKGVkaXRvci5yZWdpc3RlclVwZGF0ZUxpc3RlbmVyKCgpID0+IHtcbiAgICAgIHJlc2V0Q2FuU2hvd1BsYWNlaG9sZGVyKCk7XG4gICAgfSksIGVkaXRvci5yZWdpc3RlckVkaXRhYmxlTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgcmVzZXRDYW5TaG93UGxhY2Vob2xkZXIoKTtcbiAgICB9KSk7XG4gIH0sIFtlZGl0b3JdKTtcbiAgcmV0dXJuIGNhblNob3dQbGFjZWhvbGRlcjtcbn1cblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5mdW5jdGlvbiB1c2VEZWNvcmF0b3JzKGVkaXRvciwgRXJyb3JCb3VuZGFyeSkge1xuICBjb25zdCBbZGVjb3JhdG9ycywgc2V0RGVjb3JhdG9yc10gPSB1c2VTdGF0ZSgoKSA9PiBlZGl0b3IuZ2V0RGVjb3JhdG9ycygpKTtcblxuICAvLyBTdWJzY3JpYmUgdG8gY2hhbmdlc1xuICB1c2VMYXlvdXRFZmZlY3RJbXBsKCgpID0+IHtcbiAgICByZXR1cm4gZWRpdG9yLnJlZ2lzdGVyRGVjb3JhdG9yTGlzdGVuZXIobmV4dERlY29yYXRvcnMgPT4ge1xuICAgICAgZmx1c2hTeW5jKCgpID0+IHtcbiAgICAgICAgc2V0RGVjb3JhdG9ycyhuZXh0RGVjb3JhdG9ycyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSwgW2VkaXRvcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIElmIHRoZSBjb250ZW50IGVkaXRhYmxlIG1vdW50cyBiZWZvcmUgdGhlIHN1YnNjcmlwdGlvbiBpcyBhZGRlZCwgdGhlblxuICAgIC8vIG5vdGhpbmcgd2lsbCBiZSByZW5kZXJlZCBvbiBpbml0aWFsIHBhc3MuIFdlIGNhbiBnZXQgYXJvdW5kIHRoYXQgYnlcbiAgICAvLyBlbnN1cmluZyB0aGF0IHdlIHNldCB0aGUgdmFsdWUuXG4gICAgc2V0RGVjb3JhdG9ycyhlZGl0b3IuZ2V0RGVjb3JhdG9ycygpKTtcbiAgfSwgW2VkaXRvcl0pO1xuXG4gIC8vIFJldHVybiBkZWNvcmF0b3JzIGRlZmluZWQgYXMgUmVhY3QgUG9ydGFsc1xuICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZGVjb3JhdGVkUG9ydGFscyA9IFtdO1xuICAgIGNvbnN0IGRlY29yYXRvcktleXMgPSBPYmplY3Qua2V5cyhkZWNvcmF0b3JzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlY29yYXRvcktleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vZGVLZXkgPSBkZWNvcmF0b3JLZXlzW2ldO1xuICAgICAgY29uc3QgcmVhY3REZWNvcmF0b3IgPSAvKiNfX1BVUkVfXyovanN4KEVycm9yQm91bmRhcnksIHtcbiAgICAgICAgb25FcnJvcjogZSA9PiBlZGl0b3IuX29uRXJyb3IoZSksXG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovanN4KFN1c3BlbnNlLCB7XG4gICAgICAgICAgZmFsbGJhY2s6IG51bGwsXG4gICAgICAgICAgY2hpbGRyZW46IGRlY29yYXRvcnNbbm9kZUtleV1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZWxlbWVudCA9IGVkaXRvci5nZXRFbGVtZW50QnlLZXkobm9kZUtleSk7XG4gICAgICBpZiAoZWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICBkZWNvcmF0ZWRQb3J0YWxzLnB1c2goLyojX19QVVJFX18qL2NyZWF0ZVBvcnRhbChyZWFjdERlY29yYXRvciwgZWxlbWVudCwgbm9kZUtleSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVjb3JhdGVkUG9ydGFscztcbiAgfSwgW0Vycm9yQm91bmRhcnksIGRlY29yYXRvcnMsIGVkaXRvcl0pO1xufVxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmZ1bmN0aW9uIHVzZVJpY2hUZXh0U2V0dXAoZWRpdG9yKSB7XG4gIHVzZUxheW91dEVmZmVjdEltcGwoKCkgPT4ge1xuICAgIHJldHVybiBtZXJnZVJlZ2lzdGVyKHJlZ2lzdGVyUmljaFRleHQoZWRpdG9yKSwgcmVnaXN0ZXJEcmFnb25TdXBwb3J0KGVkaXRvcikpO1xuXG4gICAgLy8gV2Ugb25seSBkbyB0aGlzIGZvciBpbml0XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbZWRpdG9yXSk7XG59XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuZnVuY3Rpb24gUmljaFRleHRQbHVnaW4oe1xuICBjb250ZW50RWRpdGFibGUsXG4gIC8vIFRPRE8gUmVtb3ZlLiBUaGlzIHByb3BlcnR5IGlzIG5vdyBwYXJ0IG9mIENvbnRlbnRFZGl0YWJsZVxuICBwbGFjZWhvbGRlciA9IG51bGwsXG4gIEVycm9yQm91bmRhcnlcbn0pIHtcbiAgY29uc3QgW2VkaXRvcl0gPSB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0KCk7XG4gIGNvbnN0IGRlY29yYXRvcnMgPSB1c2VEZWNvcmF0b3JzKGVkaXRvciwgRXJyb3JCb3VuZGFyeSk7XG4gIHVzZVJpY2hUZXh0U2V0dXAoZWRpdG9yKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9qc3hzKEZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IFtjb250ZW50RWRpdGFibGUsIC8qI19fUFVSRV9fKi9qc3goUGxhY2Vob2xkZXIsIHtcbiAgICAgIGNvbnRlbnQ6IHBsYWNlaG9sZGVyXG4gICAgfSksIGRlY29yYXRvcnNdXG4gIH0pO1xufVxuXG4vLyBUT0RPIHJlbW92ZVxuZnVuY3Rpb24gUGxhY2Vob2xkZXIoe1xuICBjb250ZW50XG59KSB7XG4gIGNvbnN0IFtlZGl0b3JdID0gdXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCgpO1xuICBjb25zdCBzaG93UGxhY2Vob2xkZXIgPSB1c2VDYW5TaG93UGxhY2Vob2xkZXIoZWRpdG9yKTtcbiAgY29uc3QgZWRpdGFibGUgPSB1c2VMZXhpY2FsRWRpdGFibGUoKTtcbiAgaWYgKCFzaG93UGxhY2Vob2xkZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gY29udGVudChlZGl0YWJsZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbn1cblxuZXhwb3J0IHsgUmljaFRleHRQbHVnaW4gfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@lexical/react/LexicalRichTextPlugin.dev.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@lexical/text/LexicalText.dev.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@lexical/text/LexicalText.dev.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $canShowPlaceholder: () => (/* binding */ $canShowPlaceholder),\n/* harmony export */   $canShowPlaceholderCurry: () => (/* binding */ $canShowPlaceholderCurry),\n/* harmony export */   $findTextIntersectionFromCharacters: () => (/* binding */ $findTextIntersectionFromCharacters),\n/* harmony export */   $isRootTextContentEmpty: () => (/* binding */ $isRootTextContentEmpty),\n/* harmony export */   $isRootTextContentEmptyCurry: () => (/* binding */ $isRootTextContentEmptyCurry),\n/* harmony export */   $rootTextContent: () => (/* binding */ $rootTextContent),\n/* harmony export */   registerLexicalTextEntity: () => (/* binding */ registerLexicalTextEntity)\n/* harmony export */ });\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lexical */ \"(app-pages-browser)/./node_modules/lexical/Lexical.dev.mjs\");\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * Returns the root's text content.\n * @returns The root's text content.\n */\nfunction $rootTextContent() {\n  const root = (0,lexical__WEBPACK_IMPORTED_MODULE_0__.$getRoot)();\n  return root.getTextContent();\n}\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * Determines if the root has any text content and can trim any whitespace if it does.\n * @param isEditorComposing - Is the editor in composition mode due to an active Input Method Editor?\n * @param trim - Should the root text have its whitespaced trimmed? Defaults to true.\n * @returns true if text content is empty, false if there is text or isEditorComposing is true.\n */\nfunction $isRootTextContentEmpty(isEditorComposing, trim = true) {\n  if (isEditorComposing) {\n    return false;\n  }\n  let text = $rootTextContent();\n  if (trim) {\n    text = text.trim();\n  }\n  return text === '';\n}\n\n/**\n * Returns a function that executes {@link $isRootTextContentEmpty}\n * @param isEditorComposing - Is the editor in composition mode due to an active Input Method Editor?\n * @param trim - Should the root text have its whitespaced trimmed? Defaults to true.\n * @returns A function that executes $isRootTextContentEmpty based on arguments.\n */\nfunction $isRootTextContentEmptyCurry(isEditorComposing, trim) {\n  return () => $isRootTextContentEmpty(isEditorComposing, trim);\n}\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * Determines if the input should show the placeholder. If anything is in\n * in the root the placeholder should not be shown.\n * @param isComposing - Is the editor in composition mode due to an active Input Method Editor?\n * @returns true if the input should show the placeholder, false otherwise.\n */\nfunction $canShowPlaceholder(isComposing) {\n  if (!$isRootTextContentEmpty(isComposing, false)) {\n    return false;\n  }\n  const root = (0,lexical__WEBPACK_IMPORTED_MODULE_0__.$getRoot)();\n  const children = root.getChildren();\n  const childrenLength = children.length;\n  if (childrenLength > 1) {\n    return false;\n  }\n  for (let i = 0; i < childrenLength; i++) {\n    const topBlock = children[i];\n    if ((0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isDecoratorNode)(topBlock)) {\n      return false;\n    }\n    if ((0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isElementNode)(topBlock)) {\n      if (!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isParagraphNode)(topBlock)) {\n        return false;\n      }\n      if (topBlock.__indent !== 0) {\n        return false;\n      }\n      const topBlockChildren = topBlock.getChildren();\n      const topBlockChildrenLength = topBlockChildren.length;\n      for (let s = 0; s < topBlockChildrenLength; s++) {\n        const child = topBlockChildren[i];\n        if (!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(child)) {\n          return false;\n        }\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * Returns a function that executes {@link $canShowPlaceholder}\n * @param isEditorComposing - Is the editor in composition mode due to an active Input Method Editor?\n * @returns A function that executes $canShowPlaceholder with arguments.\n */\nfunction $canShowPlaceholderCurry(isEditorComposing) {\n  return () => $canShowPlaceholder(isEditorComposing);\n}\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * Finds a TextNode with a size larger than targetCharacters and returns\n * the node along with the remaining length of the text.\n * @param root - The RootNode.\n * @param targetCharacters - The number of characters whose TextNode must be larger than.\n * @returns The TextNode and the intersections offset, or null if no TextNode is found.\n */\nfunction $findTextIntersectionFromCharacters(root, targetCharacters) {\n  let node = root.getFirstChild();\n  let currentCharacters = 0;\n  mainLoop: while (node !== null) {\n    if ((0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isElementNode)(node)) {\n      const child = node.getFirstChild();\n      if (child !== null) {\n        node = child;\n        continue;\n      }\n    } else if ((0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(node)) {\n      const characters = node.getTextContentSize();\n      if (currentCharacters + characters > targetCharacters) {\n        return {\n          node,\n          offset: targetCharacters - currentCharacters\n        };\n      }\n      currentCharacters += characters;\n    }\n    const sibling = node.getNextSibling();\n    if (sibling !== null) {\n      node = sibling;\n      continue;\n    }\n    let parent = node.getParent();\n    while (parent !== null) {\n      const parentSibling = parent.getNextSibling();\n      if (parentSibling !== null) {\n        node = parentSibling;\n        continue mainLoop;\n      }\n      parent = parent.getParent();\n    }\n    break;\n  }\n  return null;\n}\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n// Do not require this module directly! Use normal `invariant` calls.\n\nfunction formatDevErrorMessage(message) {\n  throw new Error(message);\n}\n\n/**\n * Returns a tuple that can be rested (...) into mergeRegister to clean up\n * node transforms listeners that transforms text into another node, eg. a HashtagNode.\n * @example\n * ```ts\n *   useEffect(() => {\n    return mergeRegister(\n      ...registerLexicalTextEntity(editor, getMatch, targetNode, createNode),\n    );\n  }, [createNode, editor, getMatch, targetNode]);\n * ```\n * Where targetNode is the type of node containing the text you want to transform (like a text input),\n * then getMatch uses a regex to find a matching text and creates the proper node to include the matching text.\n * @param editor - The lexical editor.\n * @param getMatch - Finds a matching string that satisfies a regex expression.\n * @param targetNode - The node type that contains text to match with. eg. HashtagNode\n * @param createNode - A function that creates a new node to contain the matched text. eg createHashtagNode\n * @returns An array containing the plain text and reverse node transform listeners.\n */\nfunction registerLexicalTextEntity(editor, getMatch, targetNode, createNode) {\n  const isTargetNode = node => {\n    return node instanceof targetNode;\n  };\n  const $replaceWithSimpleText = node => {\n    const textNode = (0,lexical__WEBPACK_IMPORTED_MODULE_0__.$createTextNode)(node.getTextContent());\n    textNode.setFormat(node.getFormat());\n    node.replace(textNode);\n  };\n  const getMode = node => {\n    return node.getLatest().__mode;\n  };\n  const $textNodeTransform = node => {\n    if (!node.isSimpleText()) {\n      return;\n    }\n    let prevSibling = node.getPreviousSibling();\n    let text = node.getTextContent();\n    let currentNode = node;\n    let match;\n    if ((0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(prevSibling)) {\n      const previousText = prevSibling.getTextContent();\n      const combinedText = previousText + text;\n      const prevMatch = getMatch(combinedText);\n      if (isTargetNode(prevSibling)) {\n        if (prevMatch === null || getMode(prevSibling) !== 0) {\n          $replaceWithSimpleText(prevSibling);\n          return;\n        } else {\n          const diff = prevMatch.end - previousText.length;\n          if (diff > 0) {\n            const concatText = text.slice(0, diff);\n            const newTextContent = previousText + concatText;\n            prevSibling.select();\n            prevSibling.setTextContent(newTextContent);\n            if (diff === text.length) {\n              node.remove();\n            } else {\n              const remainingText = text.slice(diff);\n              node.setTextContent(remainingText);\n            }\n            return;\n          }\n        }\n      } else if (prevMatch === null || prevMatch.start < previousText.length) {\n        return;\n      }\n    }\n    let prevMatchLengthToSkip = 0;\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      match = getMatch(text);\n      let nextText = match === null ? '' : text.slice(match.end);\n      text = nextText;\n      if (nextText === '') {\n        const nextSibling = currentNode.getNextSibling();\n        if ((0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(nextSibling)) {\n          nextText = currentNode.getTextContent() + nextSibling.getTextContent();\n          const nextMatch = getMatch(nextText);\n          if (nextMatch === null) {\n            if (isTargetNode(nextSibling)) {\n              $replaceWithSimpleText(nextSibling);\n            } else {\n              nextSibling.markDirty();\n            }\n            return;\n          } else if (nextMatch.start !== 0) {\n            return;\n          }\n        }\n      }\n      if (match === null) {\n        return;\n      }\n      if (match.start === 0 && (0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(prevSibling) && prevSibling.isTextEntity()) {\n        prevMatchLengthToSkip += match.end;\n        continue;\n      }\n      let nodeToReplace;\n      if (match.start === 0) {\n        [nodeToReplace, currentNode] = currentNode.splitText(match.end);\n      } else {\n        [, nodeToReplace, currentNode] = currentNode.splitText(match.start + prevMatchLengthToSkip, match.end + prevMatchLengthToSkip);\n      }\n      if (!(nodeToReplace !== undefined)) {\n        formatDevErrorMessage(`${'nodeToReplace'} should not be undefined. You may want to check splitOffsets passed to the splitText.`);\n      }\n      const replacementNode = createNode(nodeToReplace);\n      replacementNode.setFormat(nodeToReplace.getFormat());\n      nodeToReplace.replace(replacementNode);\n      if (currentNode == null) {\n        return;\n      }\n      prevMatchLengthToSkip = 0;\n      prevSibling = replacementNode;\n    }\n  };\n  const $reverseNodeTransform = node => {\n    const text = node.getTextContent();\n    const match = getMatch(text);\n    if (match === null || match.start !== 0) {\n      $replaceWithSimpleText(node);\n      return;\n    }\n    if (text.length > match.end) {\n      // This will split out the rest of the text as simple text\n      node.splitText(match.end);\n      return;\n    }\n    const prevSibling = node.getPreviousSibling();\n    if ((0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(prevSibling) && prevSibling.isTextEntity()) {\n      $replaceWithSimpleText(prevSibling);\n      $replaceWithSimpleText(node);\n    }\n    const nextSibling = node.getNextSibling();\n    if ((0,lexical__WEBPACK_IMPORTED_MODULE_0__.$isTextNode)(nextSibling) && nextSibling.isTextEntity()) {\n      $replaceWithSimpleText(nextSibling);\n\n      // This may have already been converted in the previous block\n      if (isTargetNode(node)) {\n        $replaceWithSimpleText(node);\n      }\n    }\n  };\n  const removePlainTextTransform = editor.registerNodeTransform(lexical__WEBPACK_IMPORTED_MODULE_0__.TextNode, $textNodeTransform);\n  const removeReverseNodeTransform = editor.registerNodeTransform(targetNode, $reverseNodeTransform);\n  return [removePlainTextTransform, removeReverseNodeTransform];\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGV4aWNhbC90ZXh0L0xleGljYWxUZXh0LmRldi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFK0g7O0FBRS9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlEQUFRO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlEQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0JBQW9CO0FBQ3RDO0FBQ0EsUUFBUSx5REFBZ0I7QUFDeEI7QUFDQTtBQUNBLFFBQVEsdURBQWM7QUFDdEIsV0FBVyx5REFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNEJBQTRCO0FBQ2xEO0FBQ0EsYUFBYSxvREFBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdURBQWM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sU0FBUyxvREFBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHdEQUFlO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG9EQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG9EQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsaUJBQWlCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFXO0FBQ25COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSw2Q0FBUTtBQUN4RTtBQUNBO0FBQ0E7O0FBRWtNIiwic291cmNlcyI6WyJEOlxcV09SS1xccHJvamVjdHNcXHBheWxvYWQtdFxcbm9kZV9tb2R1bGVzXFxAbGV4aWNhbFxcdGV4dFxcTGV4aWNhbFRleHQuZGV2Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmltcG9ydCB7ICRnZXRSb290LCAkaXNEZWNvcmF0b3JOb2RlLCAkaXNFbGVtZW50Tm9kZSwgJGlzUGFyYWdyYXBoTm9kZSwgJGlzVGV4dE5vZGUsIFRleHROb2RlLCAkY3JlYXRlVGV4dE5vZGUgfSBmcm9tICdsZXhpY2FsJztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHJvb3QncyB0ZXh0IGNvbnRlbnQuXG4gKiBAcmV0dXJucyBUaGUgcm9vdCdzIHRleHQgY29udGVudC5cbiAqL1xuZnVuY3Rpb24gJHJvb3RUZXh0Q29udGVudCgpIHtcbiAgY29uc3Qgcm9vdCA9ICRnZXRSb290KCk7XG4gIHJldHVybiByb290LmdldFRleHRDb250ZW50KCk7XG59XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSByb290IGhhcyBhbnkgdGV4dCBjb250ZW50IGFuZCBjYW4gdHJpbSBhbnkgd2hpdGVzcGFjZSBpZiBpdCBkb2VzLlxuICogQHBhcmFtIGlzRWRpdG9yQ29tcG9zaW5nIC0gSXMgdGhlIGVkaXRvciBpbiBjb21wb3NpdGlvbiBtb2RlIGR1ZSB0byBhbiBhY3RpdmUgSW5wdXQgTWV0aG9kIEVkaXRvcj9cbiAqIEBwYXJhbSB0cmltIC0gU2hvdWxkIHRoZSByb290IHRleHQgaGF2ZSBpdHMgd2hpdGVzcGFjZWQgdHJpbW1lZD8gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAqIEByZXR1cm5zIHRydWUgaWYgdGV4dCBjb250ZW50IGlzIGVtcHR5LCBmYWxzZSBpZiB0aGVyZSBpcyB0ZXh0IG9yIGlzRWRpdG9yQ29tcG9zaW5nIGlzIHRydWUuXG4gKi9cbmZ1bmN0aW9uICRpc1Jvb3RUZXh0Q29udGVudEVtcHR5KGlzRWRpdG9yQ29tcG9zaW5nLCB0cmltID0gdHJ1ZSkge1xuICBpZiAoaXNFZGl0b3JDb21wb3NpbmcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IHRleHQgPSAkcm9vdFRleHRDb250ZW50KCk7XG4gIGlmICh0cmltKSB7XG4gICAgdGV4dCA9IHRleHQudHJpbSgpO1xuICB9XG4gIHJldHVybiB0ZXh0ID09PSAnJztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBleGVjdXRlcyB7QGxpbmsgJGlzUm9vdFRleHRDb250ZW50RW1wdHl9XG4gKiBAcGFyYW0gaXNFZGl0b3JDb21wb3NpbmcgLSBJcyB0aGUgZWRpdG9yIGluIGNvbXBvc2l0aW9uIG1vZGUgZHVlIHRvIGFuIGFjdGl2ZSBJbnB1dCBNZXRob2QgRWRpdG9yP1xuICogQHBhcmFtIHRyaW0gLSBTaG91bGQgdGhlIHJvb3QgdGV4dCBoYXZlIGl0cyB3aGl0ZXNwYWNlZCB0cmltbWVkPyBEZWZhdWx0cyB0byB0cnVlLlxuICogQHJldHVybnMgQSBmdW5jdGlvbiB0aGF0IGV4ZWN1dGVzICRpc1Jvb3RUZXh0Q29udGVudEVtcHR5IGJhc2VkIG9uIGFyZ3VtZW50cy5cbiAqL1xuZnVuY3Rpb24gJGlzUm9vdFRleHRDb250ZW50RW1wdHlDdXJyeShpc0VkaXRvckNvbXBvc2luZywgdHJpbSkge1xuICByZXR1cm4gKCkgPT4gJGlzUm9vdFRleHRDb250ZW50RW1wdHkoaXNFZGl0b3JDb21wb3NpbmcsIHRyaW0pO1xufVxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgaW5wdXQgc2hvdWxkIHNob3cgdGhlIHBsYWNlaG9sZGVyLiBJZiBhbnl0aGluZyBpcyBpblxuICogaW4gdGhlIHJvb3QgdGhlIHBsYWNlaG9sZGVyIHNob3VsZCBub3QgYmUgc2hvd24uXG4gKiBAcGFyYW0gaXNDb21wb3NpbmcgLSBJcyB0aGUgZWRpdG9yIGluIGNvbXBvc2l0aW9uIG1vZGUgZHVlIHRvIGFuIGFjdGl2ZSBJbnB1dCBNZXRob2QgRWRpdG9yP1xuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgaW5wdXQgc2hvdWxkIHNob3cgdGhlIHBsYWNlaG9sZGVyLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uICRjYW5TaG93UGxhY2Vob2xkZXIoaXNDb21wb3NpbmcpIHtcbiAgaWYgKCEkaXNSb290VGV4dENvbnRlbnRFbXB0eShpc0NvbXBvc2luZywgZmFsc2UpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHJvb3QgPSAkZ2V0Um9vdCgpO1xuICBjb25zdCBjaGlsZHJlbiA9IHJvb3QuZ2V0Q2hpbGRyZW4oKTtcbiAgY29uc3QgY2hpbGRyZW5MZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG4gIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdG9wQmxvY2sgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoJGlzRGVjb3JhdG9yTm9kZSh0b3BCbG9jaykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCRpc0VsZW1lbnROb2RlKHRvcEJsb2NrKSkge1xuICAgICAgaWYgKCEkaXNQYXJhZ3JhcGhOb2RlKHRvcEJsb2NrKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodG9wQmxvY2suX19pbmRlbnQgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgdG9wQmxvY2tDaGlsZHJlbiA9IHRvcEJsb2NrLmdldENoaWxkcmVuKCk7XG4gICAgICBjb25zdCB0b3BCbG9ja0NoaWxkcmVuTGVuZ3RoID0gdG9wQmxvY2tDaGlsZHJlbi5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBzID0gMDsgcyA8IHRvcEJsb2NrQ2hpbGRyZW5MZW5ndGg7IHMrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRvcEJsb2NrQ2hpbGRyZW5baV07XG4gICAgICAgIGlmICghJGlzVGV4dE5vZGUoY2hpbGQpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGV4ZWN1dGVzIHtAbGluayAkY2FuU2hvd1BsYWNlaG9sZGVyfVxuICogQHBhcmFtIGlzRWRpdG9yQ29tcG9zaW5nIC0gSXMgdGhlIGVkaXRvciBpbiBjb21wb3NpdGlvbiBtb2RlIGR1ZSB0byBhbiBhY3RpdmUgSW5wdXQgTWV0aG9kIEVkaXRvcj9cbiAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdGhhdCBleGVjdXRlcyAkY2FuU2hvd1BsYWNlaG9sZGVyIHdpdGggYXJndW1lbnRzLlxuICovXG5mdW5jdGlvbiAkY2FuU2hvd1BsYWNlaG9sZGVyQ3VycnkoaXNFZGl0b3JDb21wb3NpbmcpIHtcbiAgcmV0dXJuICgpID0+ICRjYW5TaG93UGxhY2Vob2xkZXIoaXNFZGl0b3JDb21wb3NpbmcpO1xufVxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbi8qKlxuICogRmluZHMgYSBUZXh0Tm9kZSB3aXRoIGEgc2l6ZSBsYXJnZXIgdGhhbiB0YXJnZXRDaGFyYWN0ZXJzIGFuZCByZXR1cm5zXG4gKiB0aGUgbm9kZSBhbG9uZyB3aXRoIHRoZSByZW1haW5pbmcgbGVuZ3RoIG9mIHRoZSB0ZXh0LlxuICogQHBhcmFtIHJvb3QgLSBUaGUgUm9vdE5vZGUuXG4gKiBAcGFyYW0gdGFyZ2V0Q2hhcmFjdGVycyAtIFRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyB3aG9zZSBUZXh0Tm9kZSBtdXN0IGJlIGxhcmdlciB0aGFuLlxuICogQHJldHVybnMgVGhlIFRleHROb2RlIGFuZCB0aGUgaW50ZXJzZWN0aW9ucyBvZmZzZXQsIG9yIG51bGwgaWYgbm8gVGV4dE5vZGUgaXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uICRmaW5kVGV4dEludGVyc2VjdGlvbkZyb21DaGFyYWN0ZXJzKHJvb3QsIHRhcmdldENoYXJhY3RlcnMpIHtcbiAgbGV0IG5vZGUgPSByb290LmdldEZpcnN0Q2hpbGQoKTtcbiAgbGV0IGN1cnJlbnRDaGFyYWN0ZXJzID0gMDtcbiAgbWFpbkxvb3A6IHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgaWYgKCRpc0VsZW1lbnROb2RlKG5vZGUpKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IG5vZGUuZ2V0Rmlyc3RDaGlsZCgpO1xuICAgICAgaWYgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUgPSBjaGlsZDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgkaXNUZXh0Tm9kZShub2RlKSkge1xuICAgICAgY29uc3QgY2hhcmFjdGVycyA9IG5vZGUuZ2V0VGV4dENvbnRlbnRTaXplKCk7XG4gICAgICBpZiAoY3VycmVudENoYXJhY3RlcnMgKyBjaGFyYWN0ZXJzID4gdGFyZ2V0Q2hhcmFjdGVycykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgb2Zmc2V0OiB0YXJnZXRDaGFyYWN0ZXJzIC0gY3VycmVudENoYXJhY3RlcnNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRDaGFyYWN0ZXJzICs9IGNoYXJhY3RlcnM7XG4gICAgfVxuICAgIGNvbnN0IHNpYmxpbmcgPSBub2RlLmdldE5leHRTaWJsaW5nKCk7XG4gICAgaWYgKHNpYmxpbmcgIT09IG51bGwpIHtcbiAgICAgIG5vZGUgPSBzaWJsaW5nO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBwYXJlbnQgPSBub2RlLmdldFBhcmVudCgpO1xuICAgIHdoaWxlIChwYXJlbnQgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHBhcmVudFNpYmxpbmcgPSBwYXJlbnQuZ2V0TmV4dFNpYmxpbmcoKTtcbiAgICAgIGlmIChwYXJlbnRTaWJsaW5nICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUgPSBwYXJlbnRTaWJsaW5nO1xuICAgICAgICBjb250aW51ZSBtYWluTG9vcDtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudC5nZXRQYXJlbnQoKTtcbiAgICB9XG4gICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuLy8gRG8gbm90IHJlcXVpcmUgdGhpcyBtb2R1bGUgZGlyZWN0bHkhIFVzZSBub3JtYWwgYGludmFyaWFudGAgY2FsbHMuXG5cbmZ1bmN0aW9uIGZvcm1hdERldkVycm9yTWVzc2FnZShtZXNzYWdlKSB7XG4gIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgdHVwbGUgdGhhdCBjYW4gYmUgcmVzdGVkICguLi4pIGludG8gbWVyZ2VSZWdpc3RlciB0byBjbGVhbiB1cFxuICogbm9kZSB0cmFuc2Zvcm1zIGxpc3RlbmVycyB0aGF0IHRyYW5zZm9ybXMgdGV4dCBpbnRvIGFub3RoZXIgbm9kZSwgZWcuIGEgSGFzaHRhZ05vZGUuXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gbWVyZ2VSZWdpc3RlcihcbiAgICAgIC4uLnJlZ2lzdGVyTGV4aWNhbFRleHRFbnRpdHkoZWRpdG9yLCBnZXRNYXRjaCwgdGFyZ2V0Tm9kZSwgY3JlYXRlTm9kZSksXG4gICAgKTtcbiAgfSwgW2NyZWF0ZU5vZGUsIGVkaXRvciwgZ2V0TWF0Y2gsIHRhcmdldE5vZGVdKTtcbiAqIGBgYFxuICogV2hlcmUgdGFyZ2V0Tm9kZSBpcyB0aGUgdHlwZSBvZiBub2RlIGNvbnRhaW5pbmcgdGhlIHRleHQgeW91IHdhbnQgdG8gdHJhbnNmb3JtIChsaWtlIGEgdGV4dCBpbnB1dCksXG4gKiB0aGVuIGdldE1hdGNoIHVzZXMgYSByZWdleCB0byBmaW5kIGEgbWF0Y2hpbmcgdGV4dCBhbmQgY3JlYXRlcyB0aGUgcHJvcGVyIG5vZGUgdG8gaW5jbHVkZSB0aGUgbWF0Y2hpbmcgdGV4dC5cbiAqIEBwYXJhbSBlZGl0b3IgLSBUaGUgbGV4aWNhbCBlZGl0b3IuXG4gKiBAcGFyYW0gZ2V0TWF0Y2ggLSBGaW5kcyBhIG1hdGNoaW5nIHN0cmluZyB0aGF0IHNhdGlzZmllcyBhIHJlZ2V4IGV4cHJlc3Npb24uXG4gKiBAcGFyYW0gdGFyZ2V0Tm9kZSAtIFRoZSBub2RlIHR5cGUgdGhhdCBjb250YWlucyB0ZXh0IHRvIG1hdGNoIHdpdGguIGVnLiBIYXNodGFnTm9kZVxuICogQHBhcmFtIGNyZWF0ZU5vZGUgLSBBIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBub2RlIHRvIGNvbnRhaW4gdGhlIG1hdGNoZWQgdGV4dC4gZWcgY3JlYXRlSGFzaHRhZ05vZGVcbiAqIEByZXR1cm5zIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBsYWluIHRleHQgYW5kIHJldmVyc2Ugbm9kZSB0cmFuc2Zvcm0gbGlzdGVuZXJzLlxuICovXG5mdW5jdGlvbiByZWdpc3RlckxleGljYWxUZXh0RW50aXR5KGVkaXRvciwgZ2V0TWF0Y2gsIHRhcmdldE5vZGUsIGNyZWF0ZU5vZGUpIHtcbiAgY29uc3QgaXNUYXJnZXROb2RlID0gbm9kZSA9PiB7XG4gICAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiB0YXJnZXROb2RlO1xuICB9O1xuICBjb25zdCAkcmVwbGFjZVdpdGhTaW1wbGVUZXh0ID0gbm9kZSA9PiB7XG4gICAgY29uc3QgdGV4dE5vZGUgPSAkY3JlYXRlVGV4dE5vZGUobm9kZS5nZXRUZXh0Q29udGVudCgpKTtcbiAgICB0ZXh0Tm9kZS5zZXRGb3JtYXQobm9kZS5nZXRGb3JtYXQoKSk7XG4gICAgbm9kZS5yZXBsYWNlKHRleHROb2RlKTtcbiAgfTtcbiAgY29uc3QgZ2V0TW9kZSA9IG5vZGUgPT4ge1xuICAgIHJldHVybiBub2RlLmdldExhdGVzdCgpLl9fbW9kZTtcbiAgfTtcbiAgY29uc3QgJHRleHROb2RlVHJhbnNmb3JtID0gbm9kZSA9PiB7XG4gICAgaWYgKCFub2RlLmlzU2ltcGxlVGV4dCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBwcmV2U2libGluZyA9IG5vZGUuZ2V0UHJldmlvdXNTaWJsaW5nKCk7XG4gICAgbGV0IHRleHQgPSBub2RlLmdldFRleHRDb250ZW50KCk7XG4gICAgbGV0IGN1cnJlbnROb2RlID0gbm9kZTtcbiAgICBsZXQgbWF0Y2g7XG4gICAgaWYgKCRpc1RleHROb2RlKHByZXZTaWJsaW5nKSkge1xuICAgICAgY29uc3QgcHJldmlvdXNUZXh0ID0gcHJldlNpYmxpbmcuZ2V0VGV4dENvbnRlbnQoKTtcbiAgICAgIGNvbnN0IGNvbWJpbmVkVGV4dCA9IHByZXZpb3VzVGV4dCArIHRleHQ7XG4gICAgICBjb25zdCBwcmV2TWF0Y2ggPSBnZXRNYXRjaChjb21iaW5lZFRleHQpO1xuICAgICAgaWYgKGlzVGFyZ2V0Tm9kZShwcmV2U2libGluZykpIHtcbiAgICAgICAgaWYgKHByZXZNYXRjaCA9PT0gbnVsbCB8fCBnZXRNb2RlKHByZXZTaWJsaW5nKSAhPT0gMCkge1xuICAgICAgICAgICRyZXBsYWNlV2l0aFNpbXBsZVRleHQocHJldlNpYmxpbmcpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBkaWZmID0gcHJldk1hdGNoLmVuZCAtIHByZXZpb3VzVGV4dC5sZW5ndGg7XG4gICAgICAgICAgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBjb25jYXRUZXh0ID0gdGV4dC5zbGljZSgwLCBkaWZmKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1RleHRDb250ZW50ID0gcHJldmlvdXNUZXh0ICsgY29uY2F0VGV4dDtcbiAgICAgICAgICAgIHByZXZTaWJsaW5nLnNlbGVjdCgpO1xuICAgICAgICAgICAgcHJldlNpYmxpbmcuc2V0VGV4dENvbnRlbnQobmV3VGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgaWYgKGRpZmYgPT09IHRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdUZXh0ID0gdGV4dC5zbGljZShkaWZmKTtcbiAgICAgICAgICAgICAgbm9kZS5zZXRUZXh0Q29udGVudChyZW1haW5pbmdUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocHJldk1hdGNoID09PSBudWxsIHx8IHByZXZNYXRjaC5zdGFydCA8IHByZXZpb3VzVGV4dC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcHJldk1hdGNoTGVuZ3RoVG9Ta2lwID0gMDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIG1hdGNoID0gZ2V0TWF0Y2godGV4dCk7XG4gICAgICBsZXQgbmV4dFRleHQgPSBtYXRjaCA9PT0gbnVsbCA/ICcnIDogdGV4dC5zbGljZShtYXRjaC5lbmQpO1xuICAgICAgdGV4dCA9IG5leHRUZXh0O1xuICAgICAgaWYgKG5leHRUZXh0ID09PSAnJykge1xuICAgICAgICBjb25zdCBuZXh0U2libGluZyA9IGN1cnJlbnROb2RlLmdldE5leHRTaWJsaW5nKCk7XG4gICAgICAgIGlmICgkaXNUZXh0Tm9kZShuZXh0U2libGluZykpIHtcbiAgICAgICAgICBuZXh0VGV4dCA9IGN1cnJlbnROb2RlLmdldFRleHRDb250ZW50KCkgKyBuZXh0U2libGluZy5nZXRUZXh0Q29udGVudCgpO1xuICAgICAgICAgIGNvbnN0IG5leHRNYXRjaCA9IGdldE1hdGNoKG5leHRUZXh0KTtcbiAgICAgICAgICBpZiAobmV4dE1hdGNoID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoaXNUYXJnZXROb2RlKG5leHRTaWJsaW5nKSkge1xuICAgICAgICAgICAgICAkcmVwbGFjZVdpdGhTaW1wbGVUZXh0KG5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5leHRTaWJsaW5nLm1hcmtEaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV4dE1hdGNoLnN0YXJ0ICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG1hdGNoLnN0YXJ0ID09PSAwICYmICRpc1RleHROb2RlKHByZXZTaWJsaW5nKSAmJiBwcmV2U2libGluZy5pc1RleHRFbnRpdHkoKSkge1xuICAgICAgICBwcmV2TWF0Y2hMZW5ndGhUb1NraXAgKz0gbWF0Y2guZW5kO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCBub2RlVG9SZXBsYWNlO1xuICAgICAgaWYgKG1hdGNoLnN0YXJ0ID09PSAwKSB7XG4gICAgICAgIFtub2RlVG9SZXBsYWNlLCBjdXJyZW50Tm9kZV0gPSBjdXJyZW50Tm9kZS5zcGxpdFRleHQobWF0Y2guZW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFssIG5vZGVUb1JlcGxhY2UsIGN1cnJlbnROb2RlXSA9IGN1cnJlbnROb2RlLnNwbGl0VGV4dChtYXRjaC5zdGFydCArIHByZXZNYXRjaExlbmd0aFRvU2tpcCwgbWF0Y2guZW5kICsgcHJldk1hdGNoTGVuZ3RoVG9Ta2lwKTtcbiAgICAgIH1cbiAgICAgIGlmICghKG5vZGVUb1JlcGxhY2UgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgZm9ybWF0RGV2RXJyb3JNZXNzYWdlKGAkeydub2RlVG9SZXBsYWNlJ30gc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQuIFlvdSBtYXkgd2FudCB0byBjaGVjayBzcGxpdE9mZnNldHMgcGFzc2VkIHRvIHRoZSBzcGxpdFRleHQuYCk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXBsYWNlbWVudE5vZGUgPSBjcmVhdGVOb2RlKG5vZGVUb1JlcGxhY2UpO1xuICAgICAgcmVwbGFjZW1lbnROb2RlLnNldEZvcm1hdChub2RlVG9SZXBsYWNlLmdldEZvcm1hdCgpKTtcbiAgICAgIG5vZGVUb1JlcGxhY2UucmVwbGFjZShyZXBsYWNlbWVudE5vZGUpO1xuICAgICAgaWYgKGN1cnJlbnROb2RlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJldk1hdGNoTGVuZ3RoVG9Ta2lwID0gMDtcbiAgICAgIHByZXZTaWJsaW5nID0gcmVwbGFjZW1lbnROb2RlO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgJHJldmVyc2VOb2RlVHJhbnNmb3JtID0gbm9kZSA9PiB7XG4gICAgY29uc3QgdGV4dCA9IG5vZGUuZ2V0VGV4dENvbnRlbnQoKTtcbiAgICBjb25zdCBtYXRjaCA9IGdldE1hdGNoKHRleHQpO1xuICAgIGlmIChtYXRjaCA9PT0gbnVsbCB8fCBtYXRjaC5zdGFydCAhPT0gMCkge1xuICAgICAgJHJlcGxhY2VXaXRoU2ltcGxlVGV4dChub2RlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRleHQubGVuZ3RoID4gbWF0Y2guZW5kKSB7XG4gICAgICAvLyBUaGlzIHdpbGwgc3BsaXQgb3V0IHRoZSByZXN0IG9mIHRoZSB0ZXh0IGFzIHNpbXBsZSB0ZXh0XG4gICAgICBub2RlLnNwbGl0VGV4dChtYXRjaC5lbmQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcmV2U2libGluZyA9IG5vZGUuZ2V0UHJldmlvdXNTaWJsaW5nKCk7XG4gICAgaWYgKCRpc1RleHROb2RlKHByZXZTaWJsaW5nKSAmJiBwcmV2U2libGluZy5pc1RleHRFbnRpdHkoKSkge1xuICAgICAgJHJlcGxhY2VXaXRoU2ltcGxlVGV4dChwcmV2U2libGluZyk7XG4gICAgICAkcmVwbGFjZVdpdGhTaW1wbGVUZXh0KG5vZGUpO1xuICAgIH1cbiAgICBjb25zdCBuZXh0U2libGluZyA9IG5vZGUuZ2V0TmV4dFNpYmxpbmcoKTtcbiAgICBpZiAoJGlzVGV4dE5vZGUobmV4dFNpYmxpbmcpICYmIG5leHRTaWJsaW5nLmlzVGV4dEVudGl0eSgpKSB7XG4gICAgICAkcmVwbGFjZVdpdGhTaW1wbGVUZXh0KG5leHRTaWJsaW5nKTtcblxuICAgICAgLy8gVGhpcyBtYXkgaGF2ZSBhbHJlYWR5IGJlZW4gY29udmVydGVkIGluIHRoZSBwcmV2aW91cyBibG9ja1xuICAgICAgaWYgKGlzVGFyZ2V0Tm9kZShub2RlKSkge1xuICAgICAgICAkcmVwbGFjZVdpdGhTaW1wbGVUZXh0KG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlUGxhaW5UZXh0VHJhbnNmb3JtID0gZWRpdG9yLnJlZ2lzdGVyTm9kZVRyYW5zZm9ybShUZXh0Tm9kZSwgJHRleHROb2RlVHJhbnNmb3JtKTtcbiAgY29uc3QgcmVtb3ZlUmV2ZXJzZU5vZGVUcmFuc2Zvcm0gPSBlZGl0b3IucmVnaXN0ZXJOb2RlVHJhbnNmb3JtKHRhcmdldE5vZGUsICRyZXZlcnNlTm9kZVRyYW5zZm9ybSk7XG4gIHJldHVybiBbcmVtb3ZlUGxhaW5UZXh0VHJhbnNmb3JtLCByZW1vdmVSZXZlcnNlTm9kZVRyYW5zZm9ybV07XG59XG5cbmV4cG9ydCB7ICRjYW5TaG93UGxhY2Vob2xkZXIsICRjYW5TaG93UGxhY2Vob2xkZXJDdXJyeSwgJGZpbmRUZXh0SW50ZXJzZWN0aW9uRnJvbUNoYXJhY3RlcnMsICRpc1Jvb3RUZXh0Q29udGVudEVtcHR5LCAkaXNSb290VGV4dENvbnRlbnRFbXB0eUN1cnJ5LCAkcm9vdFRleHRDb250ZW50LCByZWdpc3RlckxleGljYWxUZXh0RW50aXR5IH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@lexical/text/LexicalText.dev.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@payloadcms/richtext-lexical/dist/exports/client/Field-QUXIGJRC.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@payloadcms/richtext-lexical/dist/exports/client/Field-QUXIGJRC.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RichText: () => (/* binding */ As)\n/* harmony export */ });\n/* harmony import */ var _chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-AFXLIYGL.js */ \"(app-pages-browser)/./node_modules/@payloadcms/richtext-lexical/dist/exports/client/chunk-AFXLIYGL.js\");\n/* harmony import */ var _chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./chunk-BZZVLW4U.js */ \"(app-pages-browser)/./node_modules/@payloadcms/richtext-lexical/dist/exports/client/chunk-BZZVLW4U.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var _payloadcms_ui__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @payloadcms/ui */ \"(app-pages-browser)/./node_modules/@payloadcms/ui/dist/exports/client/index.js\");\n/* harmony import */ var _payloadcms_ui_shared__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @payloadcms/ui/shared */ \"(app-pages-browser)/./node_modules/@payloadcms/ui/dist/exports/shared/index.js\");\n/* harmony import */ var dequal_lite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dequal/lite */ \"(app-pages-browser)/./node_modules/dequal/lite/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react_error_boundary__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! react-error-boundary */ \"(app-pages-browser)/./node_modules/react-error-boundary/dist/react-error-boundary.development.esm.js\");\n/* harmony import */ var _bundled_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bundled.css */ \"(app-pages-browser)/./node_modules/@payloadcms/richtext-lexical/dist/exports/client/bundled.css\");\n/* harmony import */ var _lexical_react_LexicalComposer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @lexical/react/LexicalComposer.js */ \"(app-pages-browser)/./node_modules/@lexical/react/LexicalComposer.dev.mjs\");\n/* harmony import */ var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/compiler-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/compiler-runtime.js\");\n/* harmony import */ var _lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lexical/react/LexicalComposerContext */ \"(app-pages-browser)/./node_modules/@lexical/react/LexicalComposerContext.dev.mjs\");\n/* harmony import */ var _lexical_react_LexicalErrorBoundary_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @lexical/react/LexicalErrorBoundary.js */ \"(app-pages-browser)/./node_modules/@lexical/react/LexicalErrorBoundary.dev.mjs\");\n/* harmony import */ var _lexical_react_LexicalHistoryPlugin_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @lexical/react/LexicalHistoryPlugin.js */ \"(app-pages-browser)/./node_modules/@lexical/react/LexicalHistoryPlugin.dev.mjs\");\n/* harmony import */ var _lexical_react_LexicalOnChangePlugin_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @lexical/react/LexicalOnChangePlugin.js */ \"(app-pages-browser)/./node_modules/@lexical/react/LexicalOnChangePlugin.dev.mjs\");\n/* harmony import */ var _lexical_react_LexicalRichTextPlugin_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @lexical/react/LexicalRichTextPlugin.js */ \"(app-pages-browser)/./node_modules/@lexical/react/LexicalRichTextPlugin.dev.mjs\");\n/* harmony import */ var _lexical_react_useLexicalEditable__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @lexical/react/useLexicalEditable */ \"(app-pages-browser)/./node_modules/@lexical/react/useLexicalEditable.dev.mjs\");\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lexical */ \"(app-pages-browser)/./node_modules/lexical/Lexical.dev.mjs\");\n/* harmony import */ var _lexical_clipboard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @lexical/clipboard */ \"(app-pages-browser)/./node_modules/@lexical/clipboard/LexicalClipboard.dev.mjs\");\n/* harmony import */ var _lexical_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @lexical/utils */ \"(app-pages-browser)/./node_modules/@lexical/utils/LexicalUtils.dev.mjs\");\n/* harmony import */ var bson_objectid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bson-objectid */ \"(app-pages-browser)/./node_modules/bson-objectid/objectid.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var _lexical_rich_text__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @lexical/rich-text */ \"(app-pages-browser)/./node_modules/@lexical/rich-text/LexicalRichText.dev.mjs\");\n/* harmony import */ var _payloadcms_ui__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @payloadcms/ui */ \"(app-pages-browser)/./node_modules/@payloadcms/ui/dist/exports/client/chunk-AZDI6MW4.js\");\n/* harmony import */ var _lexical_react_LexicalContentEditable_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @lexical/react/LexicalContentEditable.js */ \"(app-pages-browser)/./node_modules/@lexical/react/LexicalContentEditable.dev.mjs\");\n/* __next_internal_client_entry_do_not_use__ RichText auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar K = (param)=>{\n    let { anchorElem: t, clientProps: e, plugin: o } = param;\n    return o.position === \"floatingAnchorElem\" && t ? o.Component && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(o.Component, {\n        anchorElem: t,\n        clientProps: e\n    }) : o.Component && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(o.Component, {\n        clientProps: e\n    });\n};\n_c = K;\n\n\n\n\n\n\n\nfunction Be() {\n    let t = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_4__.c)(3), [e] = (0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)(), o, r;\n    return t[0] !== e ? (o = ()=>e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.COPY_COMMAND, (n)=>((0,_lexical_clipboard__WEBPACK_IMPORTED_MODULE_8__.copyToClipboard)(e, (0,_lexical_utils__WEBPACK_IMPORTED_MODULE_9__.objectKlassEquals)(n, ClipboardEvent) ? n : null).then(()=>{\n                if (!(n instanceof ClipboardEvent) || !n.clipboardData) throw new Error(\"No clipboard event\");\n                let d = n.clipboardData.getData(\"application/x-lexical-editor\");\n                if (!d) return !0;\n                let i = JSON.parse(d), s = (u)=>{\n                    if (\"fields\" in u && typeof u.fields == \"object\" && u.fields !== null && \"id\" in u.fields ? u.fields.id = new bson_objectid__WEBPACK_IMPORTED_MODULE_5__[\"default\"]().toHexString() : \"id\" in u && (u.id = new bson_objectid__WEBPACK_IMPORTED_MODULE_5__[\"default\"]().toHexString()), u.children) for (let y of u.children)s(y);\n                };\n                for (let u of i.nodes)s(u);\n                let c = JSON.stringify(i);\n                n.clipboardData.setData(\"application/x-lexical-editor\", c);\n            }).catch((d)=>{\n                var _n_clipboardData;\n                throw n instanceof ClipboardEvent && ((_n_clipboardData = n.clipboardData) === null || _n_clipboardData === void 0 ? void 0 : _n_clipboardData.setData(\"application/x-lexical-editor\", \"\")), d;\n            }), !0), lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), r = [\n        e\n    ], t[0] = e, t[1] = o, t[2] = r) : (o = t[1], r = t[2]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(o, r), null;\n}\n_c1 = Be;\n\n\n\n\n\nfunction Fe() {\n    let t = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_4__.c)(3), [e] = (0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)(), o = oo, r, n;\n    return t[0] !== e ? (r = ()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_9__.mergeRegister)(e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.CLICK_COMMAND, to, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_DELETE_COMMAND, o, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_BACKSPACE_COMMAND, o, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.SELECTION_CHANGE_COMMAND, eo, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_ARROW_UP_COMMAND, Xt, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_ARROW_DOWN_COMMAND, Jt, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW)), n = [\n        e\n    ], t[0] = e, t[1] = r, t[2] = n) : (r = t[1], n = t[2]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(r, n), null;\n}\n_c2 = Fe;\nfunction Jt(t) {\n    let e = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n    if ((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isNodeSelection)(e)) {\n        var _e_getNodes_, _ne;\n        t.preventDefault();\n        let i = (_e_getNodes_ = e.getNodes()[0]) === null || _e_getNodes_ === void 0 ? void 0 : _e_getNodes_.getNextSibling();\n        if ((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isDecoratorNode)(i)) {\n            let u = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getEditor)().getElementByKey(i.getKey());\n            return u && Z({\n                element: u,\n                node: i\n            }), !0;\n        }\n        if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isElementNode)(i)) return !0;\n        var _i_getFirstDescendant;\n        let s = (_i_getFirstDescendant = i.getFirstDescendant()) !== null && _i_getFirstDescendant !== void 0 ? _i_getFirstDescendant : i;\n        return s && ((_ne = (0,_lexical_utils__WEBPACK_IMPORTED_MODULE_9__.$findMatchingParent)(s, se)) === null || _ne === void 0 ? void 0 : _ne.selectEnd(), t.preventDefault()), !0;\n    }\n    if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isRangeSelection)(e)) return !1;\n    let r = (e.isBackward() ? e.anchor : e.focus).getNode(), n = (0,_lexical_utils__WEBPACK_IMPORTED_MODULE_9__.$findMatchingParent)(r, Qt), d = n === null || n === void 0 ? void 0 : n.getNextSibling();\n    if (!n || d !== $e(n)) return !1;\n    if ((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isDecoratorNode)(d)) {\n        let i = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getEditor)().getElementByKey(d.getKey());\n        if (i) return Z({\n            element: i,\n            node: d\n        }), t.preventDefault(), !0;\n    }\n    return !1;\n}\n_c3 = Jt;\nfunction Qt(t) {\n    return $e(t) !== null;\n}\n_c4 = Qt;\nfunction Xt(t) {\n    let e = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n    if ((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isNodeSelection)(e)) {\n        var _e_getNodes_, _ne;\n        let i = (_e_getNodes_ = e.getNodes()[0]) === null || _e_getNodes_ === void 0 ? void 0 : _e_getNodes_.getPreviousSibling();\n        if ((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isDecoratorNode)(i)) {\n            let u = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getEditor)().getElementByKey(i.getKey());\n            return u ? (Z({\n                element: u,\n                node: i\n            }), t.preventDefault(), !0) : !1;\n        }\n        if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isElementNode)(i)) return !1;\n        var _i_getLastDescendant;\n        let s = (_i_getLastDescendant = i.getLastDescendant()) !== null && _i_getLastDescendant !== void 0 ? _i_getLastDescendant : i;\n        return s ? ((_ne = (0,_lexical_utils__WEBPACK_IMPORTED_MODULE_9__.$findMatchingParent)(s, se)) === null || _ne === void 0 ? void 0 : _ne.selectStart(), t.preventDefault(), !0) : !1;\n    }\n    if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isRangeSelection)(e)) return !1;\n    let r = (e.isBackward() ? e.anchor : e.focus).getNode(), n = (0,_lexical_utils__WEBPACK_IMPORTED_MODULE_9__.$findMatchingParent)(r, Zt), d = n === null || n === void 0 ? void 0 : n.getPreviousSibling();\n    if (!n || d !== Ke(n)) return !1;\n    if ((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isDecoratorNode)(d)) {\n        let i = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getEditor)().getElementByKey(d.getKey());\n        if (i) return Z({\n            element: i,\n            node: d\n        }), t.preventDefault(), !0;\n    }\n    return !1;\n}\n_c5 = Xt;\nfunction Zt(t) {\n    return Ke(t) !== null;\n}\n_c6 = Zt;\nfunction eo() {\n    var _document_querySelector, _t_element;\n    let t = io();\n    return (_document_querySelector = document.querySelector(\".decorator-selected\")) === null || _document_querySelector === void 0 ? void 0 : _document_querySelector.classList.remove(\"decorator-selected\"), t ? ((_t_element = t.element) === null || _t_element === void 0 ? void 0 : _t_element.classList.add(\"decorator-selected\"), !0) : !1;\n}\nfunction to(t) {\n    var _document_querySelector;\n    (_document_querySelector = document.querySelector(\".decorator-selected\")) === null || _document_querySelector === void 0 ? void 0 : _document_querySelector.classList.remove(\"decorator-selected\");\n    let e = ro(t);\n    if (!e) return !0;\n    let { target: o } = t;\n    return !(o instanceof HTMLElement) || o.isContentEditable || o.closest('button, textarea, input, .react-select, .code-editor, .no-select-decorator, [role=\"button\"]') ? (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$setSelection)(null) : Z(e), !0;\n}\nfunction oo(t) {\n    let e = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n    return (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isNodeSelection)(e) ? (t.preventDefault(), e.getNodes().forEach(no), !0) : !1;\n}\nfunction no(t) {\n    t.remove();\n}\nfunction ro(t) {\n    if (!(t.target instanceof HTMLElement)) return;\n    let e = t.target.closest('[data-lexical-decorator=\"true\"]');\n    if (!(e instanceof HTMLElement)) return;\n    let o = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getNearestNodeFromDOMNode)(e);\n    return (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isDecoratorNode)(o) ? {\n        element: e,\n        node: o\n    } : void 0;\n}\nfunction io() {\n    let t = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n    if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isNodeSelection)(t)) return;\n    let e = t.getNodes();\n    if (e.length !== 1) return;\n    let o = e[0];\n    return (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isDecoratorNode)(o) ? {\n        decorator: o,\n        element: (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getEditor)().getElementByKey(o.getKey())\n    } : void 0;\n}\nfunction Z(param) {\n    let { element: t, node: e } = param;\n    var _document_querySelector;\n    (_document_querySelector = document.querySelector(\".decorator-selected\")) === null || _document_querySelector === void 0 ? void 0 : _document_querySelector.classList.remove(\"decorator-selected\");\n    let o = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$createNodeSelection)();\n    o.add(e.getKey()), (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$setSelection)(o), t.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"nearest\"\n    }), t.classList.add(\"decorator-selected\");\n}\n_c7 = Z;\nfunction se(t) {\n    if ((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isDecoratorNode)(t) && !t.isInline()) return !0;\n    if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isElementNode)(t) || (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isRootOrShadowRoot)(t)) return !1;\n    let e = t.getFirstChild(), o = e === null || (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isLineBreakNode)(e) || (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isTextNode)(e) || e.isInline();\n    return !t.isInline() && t.canBeEmpty() !== !1 && o;\n}\nfunction $e(t) {\n    let e = t.getNextSibling();\n    for(; e !== null;){\n        if (se(e)) return e;\n        e = e.getNextSibling();\n    }\n    return null;\n}\nfunction Ke(t) {\n    let e = t.getPreviousSibling();\n    for(; e !== null;){\n        if (se(e)) return e;\n        e = e.getPreviousSibling();\n    }\n    return null;\n}\n_c8 = Ke;\n\n\n\n\n\n\nvar Y = function(t, e, o, r) {\n    let n = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 50, d = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : 25;\n    let i = 0;\n    if (t && !t.contains(r)) {\n        let { bottom: s, left: c, right: u, top: y } = t.getBoundingClientRect(), l = y + window.scrollY, a = s + window.scrollY;\n        if (o < l - d || o > a + d || e < c - n || e > u + n) return -1;\n        (e < c || e > u) && (i = e < c ? e - c : e - u);\n    }\n    return i;\n};\n_c9 = Y;\n\nfunction V(t) {\n    let e = t.getBoundingClientRect(), o = getComputedStyle(t).getPropertyValue(\"transform\");\n    if (!o || o === \"none\") return e;\n    let r = o.split(\",\").pop();\n    return e.y = e.y - Number(r === null || r === void 0 ? void 0 : r.replace(\")\", \"\")), e;\n}\n_c10 = V;\nfunction le(t) {\n    let e = (c, u)=>c ? parseFloat(window.getComputedStyle(c)[u]) : 0, { marginBottom: o, marginTop: r } = window.getComputedStyle(t), n = e(t.previousElementSibling, \"marginBottom\"), d = e(t.nextElementSibling, \"marginTop\"), i = Math.max(parseFloat(r), n);\n    return {\n        marginBottom: Math.max(parseFloat(o), d),\n        marginTop: i\n    };\n}\n\nfunction j(t) {\n    return t.getEditorState().read(()=>(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getRoot)().getChildrenKeys());\n}\nvar lo = 1, ao = -1, He = 0, _ = {\n    props: null,\n    result: null\n};\nfunction co(t, e) {\n    let o = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 20;\n    let r = t.x - e.x, n = t.y - e.y;\n    return r * r + n * n <= o * o;\n}\nfunction G(t) {\n    let { anchorElem: e, cache_threshold: o = 20, editor: r, fuzzy: n = !1, horizontalOffset: d = 0, point: { x: i, y: s }, startIndex: c = 0, useEdgeAsDefault: u = !1 } = t;\n    if (o > 0 && _.props && _.result && _.props.fuzzy === t.fuzzy && _.props.horizontalOffset === t.horizontalOffset && _.props.useEdgeAsDefault === t.useEdgeAsDefault && co(_.props.point, t.point, o)) return _.result;\n    let y = e.getBoundingClientRect(), l = j(r), a = {\n        blockElem: null,\n        blockNode: null,\n        distance: 1 / 0,\n        foundAtIndex: -1,\n        isFoundNodeEmptyParagraph: !1\n    };\n    return r.getEditorState().read(()=>{\n        if (u) {\n            let g = r.getElementByKey(l[0]), m = r.getElementByKey(l[l.length - 1]);\n            if (g && m) {\n                let [p, f] = [\n                    V(g),\n                    V(m)\n                ];\n                if (s < p.top ? (a.blockElem = g, a.distance = p.top - s, a.blockNode = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getNodeByKey)(l[0]), a.foundAtIndex = 0) : s > f.bottom && (a.distance = s - f.bottom, a.blockNode = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getNodeByKey)(l[l.length - 1]), a.blockElem = m, a.foundAtIndex = l.length - 1), a === null || a === void 0 ? void 0 : a.blockElem) return {\n                    blockElem: null,\n                    isFoundNodeEmptyParagraph: !1\n                };\n            }\n        }\n        let h = c, x = He;\n        for(; h >= 0 && h < l.length;){\n            let g = l[h], m = r.getElementByKey(g);\n            if (m === null) break;\n            let p = new _chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__.f(i + d, s), f = _chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__.k.fromDOMRect(V(m)), { marginBottom: C, marginTop: k } = le(m), S = f.generateNewRect({\n                bottom: f.bottom + C,\n                left: y.left,\n                right: y.right,\n                top: f.top - k\n            }), { distance: b, isOnBottomSide: w, isOnTopSide: N } = S.distanceFromPoint(p);\n            if (b === 0) {\n                a.blockElem = m, a.blockNode = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getNodeByKey)(g), a.foundAtIndex = h, a.distance = b, a.blockNode && a.blockNode.getType() === \"paragraph\" && a.blockNode.getTextContent() === \"\" && (!n && !t.returnEmptyParagraphs && (a.blockElem = null, a.blockNode = null), a.isFoundNodeEmptyParagraph = !0);\n                break;\n            } else n && b < a.distance && (a.blockElem = m, a.blockNode = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getNodeByKey)(g), a.distance = b, a.foundAtIndex = h);\n            x === He && (N ? x = ao : w ? x = lo : x = 1 / 0), h += x;\n        }\n    }), _.props = t, _.result = {\n        blockElem: a.blockElem,\n        blockNode: a.blockNode,\n        foundAtIndex: a.foundAtIndex,\n        isFoundNodeEmptyParagraph: a.isFoundNodeEmptyParagraph\n    }, {\n        blockElem: a.blockElem,\n        blockNode: a.blockNode,\n        foundAtIndex: a.foundAtIndex,\n        isFoundNodeEmptyParagraph: a.isFoundNodeEmptyParagraph\n    };\n}\n_c11 = G;\nfunction ce(t, e) {\n    return !!t.closest(\".\".concat(e));\n}\nvar uo = [\n    \"IMG\",\n    \"INPUT\",\n    \"TEXTAREA\",\n    \"SELECT\",\n    \"BUTTON\",\n    \"VIDEO\",\n    \"OBJECT\",\n    \"EMBED\",\n    \"IFRAME\",\n    \"HR\"\n];\nfunction je(t) {\n    if (!t || uo.includes(t.tagName) || t.offsetHeight === 0 || t.offsetWidth === 0) return !1;\n    let e = window.getComputedStyle(t);\n    return !(e.display === \"table-cell\" || e.position === \"absolute\" || e.visibility === \"hidden\" || e.opacity === \"0\");\n}\nfunction de(t, e, o) {\n    let r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n    if (!t) {\n        e.style.opacity = \"0\", e.style.transform = \"translate(-10000px, -10000px)\";\n        return;\n    }\n    let n = t.getBoundingClientRect(), d = window.getComputedStyle(t), i = e.getBoundingClientRect(), s = o.getBoundingClientRect(), c;\n    if ([\n        \"LexicalEditorTheme__block\",\n        \"LexicalEditorTheme__upload\",\n        \"LexicalEditorTheme__relationship\"\n    ].some((l)=>{\n        var _t_firstElementChild;\n        return t.classList.contains(l) || ((_t_firstElementChild = t.firstElementChild) === null || _t_firstElementChild === void 0 ? void 0 : _t_firstElementChild.classList.contains(l));\n    })) c = n.top + 8 - s.top;\n    else {\n        let l = je(t) ? parseInt(d.lineHeight, 10) : 0;\n        c = n.top + (l - i.height) / 2 - s.top;\n    }\n    let y = r;\n    e.style.opacity = \"1\", e.style.transform = \"translate(\".concat(y, \"px, \").concat(c, \"px)\");\n}\nvar Eo = \"add-block-menu\", ue = 1 / 0;\nfunction Co(t) {\n    return t === 0 ? 1 / 0 : ue >= 0 && ue < t ? ue : Math.floor(t / 2);\n}\n_c12 = Co;\nfunction bo(t, e, o) {\n    var _n_admin;\n    let r = e.parentElement, { editorConfig: n } = (0,_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_12__.b)(), d = (n === null || n === void 0 ? void 0 : (_n_admin = n.admin) === null || _n_admin === void 0 ? void 0 : _n_admin.hideGutter) ? -24 : 12, i = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null), [s, c] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        var _document;\n        function y(l) {\n            let a = l.target;\n            if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.isHTMLElement)(a)) return;\n            let h = Y(r, l.pageX, l.pageY, a);\n            if (h === -1) {\n                c(null);\n                return;\n            }\n            if (ce(a, Eo)) return;\n            let x = j(t), { blockElem: g, blockNode: m, foundAtIndex: p } = G({\n                anchorElem: e,\n                cache_threshold: 0,\n                editor: t,\n                horizontalOffset: -h,\n                point: new _chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__.f(l.x, l.y),\n                returnEmptyParagraphs: !0,\n                startIndex: Co(x.length),\n                useEdgeAsDefault: !1\n            });\n            ue = p, g && m && ((s === null || s === void 0 ? void 0 : s.node) !== m || (s === null || s === void 0 ? void 0 : s.elem) !== g) && c({\n                elem: g,\n                node: m\n            });\n        }\n        return (_document = document) === null || _document === void 0 ? void 0 : _document.addEventListener(\"mousemove\", y), ()=>{\n            var _document;\n            (_document = document) === null || _document === void 0 ? void 0 : _document.removeEventListener(\"mousemove\", y);\n        };\n    }, [\n        r,\n        e,\n        t,\n        s\n    ]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        i.current && (s === null || s === void 0 ? void 0 : s.node) && de(s === null || s === void 0 ? void 0 : s.elem, i.current, e, d);\n    }, [\n        e,\n        s,\n        d\n    ]);\n    let u = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((y)=>{\n        let l = s;\n        (l === null || l === void 0 ? void 0 : l.node) && (t.update(()=>{\n            let a = !0;\n            if (((l === null || l === void 0 ? void 0 : l.node.getType()) !== \"paragraph\" || l.node.getTextContent() !== \"\") && (a = !1), !a) {\n                let h = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$createParagraphNode)();\n                l === null || l === void 0 ? void 0 : l.node.insertAfter(h), setTimeout(()=>{\n                    l = {\n                        elem: t.getElementByKey(h.getKey()),\n                        node: h\n                    }, c(l);\n                }, 0);\n            }\n        }), setTimeout(()=>{\n            t.update(()=>{\n                t.focus(), (l === null || l === void 0 ? void 0 : l.node) && \"select\" in l.node && typeof l.node.select == \"function\" && l.node.select();\n            });\n        }, 1), setTimeout(()=>{\n            t.dispatchCommand(_chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__.i, {\n                node: l === null || l === void 0 ? void 0 : l.node\n            });\n        }, 2), y.stopPropagation(), y.preventDefault());\n    }, [\n        t,\n        s\n    ]);\n    return /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_10__.createPortal)((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n            \"aria-label\": \"Add block\",\n            className: \"icon add-block-menu\",\n            onClick: (y)=>{\n                u(y);\n            },\n            ref: i,\n            type: \"button\",\n            children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: o ? \"icon\" : \"\"\n            })\n        })\n    }), e);\n}\nfunction Ye(t) {\n    let { anchorElem: e } = t, o = e === void 0 ? document.body : e, [r] = (0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)();\n    return bo(r, o, r._editable);\n}\n_c13 = Ye;\n\n\n\n\n\n\n\nvar Ve = 0, No = -24;\nvar z = 0;\nfunction Ge(t, e, o, r, n, d, i, s, c) {\n    let u = arguments.length > 9 && arguments[9] !== void 0 ? arguments[9] : !1;\n    let { height: y, top: l } = r.getBoundingClientRect(), { top: a, width: h } = i.getBoundingClientRect(), { marginBottom: x, marginTop: g } = le(r), m = l, p = d >= l + y / 2 + window.scrollY, f = !1;\n    if (n === null || n === void 0 ? void 0 : n.elem) if (r !== (n === null || n === void 0 ? void 0 : n.elem)) (p && (n === null || n === void 0 ? void 0 : n.elem) && (n === null || n === void 0 ? void 0 : n.elem) === r.nextElementSibling || !p && (n === null || n === void 0 ? void 0 : n.elem) && (n === null || n === void 0 ? void 0 : n.elem) === r.previousElementSibling) && (z++, z < 200 && (f = !0));\n    else {\n        var _n_boundingBox;\n        z++;\n        let b = n === null || n === void 0 ? void 0 : (_n_boundingBox = n.boundingBox) === null || _n_boundingBox === void 0 ? void 0 : _n_boundingBox.y, w = r.getBoundingClientRect().y;\n        (p === (n === null || n === void 0 ? void 0 : n.isBelow) && b === w || z < 200) && (f = !1);\n    }\n    if (f) return {\n        isBelow: p,\n        willStayInSamePosition: f\n    };\n    u ? m += y / 2 : p ? m += y + x / 2 : m -= g / 2;\n    let C = 0;\n    u || (p ? C = -Ve : C = Ve);\n    let k = m - a + C, S = No - e;\n    return o.style.width = \"calc(\".concat(h, \"px - \").concat(t, \")\"), o.style.opacity = \".8\", o.style.transform = \"translate(\".concat(S, \"px, calc(\").concat(k, \"px - 2px))\"), (n === null || n === void 0 ? void 0 : n.elem) && (n.elem.style.opacity = \"\", (n === null || n === void 0 ? void 0 : n.elem) === r ? p ? n.elem.style.marginTop = \"\" : n.elem.style.marginBottom = \"\" : (n.elem.style.marginBottom = \"\", n.elem.style.marginTop = \"\")), z = 0, {\n        isBelow: p,\n        willStayInSamePosition: f\n    };\n}\n_c14 = Ge;\nvar ko = \"draggable-block-menu\", Qe = \"application/x-lexical-drag-block\", ee = 1 / 0;\nfunction Xe(t) {\n    return t === 0 ? 1 / 0 : ee >= 0 && ee < t ? ee : Math.floor(t / 2);\n}\n_c15 = Xe;\nfunction To(t, e) {\n    let { transform: o } = e.style;\n    t.setDragImage(e, 0, 0), setTimeout(()=>{\n        e.style.transform = o;\n    });\n}\n_c16 = To;\nfunction Ze(t, e) {\n    t && (t.style.opacity = \"0\"), e && (e.style.opacity = \"\", e.style.marginBottom = \"\", e.style.marginTop = \"\");\n}\n_c17 = Ze;\nfunction Do(t, e, o) {\n    var _a_admin, _a_admin1;\n    let r = e.parentElement, n = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null), d = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null), i = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null), s = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(!1), [c, u] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null), [y, l] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null), { editorConfig: a } = (0,_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_12__.b)(), h = (a === null || a === void 0 ? void 0 : (_a_admin = a.admin) === null || _a_admin === void 0 ? void 0 : _a_admin.hideGutter) ? -44 : -8;\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        var _document;\n        function m(p) {\n            let f = p.target;\n            if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.isHTMLElement)(f)) return;\n            let C = Y(r, p.pageX, p.pageY, f);\n            if (C === -1) {\n                u(null);\n                return;\n            }\n            if (ce(f, ko)) return;\n            let k = j(t), { blockElem: S, foundAtIndex: b, isFoundNodeEmptyParagraph: w } = G({\n                anchorElem: e,\n                cache_threshold: 0,\n                editor: t,\n                horizontalOffset: -C,\n                point: new _chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__.f(p.x, p.y),\n                startIndex: Xe(k.length),\n                useEdgeAsDefault: !1,\n                verbose: !1\n            });\n            ee = b, !(!S && !w) && c !== S && u(S);\n        }\n        return (_document = document) === null || _document === void 0 ? void 0 : _document.addEventListener(\"mousemove\", m), ()=>{\n            var _document;\n            (_document = document) === null || _document === void 0 ? void 0 : _document.removeEventListener(\"mousemove\", m);\n        };\n    }, [\n        r,\n        e,\n        t,\n        c\n    ]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        n.current && de(c, n.current, e, h);\n    }, [\n        e,\n        c,\n        h\n    ]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        function m(f) {\n            if (!s.current) return !1;\n            let [C] = (0,_lexical_rich_text__WEBPACK_IMPORTED_MODULE_13__.eventFiles)(f);\n            if (C) return !1;\n            let { pageY: k, target: S } = f;\n            if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.isHTMLElement)(S)) return !1;\n            let b = Y(r, f.pageX, f.pageY, S, 100, 50), w = j(t), { blockElem: N, foundAtIndex: L, isFoundNodeEmptyParagraph: I } = G({\n                anchorElem: e,\n                editor: t,\n                fuzzy: !0,\n                horizontalOffset: -b,\n                point: new _chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__.f(f.x, f.y),\n                startIndex: Xe(w.length),\n                useEdgeAsDefault: !0,\n                verbose: !0\n            });\n            ee = L;\n            let T = d.current;\n            if (N === null || T === null) return !1;\n            if (c !== N) {\n                var _a_admin, _a_admin1, _n_current_getBoundingClientRect, _n_current, _n_current_getBoundingClientRect1, _n_current1;\n                var _n_current_getBoundingClientRect_width, _n_current_getBoundingClientRect_width1;\n                let { isBelow: D, willStayInSamePosition: J } = Ge((a === null || a === void 0 ? void 0 : (_a_admin = a.admin) === null || _a_admin === void 0 ? void 0 : _a_admin.hideGutter) ? \"0px\" : \"3rem\", h + ((a === null || a === void 0 ? void 0 : (_a_admin1 = a.admin) === null || _a_admin1 === void 0 ? void 0 : _a_admin1.hideGutter) ? (_n_current_getBoundingClientRect_width = n === null || n === void 0 ? void 0 : (_n_current = n.current) === null || _n_current === void 0 ? void 0 : (_n_current_getBoundingClientRect = _n_current.getBoundingClientRect()) === null || _n_current_getBoundingClientRect === void 0 ? void 0 : _n_current_getBoundingClientRect.width) !== null && _n_current_getBoundingClientRect_width !== void 0 ? _n_current_getBoundingClientRect_width : 0 : -((_n_current_getBoundingClientRect_width1 = n === null || n === void 0 ? void 0 : (_n_current1 = n.current) === null || _n_current1 === void 0 ? void 0 : (_n_current_getBoundingClientRect1 = _n_current1.getBoundingClientRect()) === null || _n_current_getBoundingClientRect1 === void 0 ? void 0 : _n_current_getBoundingClientRect1.width) !== null && _n_current_getBoundingClientRect_width1 !== void 0 ? _n_current_getBoundingClientRect_width1 : 0)), T, N, y, k, e, f, i, I);\n                f.preventDefault(), J || l({\n                    boundingBox: N.getBoundingClientRect(),\n                    elem: N,\n                    isBelow: D\n                });\n            } else (y === null || y === void 0 ? void 0 : y.elem) && (Ze(T, y.elem), l({\n                boundingBox: N.getBoundingClientRect(),\n                elem: N,\n                isBelow: !1\n            }));\n            return !0;\n        }\n        function p(f) {\n            if (!s.current) return !1;\n            let [C] = (0,_lexical_rich_text__WEBPACK_IMPORTED_MODULE_13__.eventFiles)(f);\n            if (C) return !1;\n            let { dataTransfer: k, pageY: S, target: b } = f, w = (k === null || k === void 0 ? void 0 : k.getData(Qe)) || \"\";\n            return t.update(()=>{\n                let N = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getNodeByKey)(w);\n                if (!N || !(0,lexical__WEBPACK_IMPORTED_MODULE_7__.isHTMLElement)(b)) return !1;\n                let L = Y(r, f.pageX, f.pageY, b, 100, 50), { blockElem: I, isFoundNodeEmptyParagraph: T } = G({\n                    anchorElem: e,\n                    editor: t,\n                    fuzzy: !0,\n                    horizontalOffset: -L,\n                    point: new _chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__.f(f.x, f.y),\n                    useEdgeAsDefault: !0\n                });\n                if (!I) return !1;\n                let D = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getNearestNodeFromDOMNode)(I);\n                if (!D) return !1;\n                if (D === N) return !0;\n                let { height: J, top: he } = V(I), O = S >= he + J / 2 + window.scrollY;\n                T ? (D.insertBefore(N), D.remove()) : O ? D.insertAfter(N) : D.insertBefore(N), c !== null && u(null), document.querySelectorAll(\".lexical-block-highlighter\").forEach((v)=>{\n                    v.remove();\n                });\n                let oe = t.getElementByKey(N.getKey());\n                setTimeout(()=>{\n                    let v = oe === null || oe === void 0 ? void 0 : oe.getBoundingClientRect();\n                    if (!v) return;\n                    let P = document.createElement(\"div\");\n                    P.className = \"lexical-block-highlighter\", P.style.backgroundColor = \"var(--theme-elevation-1000\", P.style.transition = \"opacity 0.5s ease-in-out\", P.style.zIndex = \"1\", P.style.pointerEvents = \"none\", P.style.boxSizing = \"border-box\", P.style.borderRadius = \"4px\", P.style.position = \"absolute\", document.body.appendChild(P), P.style.opacity = \"0.1\", P.style.height = \"\".concat(v.height + 8, \"px\"), P.style.width = \"\".concat(v.width + 8, \"px\"), P.style.top = \"\".concat(v.top + window.scrollY - 4, \"px\"), P.style.left = \"\".concat(v.left - 4, \"px\"), setTimeout(()=>{\n                        P.style.opacity = \"0\", setTimeout(()=>{\n                            P.remove();\n                        }, 500);\n                    }, 1e3);\n                }, 120);\n            }), !0;\n        }\n        return document.addEventListener(\"dragover\", m), document.addEventListener(\"drop\", p), ()=>{\n            document.removeEventListener(\"dragover\", m), document.removeEventListener(\"drop\", p);\n        };\n    }, [\n        r,\n        h,\n        e,\n        t,\n        y,\n        c,\n        a === null || a === void 0 ? void 0 : (_a_admin1 = a.admin) === null || _a_admin1 === void 0 ? void 0 : _a_admin1.hideGutter\n    ]);\n    function x(m) {\n        let p = m.dataTransfer;\n        if (!p || !c) return;\n        To(p, c);\n        let f = \"\";\n        t.update(()=>{\n            let C = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getNearestNodeFromDOMNode)(c);\n            C && (f = C.getKey());\n        }), s.current = !0, p.setData(Qe, f);\n    }\n    function g() {\n        s.current = !1, (y === null || y === void 0 ? void 0 : y.elem) && Ze(d.current, y === null || y === void 0 ? void 0 : y.elem);\n    }\n    return /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_10__.createPortal)((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                \"aria-label\": \"Drag to move\",\n                className: \"icon draggable-block-menu\",\n                draggable: !0,\n                onDragEnd: g,\n                onDragStart: x,\n                ref: n,\n                type: \"button\",\n                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    className: o ? \"icon\" : \"\"\n                })\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"draggable-block-target-line\",\n                ref: d\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"debug-highlight\",\n                ref: i\n            })\n        ]\n    }), e);\n}\n_c18 = Do;\nfunction tt(t) {\n    let { anchorElem: e } = t, o = e === void 0 ? document.body : e, [r] = (0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)();\n    return Do(r, o, r._editable);\n}\n\n\n\n\n\nvar ot = \"insert-paragraph-at-end\", nt = ()=>{\n    var _o_admin;\n    let t = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_4__.c)(2), [e] = (0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)(), { editorConfig: o } = (0,_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_12__.b)();\n    if (o === null || o === void 0 ? void 0 : (_o_admin = o.admin) === null || _o_admin === void 0 ? void 0 : _o_admin.hideInsertParagraphAtEnd) return null;\n    let r;\n    return t[0] !== e ? (r = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"aria-label\": \"Insert Paragraph\",\n        className: ot,\n        onClick: ()=>{\n            e.update(Ao);\n        },\n        role: \"button\",\n        tabIndex: 0,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            className: \"\".concat(ot, \"-inside\"),\n            children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                children: \"+\"\n            })\n        })\n    }), t[0] = e, t[1] = r) : r = t[1], r;\n};\nfunction Ao() {\n    let t = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$createParagraphNode)();\n    (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getRoot)().append(t), t.select();\n}\n_c19 = Ao;\n\n\n\nvar it = ()=>{\n    _s();\n    let t = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_4__.c)(4), { editorConfig: e } = (0,_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_12__.b)(), [o] = (0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)(), r, n;\n    return t[0] !== o || t[1] !== e.features.markdownTransformers ? (r = ()=>{\n        var _e_features_markdownTransformers;\n        return (0,_chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__.a)(o, (_e_features_markdownTransformers = e.features.markdownTransformers) !== null && _e_features_markdownTransformers !== void 0 ? _e_features_markdownTransformers : []);\n    }, n = [\n        o,\n        e.features.markdownTransformers\n    ], t[0] = o, t[1] = e.features.markdownTransformers, t[2] = r, t[3] = n) : (r = t[2], n = t[3]), react__WEBPACK_IMPORTED_MODULE_2__.useEffect(r, n), null;\n};\n_s(it, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n\n\nfunction st() {\n    let [t] = (0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)();\n    return (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>t.registerNodeTransform(lexical__WEBPACK_IMPORTED_MODULE_7__.RootNode, (e)=>{\n            let o = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n            if ((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isRangeSelection)(o)) {\n                let r = o.anchor.getNode(), n = o.focus.getNode();\n                (!r.isAttached() || !n.isAttached()) && (e.selectEnd(), console.warn(\"updateEditor: selection has been moved to the end of the editor because the previously selected nodes have been removed and selection wasn't moved to another node. Ensure selection changes after removing/replacing a selected node.\"));\n            }\n            return !1;\n        }), [\n        t\n    ]), null;\n}\n\n\n\nfunction lt() {\n    let [t] = (0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)();\n    return (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>t.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.SELECT_ALL_COMMAND, ()=>{\n            if ((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)()) return !1;\n            let o = document.activeElement;\n            return o instanceof HTMLInputElement && o.select(), !0;\n        }, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), [\n        t\n    ]), null;\n}\n\n\n\n\n\n\n\n\nfunction at(t, e) {\n    let o = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_4__.c)(4), { maxLength: r, minLength: n } = e, d = r === void 0 ? 75 : r, i = n === void 0 ? 1 : n, s;\n    return o[0] !== d || o[1] !== i || o[2] !== t ? (s = (c)=>{\n        let { query: u } = c, y = \"[^\" + t + _chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__.h + \"\\\\s]\", a = new RegExp(\"(^|\\\\s|\\\\()([\" + t + \"]((?:\" + y + \"){0,\" + d + \"}))$\").exec(u);\n        if (a !== null) {\n            let h = a[1], x = a[3];\n            if (x.length >= i) return {\n                leadOffset: a.index + h.length,\n                matchingString: x,\n                replaceableString: a[2]\n            };\n        }\n        return null;\n    }, o[0] = d, o[1] = i, o[2] = t, o[3] = s) : s = o[3], s;\n}\nvar A = \"slash-menu-popup\";\nfunction Xo(param) {\n    let { isSelected: t, item: e, onClick: o, onMouseEnter: r, ref: n } = param;\n    let { fieldProps: { featureClientSchemaMap: d, schemaPath: i } } = (0,_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_12__.b)(), { i18n: s } = (0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_14__.d)(), c = \"\".concat(A, \"__item \").concat(A, \"__item-\").concat(e.key);\n    t && (c += \" \".concat(A, \"__item--selected\"));\n    let u = e.key;\n    return e.label && (u = typeof e.label == \"function\" ? e.label({\n        featureClientSchemaMap: d,\n        i18n: s,\n        schemaPath: i\n    }) : e.label), u.length > 25 && (u = u.substring(0, 25) + \"...\"), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n        \"aria-selected\": t,\n        className: c,\n        id: A + \"__item-\" + e.key,\n        onClick: o,\n        onMouseEnter: r,\n        ref: n,\n        role: \"option\",\n        tabIndex: -1,\n        type: \"button\",\n        children: [\n            (e === null || e === void 0 ? void 0 : e.Icon) && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(e.Icon, {}),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                className: \"\".concat(A, \"__item-text\"),\n                children: u\n            })\n        ]\n    }, e.key);\n}\n_c20 = Xo;\nfunction mt(param) {\n    let { anchorElem: t = document.body } = param;\n    let [e] = (0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)(), [o, r] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null), { editorConfig: n } = (0,_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_12__.b)(), { i18n: d } = (0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_14__.d)(), { fieldProps: { featureClientSchemaMap: i, schemaPath: s } } = (0,_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_12__.b)(), c = at(\"/\", {\n        minLength: 0\n    }), u = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>{\n        let l = [];\n        for (let a of n.features.slashMenu.dynamicGroups)if (o) {\n            let h = a({\n                editor: e,\n                queryString: o\n            });\n            l = l.concat(h);\n        }\n        return l;\n    }, [\n        e,\n        o,\n        n === null || n === void 0 ? void 0 : n.features\n    ]), y = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        let l = [];\n        var _n_features_slashMenu_groups;\n        for (let a of (_n_features_slashMenu_groups = n === null || n === void 0 ? void 0 : n.features.slashMenu.groups) !== null && _n_features_slashMenu_groups !== void 0 ? _n_features_slashMenu_groups : [])l.push(a);\n        if (o) {\n            l = l.map((h)=>{\n                let x = h.items.filter((g)=>{\n                    let m = g.key;\n                    return g.label && (m = typeof g.label == \"function\" ? g.label({\n                        featureClientSchemaMap: i,\n                        i18n: d,\n                        schemaPath: s\n                    }) : g.label), new RegExp(o, \"gi\").exec(m) ? !0 : g.keywords != null ? g.keywords.some((p)=>new RegExp(o, \"gi\").exec(p)) : !1;\n                });\n                return x.length ? {\n                    ...h,\n                    items: x\n                } : null;\n            }), l = l.filter((h)=>h != null);\n            let a = u();\n            for (let h of a){\n                var _x_items;\n                let x = l.find((g)=>g.key === h.key);\n                x ? l = l.filter((g)=>g.key !== h.key) : x = {\n                    ...h,\n                    items: []\n                }, (x === null || x === void 0 ? void 0 : (_x_items = x.items) === null || _x_items === void 0 ? void 0 : _x_items.length) && (x.items = x.items.concat(x.items)), l.push(x);\n            }\n        }\n        return l;\n    }, [\n        o,\n        n === null || n === void 0 ? void 0 : n.features.slashMenu.groups,\n        u,\n        i,\n        d,\n        s\n    ]);\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__.j, {\n        anchorElem: t,\n        groups: y,\n        menuRenderFn: (l, param)=>{\n            let { selectedItemKey: a, selectItemAndCleanUp: h, setSelectedItemKey: x } = param;\n            return l.current && y.length ? /*#__PURE__*/ react_dom__WEBPACK_IMPORTED_MODULE_10__.createPortal((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: A,\n                children: y.map((g)=>{\n                    let m = g.key;\n                    return g.label && i && (m = typeof g.label == \"function\" ? g.label({\n                        featureClientSchemaMap: i,\n                        i18n: d,\n                        schemaPath: s\n                    }) : g.label), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"\".concat(A, \"__group \").concat(A, \"__group-\").concat(g.key),\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"\".concat(A, \"__group-title\"),\n                                children: m\n                            }),\n                            g.items.map((p, f)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Xo, {\n                                    index: f,\n                                    isSelected: a === p.key,\n                                    item: p,\n                                    onClick: ()=>{\n                                        x(p.key), h(p);\n                                    },\n                                    onMouseEnter: ()=>{\n                                        x(p.key);\n                                    },\n                                    ref: (C)=>{\n                                        p.ref = {\n                                            current: C\n                                        };\n                                    }\n                                }, p.key))\n                        ]\n                    }, g.key);\n                })\n            }), l.current) : null;\n        },\n        onQueryChange: r,\n        triggerFn: c\n    });\n}\n\n\n\n\nfunction ft(t) {\n    let e = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_4__.c)(6), { features: o } = t, [r] = (0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)(), n;\n    e[0] !== r || e[1] !== o.enabledFormats ? (n = ()=>{\n        let i = rn(o.enabledFormats);\n        if (i.length !== 0) return r.registerNodeTransform(lexical__WEBPACK_IMPORTED_MODULE_7__.TextNode, (s)=>{\n            i.forEach((c)=>{\n                s.hasFormat(c) && s.toggleFormat(c);\n            });\n        });\n    }, e[0] = r, e[1] = o.enabledFormats, e[2] = n) : n = e[2];\n    let d;\n    return e[3] !== r || e[4] !== o ? (d = [\n        r,\n        o\n    ], e[3] = r, e[4] = o, e[5] = d) : d = e[5], (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(n, d), null;\n}\nfunction rn(t) {\n    let e = Object.keys(lexical__WEBPACK_IMPORTED_MODULE_7__.TEXT_TYPE_TO_FORMAT), o = new Set(t);\n    return e.filter((r)=>!o.has(r));\n}\n\n\n\n\n\n\nfunction gt(t) {\n    var _r_admin;\n    let e = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_4__.c)(5), { className: o, editorConfig: r } = t, { t: n } = (0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_14__.d)(), [, d] = (0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)(), { getTheme: i } = d, s;\n    if (e[0] !== o || e[1] !== (r === null || r === void 0 ? void 0 : (_r_admin = r.admin) === null || _r_admin === void 0 ? void 0 : _r_admin.placeholder) || e[2] !== i || e[3] !== n) {\n        var _r_admin1, _r_admin2;\n        let c = i();\n        var _r_admin_placeholder;\n        s = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_lexical_react_LexicalContentEditable_js__WEBPACK_IMPORTED_MODULE_15__.ContentEditable, {\n            \"aria-placeholder\": n(\"lexical:general:placeholder\"),\n            className: o !== null && o !== void 0 ? o : \"ContentEditable__root\",\n            placeholder: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                className: c === null || c === void 0 ? void 0 : c.placeholder,\n                children: (_r_admin_placeholder = r === null || r === void 0 ? void 0 : (_r_admin1 = r.admin) === null || _r_admin1 === void 0 ? void 0 : _r_admin1.placeholder) !== null && _r_admin_placeholder !== void 0 ? _r_admin_placeholder : n(\"lexical:general:placeholder\")\n            })\n        }), e[0] = o, e[1] = r === null || r === void 0 ? void 0 : (_r_admin2 = r.admin) === null || _r_admin2 === void 0 ? void 0 : _r_admin2.placeholder, e[2] = i, e[3] = n, e[4] = s;\n    } else s = e[4];\n    return s;\n}\nvar yt = (t)=>{\n    var _o_features_plugins, _o_features_plugins1, _o_admin, _o_admin1, _o_features_plugins2, _o_features_markdownTransformers, _o_features, _o_features_plugins3, _o_features_plugins4, _o_features_plugins5;\n    let e = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_4__.c)(12), { editorConfig: o, editorContainerRef: r, isSmallWidthViewport: n, onChange: d } = t, i = (0,_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_12__.b)(), [s] = (0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)(), c = (0,_lexical_react_useLexicalEditable__WEBPACK_IMPORTED_MODULE_16__.useLexicalEditable)(), [u, y] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null), l;\n    e[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (l = (m)=>{\n        m !== null && y(m);\n    }, e[0] = l) : l = e[0];\n    let a = l, h, x;\n    e[1] !== s || e[2] !== i ? (h = ()=>{\n        var _i_parentEditor, _i_parentEditor1;\n        if (!(i === null || i === void 0 ? void 0 : i.uuid)) {\n            console.error(\"Lexical Editor must be used within an EditorConfigProvider\");\n            return;\n        }\n        (i === null || i === void 0 ? void 0 : (_i_parentEditor = i.parentEditor) === null || _i_parentEditor === void 0 ? void 0 : _i_parentEditor.uuid) && ((_i_parentEditor1 = i.parentEditor) === null || _i_parentEditor1 === void 0 ? void 0 : _i_parentEditor1.registerChild(i.uuid, i));\n        let m = ()=>{\n            i.focusEditor(i);\n        }, p = ()=>{\n            i.blurEditor(i);\n        }, f = s.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.FOCUS_COMMAND, ()=>(m(), !0), lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), C = s.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.BLUR_COMMAND, ()=>(p(), !0), lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW);\n        return ()=>{\n            var _i_parentEditor_unregisterChild, _i_parentEditor;\n            f(), C(), (_i_parentEditor = i.parentEditor) === null || _i_parentEditor === void 0 ? void 0 : (_i_parentEditor_unregisterChild = _i_parentEditor.unregisterChild) === null || _i_parentEditor_unregisterChild === void 0 ? void 0 : _i_parentEditor_unregisterChild.call(_i_parentEditor, i.uuid);\n        };\n    }, x = [\n        s,\n        i\n    ], e[1] = s, e[2] = i, e[3] = h, e[4] = x) : (h = e[3], x = e[4]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(h, x);\n    let g;\n    return e[5] !== o || e[6] !== r || e[7] !== u || e[8] !== c || e[9] !== n || e[10] !== d ? (g = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children: [\n            (_o_features_plugins = o.features.plugins) === null || _o_features_plugins === void 0 ? void 0 : _o_features_plugins.map(bn),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"editor-container\",\n                ref: r,\n                children: [\n                    (_o_features_plugins1 = o.features.plugins) === null || _o_features_plugins1 === void 0 ? void 0 : _o_features_plugins1.map(Nn),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_lexical_react_LexicalRichTextPlugin_js__WEBPACK_IMPORTED_MODULE_17__.RichTextPlugin, {\n                        contentEditable: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"editor-scroller\",\n                            children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"editor\",\n                                ref: a,\n                                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(gt, {\n                                    editorConfig: o\n                                })\n                            })\n                        }),\n                        ErrorBoundary: _lexical_react_LexicalErrorBoundary_js__WEBPACK_IMPORTED_MODULE_18__.LexicalErrorBoundary\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(st, {}),\n                    c && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(nt, {}),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Fe, {}),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Be, {}),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ft, {\n                        features: o.features\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lt, {}),\n                    c && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_lexical_react_LexicalOnChangePlugin_js__WEBPACK_IMPORTED_MODULE_19__.OnChangePlugin, {\n                        ignoreSelectionChange: !0,\n                        onChange: (m, p, f)=>{\n                            (!f.has(\"focus\") || f.size > 1) && (d === null || d === void 0 ? void 0 : d(m, p, f));\n                        }\n                    }),\n                    u && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n                        children: [\n                            !n && c && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n                                children: [\n                                    ((_o_admin = o.admin) === null || _o_admin === void 0 ? void 0 : _o_admin.hideDraggableBlockElement) ? null : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(tt, {\n                                        anchorElem: u\n                                    }),\n                                    ((_o_admin1 = o.admin) === null || _o_admin1 === void 0 ? void 0 : _o_admin1.hideAddBlockButton) ? null : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Ye, {\n                                        anchorElem: u\n                                    })\n                                ]\n                            }),\n                            (_o_features_plugins2 = o.features.plugins) === null || _o_features_plugins2 === void 0 ? void 0 : _o_features_plugins2.map((m)=>{\n                                if (m.position === \"floatingAnchorElem\" && !(m.desktopOnly === !0 && n)) return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(K, {\n                                    anchorElem: u,\n                                    clientProps: m.clientProps,\n                                    plugin: m\n                                }, m.key);\n                            }),\n                            c && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n                                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(mt, {\n                                    anchorElem: u\n                                })\n                            })\n                        ]\n                    }),\n                    c && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_lexical_react_LexicalHistoryPlugin_js__WEBPACK_IMPORTED_MODULE_20__.HistoryPlugin, {}),\n                            (o === null || o === void 0 ? void 0 : (_o_features = o.features) === null || _o_features === void 0 ? void 0 : (_o_features_markdownTransformers = _o_features.markdownTransformers) === null || _o_features_markdownTransformers === void 0 ? void 0 : _o_features_markdownTransformers.length) > 0 && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(it, {})\n                        ]\n                    }),\n                    (_o_features_plugins3 = o.features.plugins) === null || _o_features_plugins3 === void 0 ? void 0 : _o_features_plugins3.map(Pn),\n                    (_o_features_plugins4 = o.features.plugins) === null || _o_features_plugins4 === void 0 ? void 0 : _o_features_plugins4.map(Sn)\n                ]\n            }),\n            (_o_features_plugins5 = o.features.plugins) === null || _o_features_plugins5 === void 0 ? void 0 : _o_features_plugins5.map(Rn)\n        ]\n    }), e[5] = o, e[6] = r, e[7] = u, e[8] = c, e[9] = n, e[10] = d, e[11] = g) : g = e[11], g;\n};\nfunction bn(t) {\n    if (t.position === \"aboveContainer\") return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(K, {\n        clientProps: t.clientProps,\n        plugin: t\n    }, t.key);\n}\nfunction Nn(t) {\n    if (t.position === \"top\") return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(K, {\n        clientProps: t.clientProps,\n        plugin: t\n    }, t.key);\n}\n_c21 = Nn;\nfunction Pn(t) {\n    if (t.position === \"normal\") return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(K, {\n        clientProps: t.clientProps,\n        plugin: t\n    }, t.key);\n}\n_c22 = Pn;\nfunction Sn(t) {\n    if (t.position === \"bottom\") return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(K, {\n        clientProps: t.clientProps,\n        plugin: t\n    }, t.key);\n}\n_c23 = Sn;\nfunction Rn(t) {\n    if (t.position === \"belowContainer\") return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(K, {\n        clientProps: t.clientProps,\n        plugin: t\n    }, t.key);\n}\n_c24 = Rn;\nvar Et = (param)=>{\n    let { children: t, providers: e } = param;\n    if (!(e === null || e === void 0 ? void 0 : e.length)) return t;\n    let o = e[0];\n    return e.length > 1 ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(o, {\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Et, {\n            providers: e.slice(1),\n            children: t\n        })\n    }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(o, {\n        children: t\n    });\n}, Ct = (t)=>{\n    _s1();\n    let { composerKey: e, editorConfig: o, fieldProps: r, isSmallWidthViewport: n, onChange: d, readOnly: i, value: s } = t, c = (0,_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_12__.b)(), u = (0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_21__.useEditDepth)(), y = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null), l = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        if (s && typeof s != \"object\") throw new Error(\"The value passed to the Lexical editor is not an object. This is not supported. Please remove the data from the field and start again. This is the value that was passed in: \" + JSON.stringify(s));\n        if (s && Array.isArray(s) && !(\"root\" in s)) throw new Error(\"You have tried to pass in data from the old Slate editor to the new Lexical editor. The data structure is different, thus you will have to migrate your data. We offer a one-line migration script which migrates all your rich text fields: https://payloadcms.com/docs/lexical/migration#migration-via-migration-script-recommended\");\n        if (s && \"jsonContent\" in s) throw new Error(\"You have tried to pass in data from payload-plugin-lexical. The data structure is different, thus you will have to migrate your data. Migration guide: https://payloadcms.com/docs/lexical/migration#migrating-from-payload-plugin-lexical\");\n        return {\n            editable: i !== !0,\n            editorState: s != null ? JSON.stringify(s) : void 0,\n            namespace: o.lexical.namespace,\n            nodes: (0,_chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__.l)({\n                editorConfig: o\n            }),\n            onError: (a)=>{\n                throw a;\n            },\n            theme: o.lexical.theme\n        };\n    }, [\n        o\n    ]);\n    return l ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_lexical_react_LexicalComposer_js__WEBPACK_IMPORTED_MODULE_22__.LexicalComposer, {\n        initialConfig: l,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_12__.a, {\n            editorConfig: o,\n            editorContainerRef: y,\n            fieldProps: r,\n            parentContext: (c === null || c === void 0 ? void 0 : c.editDepth) === u ? c : void 0,\n            children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Et, {\n                providers: o.features.providers,\n                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(yt, {\n                    editorConfig: o,\n                    editorContainerRef: y,\n                    isSmallWidthViewport: n,\n                    onChange: d\n                })\n            })\n        })\n    }, e + l.editable) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n        children: \"Loading...\"\n    });\n};\n_s1(Ct, \"UAb8e70N2FUi5D7euwpGgST+68E=\");\nvar pe = \"rich-text-lexical\", Kn = (t)=>{\n    var _e_admin;\n    _s2();\n    let { editorConfig: e, field: o, field: { admin: { className: r, description: n, readOnly: d } = {}, label: i, localized: s, required: c }, path: u, readOnly: y, validate: l } = t, a = y || d, h = (0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_21__.useEditDepth)(), x = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((M, Q)=>typeof l == \"function\" ? l(M, {\n            ...Q,\n            required: c\n        }) : !0, [\n        l,\n        c\n    ]), { customComponents: { AfterInput: g, BeforeInput: m, Description: p, Error: f, Label: C } = {}, disabled: k, initialValue: S, path: b, setValue: w, showError: N, value: L } = (0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_21__.useField)({\n        potentiallyStalePath: u,\n        validate: x\n    }), I = a || k, [T, D] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1), [J, he] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(), ye = react__WEBPACK_IMPORTED_MODULE_2__.useRef(S), O = react__WEBPACK_IMPORTED_MODULE_2__.useRef(L);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        let M = ()=>{\n            let Q = window.matchMedia(\"(max-width: 768px)\").matches;\n            Q !== T && D(Q);\n        };\n        return M(), window.addEventListener(\"resize\", M), ()=>{\n            window.removeEventListener(\"resize\", M);\n        };\n    }, [\n        T\n    ]);\n    let Pe = [\n        pe,\n        \"field-type\",\n        r,\n        N && \"error\",\n        I && \"\".concat(pe, \"--read-only\"),\n        (e === null || e === void 0 ? void 0 : (_e_admin = e.admin) === null || _e_admin === void 0 ? void 0 : _e_admin.hideGutter) !== !0 && !T ? \"\".concat(pe, \"--show-gutter\") : null\n    ].filter(Boolean).join(\" \"), oe = \"\".concat(b, \".\").concat(h), v = (0,_chunk_AFXLIYGL_js__WEBPACK_IMPORTED_MODULE_11__.e)(), P = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((M)=>{\n        v(()=>{\n            let Se = M.toJSON();\n            O.current = Se, w(Se);\n        });\n    }, [\n        w,\n        v\n    ]), wt = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>(0,_payloadcms_ui_shared__WEBPACK_IMPORTED_MODULE_23__.mergeFieldStyles)(o), [\n        o\n    ]), kt = (0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_21__.useEffectEvent)((M)=>{\n        O.current !== L && !(0,dequal_lite__WEBPACK_IMPORTED_MODULE_1__.dequal)(O.current != null ? JSON.parse(JSON.stringify(O.current)) : O.current, L) && (ye.current = M, O.current = L, he(new Date));\n    });\n    return (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        Object.is(S, ye.current) || kt(S);\n    }, [\n        S\n    ]), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: Pe,\n        style: wt,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_payloadcms_ui__WEBPACK_IMPORTED_MODULE_21__.RenderCustomComponent, {\n                CustomComponent: f,\n                Fallback: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_payloadcms_ui__WEBPACK_IMPORTED_MODULE_21__.FieldError, {\n                    path: b,\n                    showError: N\n                })\n            }),\n            C || (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_payloadcms_ui__WEBPACK_IMPORTED_MODULE_21__.FieldLabel, {\n                label: i,\n                localized: s,\n                path: b,\n                required: c\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"\".concat(pe, \"__wrap\"),\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_error_boundary__WEBPACK_IMPORTED_MODULE_24__.ErrorBoundary, {\n                        fallbackRender: Hn,\n                        onReset: ()=>{},\n                        children: [\n                            m,\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_payloadcms_ui__WEBPACK_IMPORTED_MODULE_21__.BulkUploadProvider, {\n                                drawerSlugPrefix: b,\n                                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Ct, {\n                                    composerKey: oe,\n                                    editorConfig: e,\n                                    fieldProps: t,\n                                    isSmallWidthViewport: T,\n                                    onChange: P,\n                                    readOnly: I,\n                                    value: L\n                                }, JSON.stringify({\n                                    path: b,\n                                    rerenderProviderKey: J\n                                }))\n                            }),\n                            g\n                        ]\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_payloadcms_ui__WEBPACK_IMPORTED_MODULE_21__.RenderCustomComponent, {\n                        CustomComponent: p,\n                        Fallback: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_payloadcms_ui__WEBPACK_IMPORTED_MODULE_21__.FieldDescription, {\n                            description: n,\n                            path: b\n                        })\n                    })\n                ]\n            })\n        ]\n    }, oe);\n};\n_s2(Kn, \"G8of4hKHUWqOLySMl97H7srxUYk=\");\nfunction Hn(param) {\n    let { error: t } = param;\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"errorBoundary\",\n        role: \"alert\",\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                children: \"Something went wrong:\"\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"pre\", {\n                style: {\n                    color: \"red\"\n                },\n                children: t.message\n            })\n        ]\n    });\n}\n_c25 = Hn;\nvar As = Kn;\n //# sourceMappingURL=Field-QUXIGJRC.js.map\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25;\n$RefreshReg$(_c, \"K\");\n$RefreshReg$(_c1, \"Be\");\n$RefreshReg$(_c2, \"Fe\");\n$RefreshReg$(_c3, \"Jt\");\n$RefreshReg$(_c4, \"Qt\");\n$RefreshReg$(_c5, \"Xt\");\n$RefreshReg$(_c6, \"Zt\");\n$RefreshReg$(_c7, \"Z\");\n$RefreshReg$(_c8, \"Ke\");\n$RefreshReg$(_c9, \"Y\");\n$RefreshReg$(_c10, \"V\");\n$RefreshReg$(_c11, \"G\");\n$RefreshReg$(_c12, \"Co\");\n$RefreshReg$(_c13, \"Ye\");\n$RefreshReg$(_c14, \"Ge\");\n$RefreshReg$(_c15, \"Xe\");\n$RefreshReg$(_c16, \"To\");\n$RefreshReg$(_c17, \"Ze\");\n$RefreshReg$(_c18, \"Do\");\n$RefreshReg$(_c19, \"Ao\");\n$RefreshReg$(_c20, \"Xo\");\n$RefreshReg$(_c21, \"Nn\");\n$RefreshReg$(_c22, \"Pn\");\n$RefreshReg$(_c23, \"Sn\");\n$RefreshReg$(_c24, \"Rn\");\n$RefreshReg$(_c25, \"Hn\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9yaWNodGV4dC1sZXhpY2FsL2Rpc3QvZXhwb3J0cy9jbGllbnQvRmllbGQtUVVYSUdKUkMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBWU87QUFDMEI7QUFDVjtBQUUwQztBQU1qRTtBQUFPO0FBQUE7QUNsQnlCO0FBQ0g7QUFFN0I7QUFBd0I7QUNQeEI7QUFBQTtBQUVBO0FBQXFDO0FBQ1A7QUFDQztBQUNBO0FBQ0k7QUFDK0I7QUFDM0M7QUFDYTtBQ1JwQztBQUFrQjtBQUlYLFFBSUY0QjtRQUFDLEVBQUVDLFlBQUFBLENBQUFBLEVBQVlDLGFBQUFBLENBQUFBLEVBQWFDLFFBQUFBLENBQU07V0FDakNBLEVBQU9DLFFBQUFBLEtBQWEsd0JBQXdCSCxJQUU1Q0UsRUFBT0UsU0FBQUEsSUFBYU8sc0RBQUFOLENBQUNILEVBQU9FLFNBQUFBLEVBQVM7UUFBQ0osWUFBWUE7UUFBWUMsYUFBYUE7SUFBQUEsS0FLeEVDLEVBQU9FLFNBQUFBLElBQWFPLHNEQUFBTixDQUFDSCxFQUFPRSxTQUFBQSxFQUFTO1FBQUNILGFBQWFBO0lBQUFBOztLQVovQ0Y7QUNMYjtBQUdBO0FBQTBDO0FBQ1I7QUFDYjtBQUM4QjtBQUN6QjtBQU9uQjtJQUFBLElBQUFZLElBQUFFLHlEQUFBeEIsQ0FBQSxJQUNMLENBQUF1QixDQUFBLElBQWlCRyxtR0FBQXpCLENBQUEsR0FBQXVCLEdBQUFDO0lBQUEsT0FBQUgsQ0FBQUEsQ0FBQSxPQUFBQyxLQUVQQyxJQUFBQSxJQUlERCxFQUFBRyxlQUFBQSxDQUFBSSxpREFBQVYsR0FBQU8sS0FHSEYsbUVBQUFSLENBQWdCTSxHQUFRSSxpRUFBQVQsQ0FBa0JTLEdBQUFDLGNBQU8sSUFBa0JELElBQUEsSUFBUSxFQUFBRSxJQUFBQSxDQUFBO2dCQUFBLElBRW5FLEVBQUVGLGFBQUFDLGNBQUFBLEtBQThCLENBQU9ELEVB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VUFBVStCO29DQUNWOUIsT0FBT0E7Z0NBQUFBLEdBSEY5ZSxLQUFLYSxTQUFBQSxDQUFVO29DQUFFbWYsTUFBQUE7b0NBQU1tQixxQkFBQUE7Z0NBQW9COzRCQUFBOzRCQU1uRFgsQ0FBQTt5QkFBQTtvQkFBQTtvQkFFSCxzREFBQTNoQixDQUFDLGtFQUFBOUIsRUFBQTt3QkFDQ3lsQixpQkFBaUI5Qjt3QkFDakIrQixVQUFVLHNEQUFBNWpCLENBQUMsNkRBQUFqQyxFQUFBOzRCQUFpQmdqQixhQUFhQTs0QkFBYUksTUFBTUE7d0JBQUFBO29CQUFBQTtpQkFBQUE7WUFBQUE7U0FBQUE7SUFBQUEsR0EzQnBDNkIsRUFBQTtBQWdDbEM7SUEvS01uQztBQWlMTixpQkFBK0I7VUFBTDFlLE9BQUFBLENBQUssR0FBb0IsRUFBM0I7SUFHdEIsT0FDRSx1REFBQThULENBQUM7UUFBSW5FLFdBQVU7UUFBZ0J5RSxNQUFLO1FBQUE7WUFDbEMsc0RBQUF2VyxDQUFDO2dCQUFBLFVBQUU7WUFBQTtZQUNILHNEQUFBQSxDQUFDO2dCQUFJMk8sT0FBTztvQkFBRXFWLE9BQU87Z0JBQU07Z0JBQUEsVUFBSTdoQixFQUFNOGhCLE9BQUFBO1lBQUFBO1NBQUFBO0lBQUFBO0FBRzNDO09BVFNKO0FBV0YsSUFBTUssS0FBcUNyRDtBQUFBQSIsInNvdXJjZXMiOlsiRDpcXHNyY1xcZmllbGRcXEZpZWxkLnRzeCIsIkQ6XFxzcmNcXGxleGljYWxcXExleGljYWxQcm92aWRlci50c3giLCJEOlxcc3JjXFxsZXhpY2FsXFxMZXhpY2FsRWRpdG9yLnRzeCIsIkQ6XFxzcmNcXGxleGljYWxcXEVkaXRvclBsdWdpbi50c3giLCJEOlxcc3JjXFxsZXhpY2FsXFxwbHVnaW5zXFxDbGlwYm9hcmRQbHVnaW5cXGluZGV4LnRzeCIsIkQ6XFxzcmNcXGxleGljYWxcXHBsdWdpbnNcXERlY29yYXRvclBsdWdpblxcaW5kZXgudHN4IiwiRDpcXHNyY1xcbGV4aWNhbFxccGx1Z2luc1xcaGFuZGxlc1xcQWRkQmxvY2tIYW5kbGVQbHVnaW5cXGluZGV4LnRzeCIsIkQ6XFxzcmNcXGxleGljYWxcXHBsdWdpbnNcXGhhbmRsZXNcXHV0aWxzXFxjYWxjdWxhdGVEaXN0YW5jZUZyb21TY3JvbGxlckVsZW0udHMiLCJEOlxcc3JjXFxsZXhpY2FsXFxwbHVnaW5zXFxoYW5kbGVzXFx1dGlsc1xcZ2V0Tm9kZUNsb3NlVG9Qb2ludC50cyIsIkQ6XFxzcmNcXGxleGljYWxcXHBsdWdpbnNcXGhhbmRsZXNcXERyYWdnYWJsZUJsb2NrUGx1Z2luXFxnZXRCb3VuZGluZ1JlY3RXaXRob3V0VHJhbnNmb3JtLnRzIiwiRDpcXHNyY1xcbGV4aWNhbFxccGx1Z2luc1xcaGFuZGxlc1xcdXRpbHNcXGdldENvbGxhcHNlZE1hcmdpbnMudHMiLCJEOlxcc3JjXFxsZXhpY2FsXFxwbHVnaW5zXFxoYW5kbGVzXFx1dGlsc1xcZ2V0VG9wTGV2ZWxOb2RlS2V5cy50cyIsIkQ6XFxzcmNcXGxleGljYWxcXHBsdWdpbnNcXGhhbmRsZXNcXHV0aWxzXFxpc09uSGFuZGxlRWxlbWVudC50cyIsIkQ6XFxzcmNcXGxleGljYWxcXHBsdWdpbnNcXGhhbmRsZXNcXHV0aWxzXFxkb2VzTGluZUhlaWdodEFmZmVjdEVsZW1lbnQudHMiLCJEOlxcc3JjXFxsZXhpY2FsXFxwbHVnaW5zXFxoYW5kbGVzXFx1dGlsc1xcc2V0SGFuZGxlUG9zaXRpb24udHMiLCJEOlxcc3JjXFxsZXhpY2FsXFxwbHVnaW5zXFxoYW5kbGVzXFxEcmFnZ2FibGVCbG9ja1BsdWdpblxcaW5kZXgudHN4IiwiRDpcXHNyY1xcbGV4aWNhbFxccGx1Z2luc1xcaGFuZGxlc1xcRHJhZ2dhYmxlQmxvY2tQbHVnaW5cXHNldFRhcmdldExpbmUudHMiLCJEOlxcc3JjXFxsZXhpY2FsXFxwbHVnaW5zXFxJbnNlcnRQYXJhZ3JhcGhBdEVuZFxcaW5kZXgudHN4IiwiRDpcXHNyY1xcbGV4aWNhbFxccGx1Z2luc1xcTWFya2Rvd25TaG9ydGN1dFxcaW5kZXgudHN4IiwiRDpcXHNyY1xcbGV4aWNhbFxccGx1Z2luc1xcTm9ybWFsaXplU2VsZWN0aW9uXFxpbmRleC50c3giLCJEOlxcc3JjXFxsZXhpY2FsXFxwbHVnaW5zXFxTZWxlY3RBbGxQbHVnaW5cXGluZGV4LnRzeCIsIkQ6XFxzcmNcXGxleGljYWxcXHBsdWdpbnNcXFNsYXNoTWVudVxcaW5kZXgudHN4IiwiRDpcXHNyY1xcbGV4aWNhbFxccGx1Z2luc1xcU2xhc2hNZW51XFx1c2VNZW51VHJpZ2dlck1hdGNoLnRzIiwiRDpcXHNyY1xcbGV4aWNhbFxccGx1Z2luc1xcVGV4dFBsdWdpblxcaW5kZXgudHN4IiwiRDpcXHNyY1xcbGV4aWNhbFxcdWlcXENvbnRlbnRFZGl0YWJsZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5pbXBvcnQgdHlwZSB7IEVkaXRvclN0YXRlLCBTZXJpYWxpemVkRWRpdG9yU3RhdGUgfSBmcm9tICdsZXhpY2FsJ1xuXG5pbXBvcnQge1xuICBCdWxrVXBsb2FkUHJvdmlkZXIsXG4gIEZpZWxkRGVzY3JpcHRpb24sXG4gIEZpZWxkRXJyb3IsXG4gIEZpZWxkTGFiZWwsXG4gIFJlbmRlckN1c3RvbUNvbXBvbmVudCxcbiAgdXNlRWRpdERlcHRoLFxuICB1c2VFZmZlY3RFdmVudCxcbiAgdXNlRmllbGQsXG59IGZyb20gJ0BwYXlsb2FkY21zL3VpJ1xuaW1wb3J0IHsgbWVyZ2VGaWVsZFN0eWxlcyB9IGZyb20gJ0BwYXlsb2FkY21zL3VpL3NoYXJlZCdcbmltcG9ydCB7IGRlcXVhbCB9IGZyb20gJ2RlcXVhbC9saXRlJ1xuaW1wb3J0IHsgdHlwZSBWYWxpZGF0ZSB9IGZyb20gJ3BheWxvYWQnXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEVycm9yQm91bmRhcnkgfSBmcm9tICdyZWFjdC1lcnJvci1ib3VuZGFyeSdcblxuaW1wb3J0IHR5cGUgeyBTYW5pdGl6ZWRDbGllbnRFZGl0b3JDb25maWcgfSBmcm9tICcuLi9sZXhpY2FsL2NvbmZpZy90eXBlcy5qcydcblxuaW1wb3J0ICcuLi9sZXhpY2FsL3RoZW1lL0VkaXRvclRoZW1lLnNjc3MnXG5pbXBvcnQgJy4vYnVuZGxlZC5jc3MnXG5pbXBvcnQgJy4vaW5kZXguc2NzcydcblxuaW1wb3J0IHR5cGUgeyBMZXhpY2FsUmljaFRleHRGaWVsZFByb3BzIH0gZnJvbSAnLi4vdHlwZXMuanMnXG5cbmltcG9ydCB7IExleGljYWxQcm92aWRlciB9IGZyb20gJy4uL2xleGljYWwvTGV4aWNhbFByb3ZpZGVyLmpzJ1xuaW1wb3J0IHsgdXNlUnVuRGVwcmlvcml0aXplZCB9IGZyb20gJy4uL3V0aWxpdGllcy91c2VSdW5EZXByaW9yaXRpemVkLmpzJ1xuXG5jb25zdCBiYXNlQ2xhc3MgPSAncmljaC10ZXh0LWxleGljYWwnXG5cbmNvbnN0IFJpY2hUZXh0Q29tcG9uZW50OiBSZWFjdC5GQzxcbiAge1xuICAgIHJlYWRvbmx5IGVkaXRvckNvbmZpZzogU2FuaXRpemVkQ2xpZW50RWRpdG9yQ29uZmlnIC8vIFdpdGggcmVuZGVyZWQgZmVhdHVyZXMgbiBzdHVmZlxuICB9ICYgTGV4aWNhbFJpY2hUZXh0RmllbGRQcm9wc1xuPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7XG4gICAgZWRpdG9yQ29uZmlnLFxuICAgIGZpZWxkLFxuICAgIGZpZWxkOiB7XG4gICAgICBhZG1pbjogeyBjbGFzc05hbWUsIGRlc2NyaXB0aW9uLCByZWFkT25seTogcmVhZE9ubHlGcm9tQWRtaW4gfSA9IHt9LFxuICAgICAgbGFiZWwsXG4gICAgICBsb2NhbGl6ZWQsXG4gICAgICByZXF1aXJlZCxcbiAgICB9LFxuICAgIHBhdGg6IHBhdGhGcm9tUHJvcHMsXG4gICAgcmVhZE9ubHk6IHJlYWRPbmx5RnJvbVRvcExldmVsUHJvcHMsXG4gICAgdmFsaWRhdGUsIC8vIFVzZXJzIGNhbiBwYXNzIGluIGNsaWVudCBzaWRlIHZhbGlkYXRpb24gaWYgdGhleSBXQU5UIHRvLCBidXQgaXQncyBub3QgcmVxdWlyZWQgYW55bW9yZVxuICB9ID0gcHJvcHNcblxuICBjb25zdCByZWFkT25seUZyb21Qcm9wcyA9IHJlYWRPbmx5RnJvbVRvcExldmVsUHJvcHMgfHwgcmVhZE9ubHlGcm9tQWRtaW5cblxuICBjb25zdCBlZGl0RGVwdGggPSB1c2VFZGl0RGVwdGgoKVxuXG4gIGNvbnN0IG1lbW9pemVkVmFsaWRhdGUgPSB1c2VDYWxsYmFjazxWYWxpZGF0ZT4oXG4gICAgKHZhbHVlLCB2YWxpZGF0aW9uT3B0aW9ucykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB2YWxpZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gdmVzdGlnZXMgb2Ygd2hlbiB0c2NvbmZpZyB3YXMgbm90IHN0cmljdC4gRmVlbCBmcmVlIHRvIGltcHJvdmVcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlKHZhbHVlLCB7IC4uLnZhbGlkYXRpb25PcHRpb25zLCByZXF1aXJlZCB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuICAgIC8vIEltcG9ydGFudDogZG8gbm90IGFkZCBwcm9wcyB0byB0aGUgZGVwZW5kZW5jaWVzIGFycmF5LlxuICAgIC8vIFRoaXMgd291bGQgY2F1c2UgYW4gaW5maW5pdGUgbG9vcCBhbmQgZW5kbGVzcyByZS1yZW5kZXJpbmcuXG4gICAgLy8gUmVtb3ZpbmcgcHJvcHMgZnJvbSB0aGUgZGVwZW5kZW5jaWVzIGFycmF5IGZpeGVkIHRoaXMgaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9wYXlsb2FkY21zL3BheWxvYWQvaXNzdWVzLzM3MDlcbiAgICBbdmFsaWRhdGUsIHJlcXVpcmVkXSxcbiAgKVxuXG4gIGNvbnN0IHtcbiAgICBjdXN0b21Db21wb25lbnRzOiB7IEFmdGVySW5wdXQsIEJlZm9yZUlucHV0LCBEZXNjcmlwdGlvbiwgRXJyb3IsIExhYmVsIH0gPSB7fSxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWRGcm9tRmllbGQsXG4gICAgaW5pdGlhbFZhbHVlLFxuICAgIHBhdGgsXG4gICAgc2V0VmFsdWUsXG4gICAgc2hvd0Vycm9yLFxuICAgIHZhbHVlLFxuICB9ID0gdXNlRmllbGQ8U2VyaWFsaXplZEVkaXRvclN0YXRlPih7XG4gICAgcG90ZW50aWFsbHlTdGFsZVBhdGg6IHBhdGhGcm9tUHJvcHMsXG4gICAgdmFsaWRhdGU6IG1lbW9pemVkVmFsaWRhdGUsXG4gIH0pXG5cbiAgY29uc3QgZGlzYWJsZWQgPSByZWFkT25seUZyb21Qcm9wcyB8fCBkaXNhYmxlZEZyb21GaWVsZFxuXG4gIGNvbnN0IFtpc1NtYWxsV2lkdGhWaWV3cG9ydCwgc2V0SXNTbWFsbFdpZHRoVmlld3BvcnRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpXG4gIGNvbnN0IFtyZXJlbmRlclByb3ZpZGVyS2V5LCBzZXRSZXJlbmRlclByb3ZpZGVyS2V5XSA9IHVzZVN0YXRlPERhdGU+KClcblxuICBjb25zdCBwcmV2SW5pdGlhbFZhbHVlUmVmID0gUmVhY3QudXNlUmVmPFNlcmlhbGl6ZWRFZGl0b3JTdGF0ZSB8IHVuZGVmaW5lZD4oaW5pdGlhbFZhbHVlKVxuICBjb25zdCBwcmV2VmFsdWVSZWYgPSBSZWFjdC51c2VSZWY8U2VyaWFsaXplZEVkaXRvclN0YXRlIHwgdW5kZWZpbmVkPih2YWx1ZSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZVZpZXdQb3J0V2lkdGggPSAoKSA9PiB7XG4gICAgICBjb25zdCBpc05leHRTbWFsbFdpZHRoVmlld3BvcnQgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogNzY4cHgpJykubWF0Y2hlc1xuXG4gICAgICBpZiAoaXNOZXh0U21hbGxXaWR0aFZpZXdwb3J0ICE9PSBpc1NtYWxsV2lkdGhWaWV3cG9ydCkge1xuICAgICAgICBzZXRJc1NtYWxsV2lkdGhWaWV3cG9ydChpc05leHRTbWFsbFdpZHRoVmlld3BvcnQpXG4gICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVZpZXdQb3J0V2lkdGgoKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVWaWV3UG9ydFdpZHRoKVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVWaWV3UG9ydFdpZHRoKVxuICAgIH1cbiAgfSwgW2lzU21hbGxXaWR0aFZpZXdwb3J0XSlcblxuICBjb25zdCBjbGFzc2VzID0gW1xuICAgIGJhc2VDbGFzcyxcbiAgICAnZmllbGQtdHlwZScsXG4gICAgY2xhc3NOYW1lLFxuICAgIHNob3dFcnJvciAmJiAnZXJyb3InLFxuICAgIGRpc2FibGVkICYmIGAke2Jhc2VDbGFzc30tLXJlYWQtb25seWAsXG4gICAgZWRpdG9yQ29uZmlnPy5hZG1pbj8uaGlkZUd1dHRlciAhPT0gdHJ1ZSAmJiAhaXNTbWFsbFdpZHRoVmlld3BvcnRcbiAgICAgID8gYCR7YmFzZUNsYXNzfS0tc2hvdy1ndXR0ZXJgXG4gICAgICA6IG51bGwsXG4gIF1cbiAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgLmpvaW4oJyAnKVxuXG4gIGNvbnN0IHBhdGhXaXRoRWRpdERlcHRoID0gYCR7cGF0aH0uJHtlZGl0RGVwdGh9YFxuXG4gIGNvbnN0IHJ1bkRlcHJpb3JpdGl6ZWQgPSB1c2VSdW5EZXByaW9yaXRpemVkKCkgLy8gZGVmYXVsdHMgdG8gNTAwIG1zIHRpbWVvdXRcblxuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSB1c2VDYWxsYmFjayhcbiAgICAoZWRpdG9yU3RhdGU6IEVkaXRvclN0YXRlKSA9PiB7XG4gICAgICAvLyBDYXB0dXJlIGBlZGl0b3JTdGF0ZWAgaW4gdGhlIGNsb3N1cmUgc28gd2UgY2FuIHNhZmVseSBydW4gbGF0ZXIuXG4gICAgICBjb25zdCB1cGRhdGVGaWVsZFZhbHVlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IGVkaXRvclN0YXRlLnRvSlNPTigpXG4gICAgICAgIHByZXZWYWx1ZVJlZi5jdXJyZW50ID0gbmV3U3RhdGVcbiAgICAgICAgc2V0VmFsdWUobmV3U3RhdGUpXG4gICAgICB9XG5cbiAgICAgIC8vIFF1ZXVlIHRoZSB1cGRhdGUgZm9yIHRoZSBicm93c2Vy4oCZcyBpZGxlIHRpbWUgKG9yIFNhZmFyaSBzaGltKVxuICAgICAgLy8gYW5kIGxldCB0aGUgaG9vayBoYW5kbGUgZGVib3VuY2luZy9jYW5jZWxsYXRpb24uXG4gICAgICB2b2lkIHJ1bkRlcHJpb3JpdGl6ZWQodXBkYXRlRmllbGRWYWx1ZSlcbiAgICB9LFxuICAgIFtzZXRWYWx1ZSwgcnVuRGVwcmlvcml0aXplZF0sIC8vIGBydW5EZXByaW9yaXRpemVkYCBpcyBzdGFibGUgKHVzZUNhbGxiYWNrIGluc2lkZSBob29rKVxuICApXG5cbiAgY29uc3Qgc3R5bGVzID0gdXNlTWVtbygoKSA9PiBtZXJnZUZpZWxkU3R5bGVzKGZpZWxkKSwgW2ZpZWxkXSlcblxuICBjb25zdCBoYW5kbGVJbml0aWFsVmFsdWVDaGFuZ2UgPSB1c2VFZmZlY3RFdmVudChcbiAgICAoaW5pdGlhbFZhbHVlOiBTZXJpYWxpemVkRWRpdG9yU3RhdGUgfCB1bmRlZmluZWQpID0+IHtcbiAgICAgIC8vIE9iamVjdCBkZWVwIGVxdWFsaXR5IGNoZWNrIGhlcmUsIGFzIHJlLW1vdW50aW5nIHRoZSBlZGl0b3IgaWZcbiAgICAgIC8vIHRoZSBuZXcgdmFsdWUgaXMgdGhlIHNhbWUgYXMgdGhlIG9sZCBvbmUgaXMgbm90IG5lY2Vzc2FyeS5cbiAgICAgIC8vIEluIHBvc3RncmVzLCB0aGUgb3JkZXIgb2Yga2V5cyBpbiBKU09OIG9iamVjdHMgaXMgbm90IGd1YXJhbnRlZWQgdG8gYmUgcHJlc2VydmVkLFxuICAgICAgLy8gc28gd2UgbmVlZCB0byBkbyBhIGRlZXAgZXF1YWxpdHkgY2hlY2sgaGVyZSB0aGF0IGRvZXMgbm90IGNhcmUgYWJvdXQga2V5IG9yZGVyID0+IHdlIHVzZSBkZXF1YWwuXG4gICAgICAvLyBJZiB3ZSB1c2VkIEpTT04uc3RyaW5naWZ5LCB0aGUgZWRpdG9yIHdvdWxkIHJlLW1vdW50IGV2ZXJ5IHRpbWUgeW91IHNhdmUgdGhlIGRvY3VtZW50LCBhcyB0aGUgb3JkZXIgb2Yga2V5cyBjaGFuZ2VzID0+IGNoYW5nZSBkZXRlY3RlZCA9PiByZS1tb3VudC5cbiAgICAgIGlmIChcbiAgICAgICAgcHJldlZhbHVlUmVmLmN1cnJlbnQgIT09IHZhbHVlICYmXG4gICAgICAgICFkZXF1YWwoXG4gICAgICAgICAgcHJldlZhbHVlUmVmLmN1cnJlbnQgIT0gbnVsbFxuICAgICAgICAgICAgPyBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHByZXZWYWx1ZVJlZi5jdXJyZW50KSlcbiAgICAgICAgICAgIDogcHJldlZhbHVlUmVmLmN1cnJlbnQsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICBwcmV2SW5pdGlhbFZhbHVlUmVmLmN1cnJlbnQgPSBpbml0aWFsVmFsdWVcbiAgICAgICAgcHJldlZhbHVlUmVmLmN1cnJlbnQgPSB2YWx1ZVxuICAgICAgICBzZXRSZXJlbmRlclByb3ZpZGVyS2V5KG5ldyBEYXRlKCkpXG4gICAgICB9XG4gICAgfSxcbiAgKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gTmVlZHMgdG8gdHJpZ2dlciBmb3Igb2JqZWN0IHJlZmVyZW5jZSBjaGFuZ2VzIC0gb3RoZXJ3aXNlLFxuICAgIC8vIHJlYWN0aW5nIHRvIHRoZSBzYW1lIGluaXRpYWwgdmFsdWUgY2hhbmdlIHR3aWNlIHdpbGwgY2F1c2VcbiAgICAvLyB0aGUgc2Vjb25kIGNoYW5nZSB0byBiZSBpZ25vcmVkLCBldmVuIHRob3VnaCB0aGUgdmFsdWUgaGFzIGNoYW5nZWQuXG4gICAgLy8gVGhhdCdzIGJlY2F1c2UgaW5pdGlhbFZhbHVlIGlzIG5vdCBrZXB0IHVwLXRvLWRhdGVcbiAgICBpZiAoIU9iamVjdC5pcyhpbml0aWFsVmFsdWUsIHByZXZJbml0aWFsVmFsdWVSZWYuY3VycmVudCkpIHtcbiAgICAgIGhhbmRsZUluaXRpYWxWYWx1ZUNoYW5nZShpbml0aWFsVmFsdWUpXG4gICAgfVxuICB9LCBbaW5pdGlhbFZhbHVlXSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzfSBrZXk9e3BhdGhXaXRoRWRpdERlcHRofSBzdHlsZT17c3R5bGVzfT5cbiAgICAgIDxSZW5kZXJDdXN0b21Db21wb25lbnRcbiAgICAgICAgQ3VzdG9tQ29tcG9uZW50PXtFcnJvcn1cbiAgICAgICAgRmFsbGJhY2s9ezxGaWVsZEVycm9yIHBhdGg9e3BhdGh9IHNob3dFcnJvcj17c2hvd0Vycm9yfSAvPn1cbiAgICAgIC8+XG4gICAgICB7TGFiZWwgfHwgPEZpZWxkTGFiZWwgbGFiZWw9e2xhYmVsfSBsb2NhbGl6ZWQ9e2xvY2FsaXplZH0gcGF0aD17cGF0aH0gcmVxdWlyZWQ9e3JlcXVpcmVkfSAvPn1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X193cmFwYH0+XG4gICAgICAgIDxFcnJvckJvdW5kYXJ5IGZhbGxiYWNrUmVuZGVyPXtmYWxsYmFja1JlbmRlcn0gb25SZXNldD17KCkgPT4ge319PlxuICAgICAgICAgIHtCZWZvcmVJbnB1dH1cbiAgICAgICAgICB7LyogTGV4aWNhbCBtYXkgYmUgaW4gYSBkcmF3ZXIuIFdlIG5lZWQgdG8gZGVmaW5lIGFub3RoZXIgQnVsa1VwbG9hZFByb3ZpZGVyIHRvIGVuc3VyZSB0aGF0IHRoZSBidWxrIHVwbG9hZCBkcmF3ZXJcbiAgICAgICAgICBpcyByZW5kZXJlZCBpbiB0aGUgY29ycmVjdCBkZXB0aCAobm90IGRpc3BsYXllZCAqYmVoaW5kKiB0aGUgY3VycmVudCBkcmF3ZXIpKi99XG4gICAgICAgICAgPEJ1bGtVcGxvYWRQcm92aWRlciBkcmF3ZXJTbHVnUHJlZml4PXtwYXRofT5cbiAgICAgICAgICAgIDxMZXhpY2FsUHJvdmlkZXJcbiAgICAgICAgICAgICAgY29tcG9zZXJLZXk9e3BhdGhXaXRoRWRpdERlcHRofVxuICAgICAgICAgICAgICBlZGl0b3JDb25maWc9e2VkaXRvckNvbmZpZ31cbiAgICAgICAgICAgICAgZmllbGRQcm9wcz17cHJvcHN9XG4gICAgICAgICAgICAgIGlzU21hbGxXaWR0aFZpZXdwb3J0PXtpc1NtYWxsV2lkdGhWaWV3cG9ydH1cbiAgICAgICAgICAgICAga2V5PXtKU09OLnN0cmluZ2lmeSh7IHBhdGgsIHJlcmVuZGVyUHJvdmlkZXJLZXkgfSl9IC8vIG1ha2VzIHN1cmUgbGV4aWNhbCBpcyBjb21wbGV0ZWx5IHJlLXJlbmRlcmVkIHdoZW4gaW5pdGlhbFZhbHVlIGNoYW5nZXMsIGJ5cGFzc2luZyB0aGUgbGV4aWNhbC1pbnRlcm5hbCB2YWx1ZSBtZW1vaXphdGlvbi4gVGhhdCB3YXksIGV4dGVybmFsIGNoYW5nZXMgdG8gdGhlIGZvcm0gd2lsbCB1cGRhdGUgdGhlIGVkaXRvci4gTW9yZSBpbmZvcyBpbiBQUiBkZXNjcmlwdGlvbiAoaHR0cHM6Ly9naXRodWIuY29tL3BheWxvYWRjbXMvcGF5bG9hZC9wdWxsLzUwMTApXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgIHJlYWRPbmx5PXtkaXNhYmxlZH1cbiAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0J1bGtVcGxvYWRQcm92aWRlcj5cbiAgICAgICAgICB7QWZ0ZXJJbnB1dH1cbiAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgICA8UmVuZGVyQ3VzdG9tQ29tcG9uZW50XG4gICAgICAgICAgQ3VzdG9tQ29tcG9uZW50PXtEZXNjcmlwdGlvbn1cbiAgICAgICAgICBGYWxsYmFjaz17PEZpZWxkRGVzY3JpcHRpb24gZGVzY3JpcHRpb249e2Rlc2NyaXB0aW9ufSBwYXRoPXtwYXRofSAvPn1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmZ1bmN0aW9uIGZhbGxiYWNrUmVuZGVyKHsgZXJyb3IgfTogeyBlcnJvcjogRXJyb3IgfSkge1xuICAvLyBDYWxsIHJlc2V0RXJyb3JCb3VuZGFyeSgpIHRvIHJlc2V0IHRoZSBlcnJvciBib3VuZGFyeSBhbmQgcmV0cnkgdGhlIHJlbmRlci5cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3JCb3VuZGFyeVwiIHJvbGU9XCJhbGVydFwiPlxuICAgICAgPHA+U29tZXRoaW5nIHdlbnQgd3Jvbmc6PC9wPlxuICAgICAgPHByZSBzdHlsZT17eyBjb2xvcjogJ3JlZCcgfX0+e2Vycm9yLm1lc3NhZ2V9PC9wcmU+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGNvbnN0IFJpY2hUZXh0OiB0eXBlb2YgUmljaFRleHRDb21wb25lbnQgPSBSaWNoVGV4dENvbXBvbmVudFxuIiwiJ3VzZSBjbGllbnQnXG5pbXBvcnQgdHlwZSB7IEluaXRpYWxDb25maWdUeXBlIH0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbENvbXBvc2VyLmpzJ1xuaW1wb3J0IHR5cGUgeyBFZGl0b3JTdGF0ZSwgTGV4aWNhbEVkaXRvciwgU2VyaWFsaXplZEVkaXRvclN0YXRlIH0gZnJvbSAnbGV4aWNhbCdcblxuaW1wb3J0IHsgTGV4aWNhbENvbXBvc2VyIH0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbENvbXBvc2VyLmpzJ1xuaW1wb3J0IHsgdXNlRWRpdERlcHRoIH0gZnJvbSAnQHBheWxvYWRjbXMvdWknXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHR5cGUgeyBMZXhpY2FsUmljaFRleHRGaWVsZFByb3BzIH0gZnJvbSAnLi4vdHlwZXMuanMnXG5pbXBvcnQgdHlwZSB7IFNhbml0aXplZENsaWVudEVkaXRvckNvbmZpZyB9IGZyb20gJy4vY29uZmlnL3R5cGVzLmpzJ1xuXG5pbXBvcnQge1xuICBFZGl0b3JDb25maWdQcm92aWRlcixcbiAgdXNlRWRpdG9yQ29uZmlnQ29udGV4dCxcbn0gZnJvbSAnLi9jb25maWcvY2xpZW50L0VkaXRvckNvbmZpZ1Byb3ZpZGVyLmpzJ1xuaW1wb3J0IHsgTGV4aWNhbEVkaXRvciBhcyBMZXhpY2FsRWRpdG9yQ29tcG9uZW50IH0gZnJvbSAnLi9MZXhpY2FsRWRpdG9yLmpzJ1xuaW1wb3J0IHsgZ2V0RW5hYmxlZE5vZGVzIH0gZnJvbSAnLi9ub2Rlcy9pbmRleC5qcydcblxuZXhwb3J0IHR5cGUgTGV4aWNhbFByb3ZpZGVyUHJvcHMgPSB7XG4gIGNvbXBvc2VyS2V5OiBzdHJpbmdcbiAgZWRpdG9yQ29uZmlnOiBTYW5pdGl6ZWRDbGllbnRFZGl0b3JDb25maWdcbiAgZmllbGRQcm9wczogTGV4aWNhbFJpY2hUZXh0RmllbGRQcm9wc1xuICBpc1NtYWxsV2lkdGhWaWV3cG9ydDogYm9vbGVhblxuICBvbkNoYW5nZTogKGVkaXRvclN0YXRlOiBFZGl0b3JTdGF0ZSwgZWRpdG9yOiBMZXhpY2FsRWRpdG9yLCB0YWdzOiBTZXQ8c3RyaW5nPikgPT4gdm9pZFxuICByZWFkT25seTogYm9vbGVhblxuICB2YWx1ZTogU2VyaWFsaXplZEVkaXRvclN0YXRlXG59XG5cbmNvbnN0IE5lc3RQcm92aWRlcnMgPSAoe1xuICBjaGlsZHJlbixcbiAgcHJvdmlkZXJzLFxufToge1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHByb3ZpZGVyczogYW55W11cbn0pID0+IHtcbiAgaWYgKCFwcm92aWRlcnM/Lmxlbmd0aCkge1xuICAgIHJldHVybiBjaGlsZHJlblxuICB9XG4gIGNvbnN0IENvbXBvbmVudCA9IHByb3ZpZGVyc1swXVxuICBpZiAocHJvdmlkZXJzLmxlbmd0aCA+IDEpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBvbmVudD5cbiAgICAgICAgPE5lc3RQcm92aWRlcnMgcHJvdmlkZXJzPXtwcm92aWRlcnMuc2xpY2UoMSl9PntjaGlsZHJlbn08L05lc3RQcm92aWRlcnM+XG4gICAgICA8L0NvbXBvbmVudD5cbiAgICApXG4gIH1cbiAgcmV0dXJuIDxDb21wb25lbnQ+e2NoaWxkcmVufTwvQ29tcG9uZW50PlxufVxuXG5leHBvcnQgY29uc3QgTGV4aWNhbFByb3ZpZGVyOiBSZWFjdC5GQzxMZXhpY2FsUHJvdmlkZXJQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBjb21wb3NlcktleSwgZWRpdG9yQ29uZmlnLCBmaWVsZFByb3BzLCBpc1NtYWxsV2lkdGhWaWV3cG9ydCwgb25DaGFuZ2UsIHJlYWRPbmx5LCB2YWx1ZSB9ID1cbiAgICBwcm9wc1xuXG4gIGNvbnN0IHBhcmVudENvbnRleHQgPSB1c2VFZGl0b3JDb25maWdDb250ZXh0KClcblxuICBjb25zdCBlZGl0RGVwdGggPSB1c2VFZGl0RGVwdGgoKVxuXG4gIGNvbnN0IGVkaXRvckNvbnRhaW5lclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcblxuICAvLyB1c2VNZW1vIGZvciB0aGUgaW5pdGlhbENvbmZpZyB0aGF0IGRlcGVuZHMgb24gcmVhZE9ubHkgYW5kIHZhbHVlXG4gIGNvbnN0IGluaXRpYWxDb25maWcgPSB1c2VNZW1vPEluaXRpYWxDb25maWdUeXBlPigoKSA9PiB7XG4gICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSB2YWx1ZSBwYXNzZWQgdG8gdGhlIExleGljYWwgZWRpdG9yIGlzIG5vdCBhbiBvYmplY3QuIFRoaXMgaXMgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHJlbW92ZSB0aGUgZGF0YSBmcm9tIHRoZSBmaWVsZCBhbmQgc3RhcnQgYWdhaW4uIFRoaXMgaXMgdGhlIHZhbHVlIHRoYXQgd2FzIHBhc3NlZCBpbjogJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkodmFsdWUpLFxuICAgICAgKVxuICAgIH1cblxuICAgIGlmICh2YWx1ZSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiAhKCdyb290JyBpbiB2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1lvdSBoYXZlIHRyaWVkIHRvIHBhc3MgaW4gZGF0YSBmcm9tIHRoZSBvbGQgU2xhdGUgZWRpdG9yIHRvIHRoZSBuZXcgTGV4aWNhbCBlZGl0b3IuIFRoZSBkYXRhIHN0cnVjdHVyZSBpcyBkaWZmZXJlbnQsIHRodXMgeW91IHdpbGwgaGF2ZSB0byBtaWdyYXRlIHlvdXIgZGF0YS4gV2Ugb2ZmZXIgYSBvbmUtbGluZSBtaWdyYXRpb24gc2NyaXB0IHdoaWNoIG1pZ3JhdGVzIGFsbCB5b3VyIHJpY2ggdGV4dCBmaWVsZHM6IGh0dHBzOi8vcGF5bG9hZGNtcy5jb20vZG9jcy9sZXhpY2FsL21pZ3JhdGlvbiNtaWdyYXRpb24tdmlhLW1pZ3JhdGlvbi1zY3JpcHQtcmVjb21tZW5kZWQnLFxuICAgICAgKVxuICAgIH1cblxuICAgIGlmICh2YWx1ZSAmJiAnanNvbkNvbnRlbnQnIGluIHZhbHVlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdZb3UgaGF2ZSB0cmllZCB0byBwYXNzIGluIGRhdGEgZnJvbSBwYXlsb2FkLXBsdWdpbi1sZXhpY2FsLiBUaGUgZGF0YSBzdHJ1Y3R1cmUgaXMgZGlmZmVyZW50LCB0aHVzIHlvdSB3aWxsIGhhdmUgdG8gbWlncmF0ZSB5b3VyIGRhdGEuIE1pZ3JhdGlvbiBndWlkZTogaHR0cHM6Ly9wYXlsb2FkY21zLmNvbS9kb2NzL2xleGljYWwvbWlncmF0aW9uI21pZ3JhdGluZy1mcm9tLXBheWxvYWQtcGx1Z2luLWxleGljYWwnLFxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBlZGl0YWJsZTogcmVhZE9ubHkgIT09IHRydWUsXG4gICAgICBlZGl0b3JTdGF0ZTogdmFsdWUgIT0gbnVsbCA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IHVuZGVmaW5lZCxcbiAgICAgIG5hbWVzcGFjZTogZWRpdG9yQ29uZmlnLmxleGljYWwubmFtZXNwYWNlLFxuICAgICAgbm9kZXM6IGdldEVuYWJsZWROb2Rlcyh7IGVkaXRvckNvbmZpZyB9KSxcbiAgICAgIG9uRXJyb3I6IChlcnJvcjogRXJyb3IpID0+IHtcbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH0sXG4gICAgICB0aGVtZTogZWRpdG9yQ29uZmlnLmxleGljYWwudGhlbWUsXG4gICAgfVxuICAgIC8vIEltcG9ydGFudDogZG8gbm90IGFkZCByZWFkT25seSBhbmQgdmFsdWUgdG8gdGhlIGRlcGVuZGVuY2llcyBhcnJheS4gVGhpcyB3aWxsIGNhdXNlIHRoZSBlbnRpcmUgbGV4aWNhbCBlZGl0b3IgdG8gcmUtcmVuZGVyIGlmIHRoZSBkb2N1bWVudCBpcyBzYXZlZCwgd2hpY2ggd2lsbFxuICAgIC8vIGNhdXNlIHRoZSBlZGl0b3IgdG8gbG9zZSBmb2N1cy5cbiAgfSwgW2VkaXRvckNvbmZpZ10pXG5cbiAgaWYgKCFpbml0aWFsQ29uZmlnKSB7XG4gICAgcmV0dXJuIDxwPkxvYWRpbmcuLi48L3A+XG4gIH1cblxuICAvLyBXZSBuZWVkIHRvIGFkZCBpbml0aWFsQ29uZmlnLmVkaXRhYmxlIHRvIHRoZSBrZXkgdG8gZm9yY2UgYSByZS1yZW5kZXIgd2hlbiB0aGUgcmVhZE9ubHkgcHJvcCBjaGFuZ2VzLlxuICAvLyBXaXRob3V0IGl0LCB0aGVyZSB3ZXJlIGNhc2VzIHdoZXJlIGxleGljYWwgZWRpdG9ycyBpbnNpZGUgZHJhd2VycyB0dXJuIHJlYWRPbmx5IGluaXRpYWxseSAtIGEgZmV3IG1pbGlzZWNvbmRzIGxhdGVyIHRoZXkgdHVybiBlZGl0YWJsZSwgYnV0IHRoZSBlZGl0b3IgZG9lcyBub3QgcmUtcmVuZGVyIGFuZCBzdGF5cyByZWFkT25seS5cbiAgcmV0dXJuIChcbiAgICA8TGV4aWNhbENvbXBvc2VyIGluaXRpYWxDb25maWc9e2luaXRpYWxDb25maWd9IGtleT17Y29tcG9zZXJLZXkgKyBpbml0aWFsQ29uZmlnLmVkaXRhYmxlfT5cbiAgICAgIDxFZGl0b3JDb25maWdQcm92aWRlclxuICAgICAgICBlZGl0b3JDb25maWc9e2VkaXRvckNvbmZpZ31cbiAgICAgICAgZWRpdG9yQ29udGFpbmVyUmVmPXtlZGl0b3JDb250YWluZXJSZWZ9XG4gICAgICAgIGZpZWxkUHJvcHM9e2ZpZWxkUHJvcHN9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJlbnQgZWRpdG9yIGlzIG5vdCB0cnVseSB0aGUgcGFyZW50IGVkaXRvciwgaWYgdGhlIGN1cnJlbnQgZWRpdG9yIGlzIHBhcnQgb2YgYSBkcmF3ZXIgYW5kIHRoZSBwYXJlbnQgZWRpdG9yIGlzIHRoZSBtYWluIGVkaXRvci5cbiAgICAgICAgICovXG4gICAgICAgIHBhcmVudENvbnRleHQ9e3BhcmVudENvbnRleHQ/LmVkaXREZXB0aCA9PT0gZWRpdERlcHRoID8gcGFyZW50Q29udGV4dCA6IHVuZGVmaW5lZH1cbiAgICAgID5cbiAgICAgICAgPE5lc3RQcm92aWRlcnMgcHJvdmlkZXJzPXtlZGl0b3JDb25maWcuZmVhdHVyZXMucHJvdmlkZXJzfT5cbiAgICAgICAgICA8TGV4aWNhbEVkaXRvckNvbXBvbmVudFxuICAgICAgICAgICAgZWRpdG9yQ29uZmlnPXtlZGl0b3JDb25maWd9XG4gICAgICAgICAgICBlZGl0b3JDb250YWluZXJSZWY9e2VkaXRvckNvbnRhaW5lclJlZn1cbiAgICAgICAgICAgIGlzU21hbGxXaWR0aFZpZXdwb3J0PXtpc1NtYWxsV2lkdGhWaWV3cG9ydH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L05lc3RQcm92aWRlcnM+XG4gICAgICA8L0VkaXRvckNvbmZpZ1Byb3ZpZGVyPlxuICAgIDwvTGV4aWNhbENvbXBvc2VyPlxuICApXG59XG4iLCIndXNlIGNsaWVudCdcbmltcG9ydCB7IHVzZUxleGljYWxDb21wb3NlckNvbnRleHQgfSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsQ29tcG9zZXJDb250ZXh0LmpzJ1xuaW1wb3J0IHsgTGV4aWNhbEVycm9yQm91bmRhcnkgfSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsRXJyb3JCb3VuZGFyeS5qcydcbmltcG9ydCB7IEhpc3RvcnlQbHVnaW4gfSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsSGlzdG9yeVBsdWdpbi5qcydcbmltcG9ydCB7IE9uQ2hhbmdlUGx1Z2luIH0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbE9uQ2hhbmdlUGx1Z2luLmpzJ1xuaW1wb3J0IHsgUmljaFRleHRQbHVnaW4gfSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsUmljaFRleHRQbHVnaW4uanMnXG5pbXBvcnQgeyB1c2VMZXhpY2FsRWRpdGFibGUgfSBmcm9tICdAbGV4aWNhbC9yZWFjdC91c2VMZXhpY2FsRWRpdGFibGUnXG5pbXBvcnQgeyBCTFVSX0NPTU1BTkQsIENPTU1BTkRfUFJJT1JJVFlfTE9XLCBGT0NVU19DT01NQU5EIH0gZnJvbSAnbGV4aWNhbCdcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgdHlwZSB7IExleGljYWxQcm92aWRlclByb3BzIH0gZnJvbSAnLi9MZXhpY2FsUHJvdmlkZXIuanMnXG5cbmltcG9ydCB7IHVzZUVkaXRvckNvbmZpZ0NvbnRleHQgfSBmcm9tICcuL2NvbmZpZy9jbGllbnQvRWRpdG9yQ29uZmlnUHJvdmlkZXIuanMnXG5pbXBvcnQgJy4vTGV4aWNhbEVkaXRvci5zY3NzJ1xuaW1wb3J0IHsgRWRpdG9yUGx1Z2luIH0gZnJvbSAnLi9FZGl0b3JQbHVnaW4uanMnXG5pbXBvcnQgeyBDbGlwYm9hcmRQbHVnaW4gfSBmcm9tICcuL3BsdWdpbnMvQ2xpcGJvYXJkUGx1Z2luL2luZGV4LmpzJ1xuaW1wb3J0IHsgRGVjb3JhdG9yUGx1Z2luIH0gZnJvbSAnLi9wbHVnaW5zL0RlY29yYXRvclBsdWdpbi9pbmRleC5qcydcbmltcG9ydCB7IEFkZEJsb2NrSGFuZGxlUGx1Z2luIH0gZnJvbSAnLi9wbHVnaW5zL2hhbmRsZXMvQWRkQmxvY2tIYW5kbGVQbHVnaW4vaW5kZXguanMnXG5pbXBvcnQgeyBEcmFnZ2FibGVCbG9ja1BsdWdpbiB9IGZyb20gJy4vcGx1Z2lucy9oYW5kbGVzL0RyYWdnYWJsZUJsb2NrUGx1Z2luL2luZGV4LmpzJ1xuaW1wb3J0IHsgSW5zZXJ0UGFyYWdyYXBoQXRFbmRQbHVnaW4gfSBmcm9tICcuL3BsdWdpbnMvSW5zZXJ0UGFyYWdyYXBoQXRFbmQvaW5kZXguanMnXG5pbXBvcnQgeyBNYXJrZG93blNob3J0Y3V0UGx1Z2luIH0gZnJvbSAnLi9wbHVnaW5zL01hcmtkb3duU2hvcnRjdXQvaW5kZXguanMnXG5pbXBvcnQgeyBOb3JtYWxpemVTZWxlY3Rpb25QbHVnaW4gfSBmcm9tICcuL3BsdWdpbnMvTm9ybWFsaXplU2VsZWN0aW9uL2luZGV4LmpzJ1xuaW1wb3J0IHsgU2VsZWN0QWxsUGx1Z2luIH0gZnJvbSAnLi9wbHVnaW5zL1NlbGVjdEFsbFBsdWdpbi9pbmRleC5qcydcbmltcG9ydCB7IFNsYXNoTWVudVBsdWdpbiB9IGZyb20gJy4vcGx1Z2lucy9TbGFzaE1lbnUvaW5kZXguanMnXG5pbXBvcnQgeyBUZXh0UGx1Z2luIH0gZnJvbSAnLi9wbHVnaW5zL1RleHRQbHVnaW4vaW5kZXguanMnXG5pbXBvcnQgeyBMZXhpY2FsQ29udGVudEVkaXRhYmxlIH0gZnJvbSAnLi91aS9Db250ZW50RWRpdGFibGUuanMnXG5cbmV4cG9ydCBjb25zdCBMZXhpY2FsRWRpdG9yOiBSZWFjdC5GQzxcbiAge1xuICAgIGVkaXRvckNvbnRhaW5lclJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50IHwgbnVsbD5cbiAgICBpc1NtYWxsV2lkdGhWaWV3cG9ydDogYm9vbGVhblxuICB9ICYgUGljazxMZXhpY2FsUHJvdmlkZXJQcm9wcywgJ2VkaXRvckNvbmZpZycgfCAnb25DaGFuZ2UnPlxuPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IGVkaXRvckNvbmZpZywgZWRpdG9yQ29udGFpbmVyUmVmLCBpc1NtYWxsV2lkdGhWaWV3cG9ydCwgb25DaGFuZ2UgfSA9IHByb3BzXG4gIGNvbnN0IGVkaXRvckNvbmZpZ0NvbnRleHQgPSB1c2VFZGl0b3JDb25maWdDb250ZXh0KClcbiAgY29uc3QgW2VkaXRvcl0gPSB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0KClcbiAgY29uc3QgaXNFZGl0YWJsZSA9IHVzZUxleGljYWxFZGl0YWJsZSgpXG5cbiAgY29uc3QgW2Zsb2F0aW5nQW5jaG9yRWxlbSwgc2V0RmxvYXRpbmdBbmNob3JFbGVtXSA9IHVzZVN0YXRlPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbClcbiAgY29uc3Qgb25SZWYgPSAoX2Zsb2F0aW5nQW5jaG9yRWxlbTogSFRNTERpdkVsZW1lbnQpID0+IHtcbiAgICBpZiAoX2Zsb2F0aW5nQW5jaG9yRWxlbSAhPT0gbnVsbCkge1xuICAgICAgc2V0RmxvYXRpbmdBbmNob3JFbGVtKF9mbG9hdGluZ0FuY2hvckVsZW0pXG4gICAgfVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWVkaXRvckNvbmZpZ0NvbnRleHQ/LnV1aWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xleGljYWwgRWRpdG9yIG11c3QgYmUgdXNlZCB3aXRoaW4gYW4gRWRpdG9yQ29uZmlnUHJvdmlkZXInKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmIChlZGl0b3JDb25maWdDb250ZXh0Py5wYXJlbnRFZGl0b3I/LnV1aWQpIHtcbiAgICAgIGVkaXRvckNvbmZpZ0NvbnRleHQucGFyZW50RWRpdG9yPy5yZWdpc3RlckNoaWxkKGVkaXRvckNvbmZpZ0NvbnRleHQudXVpZCwgZWRpdG9yQ29uZmlnQ29udGV4dClcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVGb2N1cyA9ICgpID0+IHtcbiAgICAgIGVkaXRvckNvbmZpZ0NvbnRleHQuZm9jdXNFZGl0b3IoZWRpdG9yQ29uZmlnQ29udGV4dClcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVCbHVyID0gKCkgPT4ge1xuICAgICAgZWRpdG9yQ29uZmlnQ29udGV4dC5ibHVyRWRpdG9yKGVkaXRvckNvbmZpZ0NvbnRleHQpXG4gICAgfVxuXG4gICAgY29uc3QgdW5yZWdpc3RlckZvY3VzID0gZWRpdG9yLnJlZ2lzdGVyQ29tbWFuZDxNb3VzZUV2ZW50PihcbiAgICAgIEZPQ1VTX0NPTU1BTkQsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGhhbmRsZUZvY3VzKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0sXG4gICAgICBDT01NQU5EX1BSSU9SSVRZX0xPVyxcbiAgICApXG5cbiAgICBjb25zdCB1bnJlZ2lzdGVyQmx1ciA9IGVkaXRvci5yZWdpc3RlckNvbW1hbmQ8TW91c2VFdmVudD4oXG4gICAgICBCTFVSX0NPTU1BTkQsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGhhbmRsZUJsdXIoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSxcbiAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgIClcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB1bnJlZ2lzdGVyRm9jdXMoKVxuICAgICAgdW5yZWdpc3RlckJsdXIoKVxuICAgICAgZWRpdG9yQ29uZmlnQ29udGV4dC5wYXJlbnRFZGl0b3I/LnVucmVnaXN0ZXJDaGlsZD8uKGVkaXRvckNvbmZpZ0NvbnRleHQudXVpZClcbiAgICB9XG4gIH0sIFtlZGl0b3IsIGVkaXRvckNvbmZpZ0NvbnRleHRdKVxuXG4gIHJldHVybiAoXG4gICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAge2VkaXRvckNvbmZpZy5mZWF0dXJlcy5wbHVnaW5zPy5tYXAoKHBsdWdpbikgPT4ge1xuICAgICAgICBpZiAocGx1Z2luLnBvc2l0aW9uID09PSAnYWJvdmVDb250YWluZXInKSB7XG4gICAgICAgICAgcmV0dXJuIDxFZGl0b3JQbHVnaW4gY2xpZW50UHJvcHM9e3BsdWdpbi5jbGllbnRQcm9wc30ga2V5PXtwbHVnaW4ua2V5fSBwbHVnaW49e3BsdWdpbn0gLz5cbiAgICAgICAgfVxuICAgICAgfSl9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1jb250YWluZXJcIiByZWY9e2VkaXRvckNvbnRhaW5lclJlZn0+XG4gICAgICAgIHtlZGl0b3JDb25maWcuZmVhdHVyZXMucGx1Z2lucz8ubWFwKChwbHVnaW4pID0+IHtcbiAgICAgICAgICBpZiAocGx1Z2luLnBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEVkaXRvclBsdWdpbiBjbGllbnRQcm9wcz17cGx1Z2luLmNsaWVudFByb3BzfSBrZXk9e3BsdWdpbi5rZXl9IHBsdWdpbj17cGx1Z2lufSAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSl9XG4gICAgICAgIDxSaWNoVGV4dFBsdWdpblxuICAgICAgICAgIGNvbnRlbnRFZGl0YWJsZT17XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1zY3JvbGxlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvclwiIHJlZj17b25SZWZ9PlxuICAgICAgICAgICAgICAgIDxMZXhpY2FsQ29udGVudEVkaXRhYmxlIGVkaXRvckNvbmZpZz17ZWRpdG9yQ29uZmlnfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIH1cbiAgICAgICAgICBFcnJvckJvdW5kYXJ5PXtMZXhpY2FsRXJyb3JCb3VuZGFyeX1cbiAgICAgICAgLz5cbiAgICAgICAgPE5vcm1hbGl6ZVNlbGVjdGlvblBsdWdpbiAvPlxuICAgICAgICB7aXNFZGl0YWJsZSAmJiA8SW5zZXJ0UGFyYWdyYXBoQXRFbmRQbHVnaW4gLz59XG4gICAgICAgIDxEZWNvcmF0b3JQbHVnaW4gLz5cbiAgICAgICAgPENsaXBib2FyZFBsdWdpbiAvPlxuICAgICAgICA8VGV4dFBsdWdpbiBmZWF0dXJlcz17ZWRpdG9yQ29uZmlnLmZlYXR1cmVzfSAvPlxuICAgICAgICA8U2VsZWN0QWxsUGx1Z2luIC8+XG4gICAgICAgIHtpc0VkaXRhYmxlICYmIChcbiAgICAgICAgICA8T25DaGFuZ2VQbHVnaW5cbiAgICAgICAgICAgIC8vIFNlbGVjdGlvbiBjaGFuZ2VzIGNhbiBiZSBpZ25vcmVkIGhlcmUsIHJlZHVjaW5nIHRoZVxuICAgICAgICAgICAgLy8gZnJlcXVlbmN5IHRoYXQgdGhlIEZpZWxkQ29tcG9uZW50IGFuZCBQYXlsb2FkIHJlY2VpdmUgdXBkYXRlcy5cbiAgICAgICAgICAgIC8vIFNlbGVjdGlvbiBjaGFuZ2VzIGFyZSBvbmx5IG5lZWRlZCBpZiB5b3UgYXJlIHNhdmluZyBzZWxlY3Rpb24gc3RhdGVcbiAgICAgICAgICAgIGlnbm9yZVNlbGVjdGlvbkNoYW5nZVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlZGl0b3JTdGF0ZSwgZWRpdG9yLCB0YWdzKSA9PiB7XG4gICAgICAgICAgICAgIC8vIElnbm9yZSBhbnkgb25DaGFuZ2UgZXZlbnQgdHJpZ2dlcmVkIGJ5IGZvY3VzIG9ubHlcbiAgICAgICAgICAgICAgaWYgKCF0YWdzLmhhcygnZm9jdXMnKSB8fCB0YWdzLnNpemUgPiAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uQ2hhbmdlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKGVkaXRvclN0YXRlLCBlZGl0b3IsIHRhZ3MpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIHtmbG9hdGluZ0FuY2hvckVsZW0gJiYgKFxuICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIHshaXNTbWFsbFdpZHRoVmlld3BvcnQgJiYgaXNFZGl0YWJsZSAmJiAoXG4gICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgICB7ZWRpdG9yQ29uZmlnLmFkbWluPy5oaWRlRHJhZ2dhYmxlQmxvY2tFbGVtZW50ID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICAgIDxEcmFnZ2FibGVCbG9ja1BsdWdpbiBhbmNob3JFbGVtPXtmbG9hdGluZ0FuY2hvckVsZW19IC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7ZWRpdG9yQ29uZmlnLmFkbWluPy5oaWRlQWRkQmxvY2tCdXR0b24gPyBudWxsIDogKFxuICAgICAgICAgICAgICAgICAgPEFkZEJsb2NrSGFuZGxlUGx1Z2luIGFuY2hvckVsZW09e2Zsb2F0aW5nQW5jaG9yRWxlbX0gLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtlZGl0b3JDb25maWcuZmVhdHVyZXMucGx1Z2lucz8ubWFwKChwbHVnaW4pID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHBsdWdpbi5wb3NpdGlvbiA9PT0gJ2Zsb2F0aW5nQW5jaG9yRWxlbScgJiZcbiAgICAgICAgICAgICAgICAhKHBsdWdpbi5kZXNrdG9wT25seSA9PT0gdHJ1ZSAmJiBpc1NtYWxsV2lkdGhWaWV3cG9ydClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxFZGl0b3JQbHVnaW5cbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yRWxlbT17ZmxvYXRpbmdBbmNob3JFbGVtfVxuICAgICAgICAgICAgICAgICAgICBjbGllbnRQcm9wcz17cGx1Z2luLmNsaWVudFByb3BzfVxuICAgICAgICAgICAgICAgICAgICBrZXk9e3BsdWdpbi5rZXl9XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbj17cGx1Z2lufVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAge2lzRWRpdGFibGUgJiYgKFxuICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgPFNsYXNoTWVudVBsdWdpbiBhbmNob3JFbGVtPXtmbG9hdGluZ0FuY2hvckVsZW19IC8+XG4gICAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICl9XG4gICAgICAgIHtpc0VkaXRhYmxlICYmIChcbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICA8SGlzdG9yeVBsdWdpbiAvPlxuICAgICAgICAgICAge2VkaXRvckNvbmZpZz8uZmVhdHVyZXM/Lm1hcmtkb3duVHJhbnNmb3JtZXJzPy5sZW5ndGggPiAwICYmIDxNYXJrZG93blNob3J0Y3V0UGx1Z2luIC8+fVxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICl9XG4gICAgICAgIHtlZGl0b3JDb25maWcuZmVhdHVyZXMucGx1Z2lucz8ubWFwKChwbHVnaW4pID0+IHtcbiAgICAgICAgICBpZiAocGx1Z2luLnBvc2l0aW9uID09PSAnbm9ybWFsJykge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEVkaXRvclBsdWdpbiBjbGllbnRQcm9wcz17cGx1Z2luLmNsaWVudFByb3BzfSBrZXk9e3BsdWdpbi5rZXl9IHBsdWdpbj17cGx1Z2lufSAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSl9XG4gICAgICAgIHtlZGl0b3JDb25maWcuZmVhdHVyZXMucGx1Z2lucz8ubWFwKChwbHVnaW4pID0+IHtcbiAgICAgICAgICBpZiAocGx1Z2luLnBvc2l0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEVkaXRvclBsdWdpbiBjbGllbnRQcm9wcz17cGx1Z2luLmNsaWVudFByb3BzfSBrZXk9e3BsdWdpbi5rZXl9IHBsdWdpbj17cGx1Z2lufSAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICAgIHtlZGl0b3JDb25maWcuZmVhdHVyZXMucGx1Z2lucz8ubWFwKChwbHVnaW4pID0+IHtcbiAgICAgICAgaWYgKHBsdWdpbi5wb3NpdGlvbiA9PT0gJ2JlbG93Q29udGFpbmVyJykge1xuICAgICAgICAgIHJldHVybiA8RWRpdG9yUGx1Z2luIGNsaWVudFByb3BzPXtwbHVnaW4uY2xpZW50UHJvcHN9IGtleT17cGx1Z2luLmtleX0gcGx1Z2luPXtwbHVnaW59IC8+XG4gICAgICAgIH1cbiAgICAgIH0pfVxuICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gIClcbn1cbiIsIid1c2UgY2xpZW50J1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgdHlwZSB7IFNhbml0aXplZFBsdWdpbiB9IGZyb20gJy4uL2ZlYXR1cmVzL3R5cGVzQ2xpZW50LmpzJ1xuXG5leHBvcnQgY29uc3QgRWRpdG9yUGx1Z2luOiBSZWFjdC5GQzx7XG4gIGFuY2hvckVsZW0/OiBIVE1MRGl2RWxlbWVudFxuICBjbGllbnRQcm9wczogdW5rbm93blxuICBwbHVnaW46IFNhbml0aXplZFBsdWdpblxufT4gPSAoeyBhbmNob3JFbGVtLCBjbGllbnRQcm9wcywgcGx1Z2luIH0pID0+IHtcbiAgaWYgKHBsdWdpbi5wb3NpdGlvbiA9PT0gJ2Zsb2F0aW5nQW5jaG9yRWxlbScgJiYgYW5jaG9yRWxlbSkge1xuICAgIHJldHVybiAoXG4gICAgICBwbHVnaW4uQ29tcG9uZW50ICYmIDxwbHVnaW4uQ29tcG9uZW50IGFuY2hvckVsZW09e2FuY2hvckVsZW19IGNsaWVudFByb3BzPXtjbGllbnRQcm9wc30gLz5cbiAgICApXG4gIH1cblxuICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gdHMgaXMgbm90IGFibGUgdG8gaW5mZXIgdGhhdCBwbHVnaW4uQ29tcG9uZW50IGlzIG9mIHR5cGUgUGx1Z2luQ29tcG9uZW50XG4gIHJldHVybiBwbHVnaW4uQ29tcG9uZW50ICYmIDxwbHVnaW4uQ29tcG9uZW50IGNsaWVudFByb3BzPXtjbGllbnRQcm9wc30gLz5cbn1cbiIsIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyBjb3B5VG9DbGlwYm9hcmQgfSBmcm9tICdAbGV4aWNhbC9jbGlwYm9hcmQnXG5pbXBvcnQgeyB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0IH0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbENvbXBvc2VyQ29udGV4dC5qcydcbmltcG9ydCB7IG9iamVjdEtsYXNzRXF1YWxzIH0gZnJvbSAnQGxleGljYWwvdXRpbHMnXG5pbXBvcnQgT2JqZWN0SUQgZnJvbSAnYnNvbi1vYmplY3RpZCdcbmltcG9ydCB7IENPTU1BTkRfUFJJT1JJVFlfTE9XLCBDT1BZX0NPTU1BTkQgfSBmcm9tICdsZXhpY2FsJ1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5cbnR5cGUgU2VyaWFsaXplZFVua25vd25MZXhpY2FsTm9kZSA9IHtcbiAgY2hpbGRyZW4/OiBTZXJpYWxpemVkVW5rbm93bkxleGljYWxOb2RlW11cbiAgdHlwZTogc3RyaW5nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDbGlwYm9hcmRQbHVnaW4oKSB7XG4gIGNvbnN0IFtlZGl0b3JdID0gdXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCgpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBSZW1vdmUgZHVwbGljYXRlZCBpZHMgZnJvbSBjbGlwYm9hcmQuIFdlIGRvIGl0IGhlcmUgYmVjYXVzZTpcbiAgICAvLyAxLiBCcm93c2VycyBkbyBub3QgYWxsb3cgc2V0dGluZyB0aGUgY2xpcGJvYXJkRGF0YSBpbiBwYXN0ZSBldmVudCBmb3Igc2VjdXJpdHkgcmVhc29ucy5cbiAgICAvLyAyLiBJZiB5b3UgY3V0IGluc3RlYWQgb2YgcGFzdGUsIHRoZSBpZCB3aWxsIGJlIGtlcHQsIHdoaWNoIGlzIGEgZ29vZCB0aGluZy5cbiAgICByZXR1cm4gZWRpdG9yLnJlZ2lzdGVyQ29tbWFuZChcbiAgICAgIENPUFlfQ09NTUFORCxcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBjb3B5VG9DbGlwYm9hcmQoZWRpdG9yLCBvYmplY3RLbGFzc0VxdWFscyhldmVudCwgQ2xpcGJvYXJkRXZlbnQpID8gZXZlbnQgOiBudWxsKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghKGV2ZW50IGluc3RhbmNlb2YgQ2xpcGJvYXJkRXZlbnQpIHx8ICFldmVudC5jbGlwYm9hcmREYXRhKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY2xpcGJvYXJkIGV2ZW50JylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxleGljYWxTdHJpbmdpZmllZCA9IGV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YSgnYXBwbGljYXRpb24veC1sZXhpY2FsLWVkaXRvcicpXG4gICAgICAgICAgICBpZiAoIWxleGljYWxTdHJpbmdpZmllZCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBsZXhpY2FsID0gSlNPTi5wYXJzZShsZXhpY2FsU3RyaW5naWZpZWQpIGFzIHtcbiAgICAgICAgICAgICAgbm9kZXM6IFNlcmlhbGl6ZWRVbmtub3duTGV4aWNhbE5vZGVbXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2hhbmdlSWRzID0gKG5vZGU6IFNlcmlhbGl6ZWRVbmtub3duTGV4aWNhbE5vZGUpID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICdmaWVsZHMnIGluIG5vZGUgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2Ygbm9kZS5maWVsZHMgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgbm9kZS5maWVsZHMgIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAnaWQnIGluIG5vZGUuZmllbGRzXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG5vZGUuZmllbGRzLmlkID0gbmV3IE9iamVjdElELmRlZmF1bHQoKS50b0hleFN0cmluZygpXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoJ2lkJyBpbiBub2RlKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5pZCA9IG5ldyBPYmplY3RJRC5kZWZhdWx0KCkudG9IZXhTdHJpbmcoKVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgIGNoYW5nZUlkcyhjaGlsZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBsZXhpY2FsLm5vZGVzKSB7XG4gICAgICAgICAgICAgIGNoYW5nZUlkcyhub2RlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3RyaW5naWZpZWQgPSBKU09OLnN0cmluZ2lmeShsZXhpY2FsKVxuICAgICAgICAgICAgZXZlbnQuY2xpcGJvYXJkRGF0YS5zZXREYXRhKCdhcHBsaWNhdGlvbi94LWxleGljYWwtZWRpdG9yJywgc3RyaW5naWZpZWQpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBDbGlwYm9hcmRFdmVudCkge1xuICAgICAgICAgICAgICBldmVudC5jbGlwYm9hcmREYXRhPy5zZXREYXRhKCdhcHBsaWNhdGlvbi94LWxleGljYWwtZWRpdG9yJywgJycpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICAgIH0pXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9LFxuICAgICAgQ09NTUFORF9QUklPUklUWV9MT1csXG4gICAgKVxuICB9LCBbZWRpdG9yXSlcblxuICByZXR1cm4gbnVsbFxufVxuIiwiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB0eXBlIHsgRGVjb3JhdG9yTm9kZSwgRWxlbWVudE5vZGUsIExleGljYWxOb2RlIH0gZnJvbSAnbGV4aWNhbCdcblxuaW1wb3J0IHsgdXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCB9IGZyb20gJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxDb21wb3NlckNvbnRleHQnXG5pbXBvcnQgeyAkZmluZE1hdGNoaW5nUGFyZW50LCBtZXJnZVJlZ2lzdGVyIH0gZnJvbSAnQGxleGljYWwvdXRpbHMnXG5pbXBvcnQge1xuICAkY3JlYXRlTm9kZVNlbGVjdGlvbixcbiAgJGdldEVkaXRvcixcbiAgJGdldE5lYXJlc3ROb2RlRnJvbURPTU5vZGUsXG4gICRnZXRTZWxlY3Rpb24sXG4gICRpc0RlY29yYXRvck5vZGUsXG4gICRpc0VsZW1lbnROb2RlLFxuICAkaXNMaW5lQnJlYWtOb2RlLFxuICAkaXNOb2RlU2VsZWN0aW9uLFxuICAkaXNSYW5nZVNlbGVjdGlvbixcbiAgJGlzUm9vdE9yU2hhZG93Um9vdCxcbiAgJGlzVGV4dE5vZGUsXG4gICRzZXRTZWxlY3Rpb24sXG4gIENMSUNLX0NPTU1BTkQsXG4gIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICBLRVlfQVJST1dfRE9XTl9DT01NQU5ELFxuICBLRVlfQVJST1dfVVBfQ09NTUFORCxcbiAgS0VZX0JBQ0tTUEFDRV9DT01NQU5ELFxuICBLRVlfREVMRVRFX0NPTU1BTkQsXG4gIFNFTEVDVElPTl9DSEFOR0VfQ09NTUFORCxcbn0gZnJvbSAnbGV4aWNhbCdcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgJy4vaW5kZXguc2NzcydcblxuLy8gVE9ETzogVGhpcyBzaG91bGQgaWRlYWxseSBiZSBmaXhlZCBpbiBMZXhpY2FsLiBTZWVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9sZXhpY2FsL3B1bGwvNzA3MlxuZXhwb3J0IGZ1bmN0aW9uIERlY29yYXRvclBsdWdpbigpIHtcbiAgY29uc3QgW2VkaXRvcl0gPSB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0KClcblxuICBjb25zdCAkb25EZWxldGUgPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSAkZ2V0U2VsZWN0aW9uKClcbiAgICBpZiAoISRpc05vZGVTZWxlY3Rpb24oc2VsZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBzZWxlY3Rpb24uZ2V0Tm9kZXMoKS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICBub2RlLnJlbW92ZSgpXG4gICAgfSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gbWVyZ2VSZWdpc3RlcihcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoXG4gICAgICAgIENMSUNLX0NPTU1BTkQsXG4gICAgICAgIChldmVudCkgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZWNvcmF0b3Itc2VsZWN0ZWQnKT8uY2xhc3NMaXN0LnJlbW92ZSgnZGVjb3JhdG9yLXNlbGVjdGVkJylcbiAgICAgICAgICBjb25zdCBkZWNvcmF0b3IgPSAkZ2V0RGVjb3JhdG9yQnlNb3VzZUV2ZW50KGV2ZW50KVxuICAgICAgICAgIGlmICghZGVjb3JhdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB7IHRhcmdldCB9ID0gZXZlbnRcbiAgICAgICAgICBjb25zdCBpc0ludGVyYWN0aXZlID1cbiAgICAgICAgICAgICEodGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHx8XG4gICAgICAgICAgICB0YXJnZXQuaXNDb250ZW50RWRpdGFibGUgfHxcbiAgICAgICAgICAgIHRhcmdldC5jbG9zZXN0KFxuICAgICAgICAgICAgICAnYnV0dG9uLCB0ZXh0YXJlYSwgaW5wdXQsIC5yZWFjdC1zZWxlY3QsIC5jb2RlLWVkaXRvciwgLm5vLXNlbGVjdC1kZWNvcmF0b3IsIFtyb2xlPVwiYnV0dG9uXCJdJyxcbiAgICAgICAgICAgIClcbiAgICAgICAgICBpZiAoaXNJbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgJHNldFNlbGVjdGlvbihudWxsKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2VsZWN0RGVjb3JhdG9yKGRlY29yYXRvcilcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgQ09NTUFORF9QUklPUklUWV9MT1csXG4gICAgICApLFxuICAgICAgZWRpdG9yLnJlZ2lzdGVyQ29tbWFuZChLRVlfREVMRVRFX0NPTU1BTkQsICRvbkRlbGV0ZSwgQ09NTUFORF9QUklPUklUWV9MT1cpLFxuICAgICAgZWRpdG9yLnJlZ2lzdGVyQ29tbWFuZChLRVlfQkFDS1NQQUNFX0NPTU1BTkQsICRvbkRlbGV0ZSwgQ09NTUFORF9QUklPUklUWV9MT1cpLFxuICAgICAgZWRpdG9yLnJlZ2lzdGVyQ29tbWFuZChcbiAgICAgICAgU0VMRUNUSU9OX0NIQU5HRV9DT01NQU5ELFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGVjb3JhdG9yID0gJGdldFNlbGVjdGVkRGVjb3JhdG9yKClcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGVjb3JhdG9yLXNlbGVjdGVkJyk/LmNsYXNzTGlzdC5yZW1vdmUoJ2RlY29yYXRvci1zZWxlY3RlZCcpXG4gICAgICAgICAgaWYgKGRlY29yYXRvcikge1xuICAgICAgICAgICAgZGVjb3JhdG9yLmVsZW1lbnQ/LmNsYXNzTGlzdC5hZGQoJ2RlY29yYXRvci1zZWxlY3RlZCcpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgQ09NTUFORF9QUklPUklUWV9MT1csXG4gICAgICApLFxuICAgICAgZWRpdG9yLnJlZ2lzdGVyQ29tbWFuZChcbiAgICAgICAgS0VZX0FSUk9XX1VQX0NPTU1BTkQsXG4gICAgICAgIChldmVudCkgPT4ge1xuICAgICAgICAgIC8vIENBU0UgMTogTm9kZSBzZWxlY3Rpb25cbiAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSAkZ2V0U2VsZWN0aW9uKClcbiAgICAgICAgICBpZiAoJGlzTm9kZVNlbGVjdGlvbihzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2U2libGluZyA9IHNlbGVjdGlvbi5nZXROb2RlcygpWzBdPy5nZXRQcmV2aW91c1NpYmxpbmcoKVxuICAgICAgICAgICAgaWYgKCRpc0RlY29yYXRvck5vZGUocHJldlNpYmxpbmcpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSAkZ2V0RWRpdG9yKCkuZ2V0RWxlbWVudEJ5S2V5KHByZXZTaWJsaW5nLmdldEtleSgpKVxuICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICRzZWxlY3REZWNvcmF0b3IoeyBlbGVtZW50LCBub2RlOiBwcmV2U2libGluZyB9KVxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEkaXNFbGVtZW50Tm9kZShwcmV2U2libGluZykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsYXN0RGVzY2VuZGFudCA9IHByZXZTaWJsaW5nLmdldExhc3REZXNjZW5kYW50KCkgPz8gcHJldlNpYmxpbmdcbiAgICAgICAgICAgIGlmICghbGFzdERlc2NlbmRhbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBibG9jayA9ICRmaW5kTWF0Y2hpbmdQYXJlbnQobGFzdERlc2NlbmRhbnQsIElOVEVSTkFMXyRpc0Jsb2NrKVxuICAgICAgICAgICAgYmxvY2s/LnNlbGVjdFN0YXJ0KClcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghJGlzUmFuZ2VTZWxlY3Rpb24oc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ0FTRSAyOiBSYW5nZSBzZWxlY3Rpb25cbiAgICAgICAgICAvLyBHZXQgZmlyc3Qgc2VsZWN0ZWQgYmxvY2tcbiAgICAgICAgICBjb25zdCBmaXJzdFBvaW50ID0gc2VsZWN0aW9uLmlzQmFja3dhcmQoKSA/IHNlbGVjdGlvbi5hbmNob3IgOiBzZWxlY3Rpb24uZm9jdXNcbiAgICAgICAgICBjb25zdCBmaXJzdE5vZGUgPSBmaXJzdFBvaW50LmdldE5vZGUoKVxuICAgICAgICAgIGNvbnN0IGZpcnN0U2VsZWN0ZWRCbG9jayA9ICRmaW5kTWF0Y2hpbmdQYXJlbnQoZmlyc3ROb2RlLCAobm9kZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGZpbmRGaXJzdFNpYmxpbmdCbG9jayhub2RlKSAhPT0gbnVsbFxuICAgICAgICAgIH0pXG4gICAgICAgICAgY29uc3QgcHJldkJsb2NrID0gZmlyc3RTZWxlY3RlZEJsb2NrPy5nZXRQcmV2aW91c1NpYmxpbmcoKVxuICAgICAgICAgIGlmICghZmlyc3RTZWxlY3RlZEJsb2NrIHx8IHByZXZCbG9jayAhPT0gZmluZEZpcnN0U2libGluZ0Jsb2NrKGZpcnN0U2VsZWN0ZWRCbG9jaykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgkaXNEZWNvcmF0b3JOb2RlKHByZXZCbG9jaykpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZCbG9ja0VsZW1lbnQgPSAkZ2V0RWRpdG9yKCkuZ2V0RWxlbWVudEJ5S2V5KHByZXZCbG9jay5nZXRLZXkoKSlcbiAgICAgICAgICAgIGlmIChwcmV2QmxvY2tFbGVtZW50KSB7XG4gICAgICAgICAgICAgICRzZWxlY3REZWNvcmF0b3IoeyBlbGVtZW50OiBwcmV2QmxvY2tFbGVtZW50LCBub2RlOiBwcmV2QmxvY2sgfSlcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBDT01NQU5EX1BSSU9SSVRZX0xPVyxcbiAgICAgICksXG4gICAgICBlZGl0b3IucmVnaXN0ZXJDb21tYW5kKFxuICAgICAgICBLRVlfQVJST1dfRE9XTl9DT01NQU5ELFxuICAgICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgICAvLyBDQVNFIDE6IE5vZGUgc2VsZWN0aW9uXG4gICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gJGdldFNlbGVjdGlvbigpXG4gICAgICAgICAgaWYgKCRpc05vZGVTZWxlY3Rpb24oc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgY29uc3QgbmV4dFNpYmxpbmcgPSBzZWxlY3Rpb24uZ2V0Tm9kZXMoKVswXT8uZ2V0TmV4dFNpYmxpbmcoKVxuICAgICAgICAgICAgaWYgKCRpc0RlY29yYXRvck5vZGUobmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSAkZ2V0RWRpdG9yKCkuZ2V0RWxlbWVudEJ5S2V5KG5leHRTaWJsaW5nLmdldEtleSgpKVxuICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICRzZWxlY3REZWNvcmF0b3IoeyBlbGVtZW50LCBub2RlOiBuZXh0U2libGluZyB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISRpc0VsZW1lbnROb2RlKG5leHRTaWJsaW5nKSkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmlyc3REZXNjZW5kYW50ID0gbmV4dFNpYmxpbmcuZ2V0Rmlyc3REZXNjZW5kYW50KCkgPz8gbmV4dFNpYmxpbmdcbiAgICAgICAgICAgIGlmICghZmlyc3REZXNjZW5kYW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBibG9jayA9ICRmaW5kTWF0Y2hpbmdQYXJlbnQoZmlyc3REZXNjZW5kYW50LCBJTlRFUk5BTF8kaXNCbG9jaylcbiAgICAgICAgICAgIGJsb2NrPy5zZWxlY3RFbmQoKVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEkaXNSYW5nZVNlbGVjdGlvbihzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDQVNFIDI6IFJhbmdlIHNlbGVjdGlvblxuICAgICAgICAgIC8vIEdldCBsYXN0IHNlbGVjdGVkIGJsb2NrXG4gICAgICAgICAgY29uc3QgbGFzdFBvaW50ID0gc2VsZWN0aW9uLmlzQmFja3dhcmQoKSA/IHNlbGVjdGlvbi5hbmNob3IgOiBzZWxlY3Rpb24uZm9jdXNcbiAgICAgICAgICBjb25zdCBsYXN0Tm9kZSA9IGxhc3RQb2ludC5nZXROb2RlKClcbiAgICAgICAgICBjb25zdCBsYXN0U2VsZWN0ZWRCbG9jayA9ICRmaW5kTWF0Y2hpbmdQYXJlbnQobGFzdE5vZGUsIChub2RlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZmluZExhdGVyU2libGluZ0Jsb2NrKG5vZGUpICE9PSBudWxsXG4gICAgICAgICAgfSlcbiAgICAgICAgICBjb25zdCBuZXh0QmxvY2sgPSBsYXN0U2VsZWN0ZWRCbG9jaz8uZ2V0TmV4dFNpYmxpbmcoKVxuICAgICAgICAgIGlmICghbGFzdFNlbGVjdGVkQmxvY2sgfHwgbmV4dEJsb2NrICE9PSBmaW5kTGF0ZXJTaWJsaW5nQmxvY2sobGFzdFNlbGVjdGVkQmxvY2spKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoJGlzRGVjb3JhdG9yTm9kZShuZXh0QmxvY2spKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0QmxvY2tFbGVtZW50ID0gJGdldEVkaXRvcigpLmdldEVsZW1lbnRCeUtleShuZXh0QmxvY2suZ2V0S2V5KCkpXG4gICAgICAgICAgICBpZiAobmV4dEJsb2NrRWxlbWVudCkge1xuICAgICAgICAgICAgICAkc2VsZWN0RGVjb3JhdG9yKHsgZWxlbWVudDogbmV4dEJsb2NrRWxlbWVudCwgbm9kZTogbmV4dEJsb2NrIH0pXG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgQ09NTUFORF9QUklPUklUWV9MT1csXG4gICAgICApLFxuICAgIClcbiAgfSwgW2VkaXRvcl0pXG5cbiAgcmV0dXJuIG51bGxcbn1cblxuZnVuY3Rpb24gJGdldERlY29yYXRvckJ5TW91c2VFdmVudChcbiAgZXZlbnQ6IE1vdXNlRXZlbnQsXG4pOiB7IGVsZW1lbnQ6IEhUTUxFbGVtZW50OyBub2RlOiBEZWNvcmF0b3JOb2RlPHVua25vd24+IH0gfCB1bmRlZmluZWQge1xuICBpZiAoIShldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbiAgY29uc3QgZWxlbWVudCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1sZXhpY2FsLWRlY29yYXRvcj1cInRydWVcIl0nKVxuICBpZiAoIShlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG4gIGNvbnN0IG5vZGUgPSAkZ2V0TmVhcmVzdE5vZGVGcm9tRE9NTm9kZShlbGVtZW50KVxuICByZXR1cm4gJGlzRGVjb3JhdG9yTm9kZShub2RlKSA/IHsgZWxlbWVudCwgbm9kZSB9IDogdW5kZWZpbmVkXG59XG5cbmZ1bmN0aW9uICRnZXRTZWxlY3RlZERlY29yYXRvcigpIHtcbiAgY29uc3Qgc2VsZWN0aW9uID0gJGdldFNlbGVjdGlvbigpXG4gIGlmICghJGlzTm9kZVNlbGVjdGlvbihzZWxlY3Rpb24pKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG4gIGNvbnN0IG5vZGVzID0gc2VsZWN0aW9uLmdldE5vZGVzKClcbiAgaWYgKG5vZGVzLmxlbmd0aCAhPT0gMSkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuICBjb25zdCBub2RlID0gbm9kZXNbMF1cbiAgcmV0dXJuICRpc0RlY29yYXRvck5vZGUobm9kZSlcbiAgICA/IHtcbiAgICAgICAgZGVjb3JhdG9yOiBub2RlLFxuICAgICAgICBlbGVtZW50OiAkZ2V0RWRpdG9yKCkuZ2V0RWxlbWVudEJ5S2V5KG5vZGUuZ2V0S2V5KCkpLFxuICAgICAgfVxuICAgIDogdW5kZWZpbmVkXG59XG5cbmZ1bmN0aW9uICRzZWxlY3REZWNvcmF0b3Ioe1xuICBlbGVtZW50LFxuICBub2RlLFxufToge1xuICBlbGVtZW50OiBIVE1MRWxlbWVudFxuICBub2RlOiBEZWNvcmF0b3JOb2RlPHVua25vd24+XG59KSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZWNvcmF0b3Itc2VsZWN0ZWQnKT8uY2xhc3NMaXN0LnJlbW92ZSgnZGVjb3JhdG9yLXNlbGVjdGVkJylcbiAgY29uc3Qgc2VsZWN0aW9uID0gJGNyZWF0ZU5vZGVTZWxlY3Rpb24oKVxuICBzZWxlY3Rpb24uYWRkKG5vZGUuZ2V0S2V5KCkpXG4gICRzZXRTZWxlY3Rpb24oc2VsZWN0aW9uKVxuICBlbGVtZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ25lYXJlc3QnIH0pXG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGVjb3JhdG9yLXNlbGVjdGVkJylcbn1cblxuLyoqXG4gKiBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svbGV4aWNhbC9ibG9iL21haW4vcGFja2FnZXMvbGV4aWNhbC9zcmMvTGV4aWNhbFV0aWxzLnRzXG4gKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRydWUgZm9yIGEgRGVjb3JhdG9yTm9kZSB0aGF0IGlzIG5vdCBpbmxpbmUgT1JcbiAqIGFuIEVsZW1lbnROb2RlIHRoYXQgaXM6XG4gKiAtIG5vdCBhIHJvb3Qgb3Igc2hhZG93IHJvb3RcbiAqIC0gbm90IGlubGluZVxuICogLSBjYW4ndCBiZSBlbXB0eVxuICogLSBoYXMgbm8gY2hpbGRyZW4gb3IgYW4gaW5saW5lIGZpcnN0IGNoaWxkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJTlRFUk5BTF8kaXNCbG9jayhub2RlOiBMZXhpY2FsTm9kZSk6IG5vZGUgaXMgRGVjb3JhdG9yTm9kZTx1bmtub3duPiB8IEVsZW1lbnROb2RlIHtcbiAgaWYgKCRpc0RlY29yYXRvck5vZGUobm9kZSkgJiYgIW5vZGUuaXNJbmxpbmUoKSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgaWYgKCEkaXNFbGVtZW50Tm9kZShub2RlKSB8fCAkaXNSb290T3JTaGFkb3dSb290KG5vZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBjb25zdCBmaXJzdENoaWxkID0gbm9kZS5nZXRGaXJzdENoaWxkKClcbiAgY29uc3QgaXNMZWFmRWxlbWVudCA9XG4gICAgZmlyc3RDaGlsZCA9PT0gbnVsbCB8fFxuICAgICRpc0xpbmVCcmVha05vZGUoZmlyc3RDaGlsZCkgfHxcbiAgICAkaXNUZXh0Tm9kZShmaXJzdENoaWxkKSB8fFxuICAgIGZpcnN0Q2hpbGQuaXNJbmxpbmUoKVxuXG4gIHJldHVybiAhbm9kZS5pc0lubGluZSgpICYmIG5vZGUuY2FuQmVFbXB0eSgpICE9PSBmYWxzZSAmJiBpc0xlYWZFbGVtZW50XG59XG5cbmZ1bmN0aW9uIGZpbmRMYXRlclNpYmxpbmdCbG9jayhub2RlOiBMZXhpY2FsTm9kZSk6IExleGljYWxOb2RlIHwgbnVsbCB7XG4gIGxldCBjdXJyZW50ID0gbm9kZS5nZXROZXh0U2libGluZygpXG4gIHdoaWxlIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgaWYgKElOVEVSTkFMXyRpc0Jsb2NrKGN1cnJlbnQpKSB7XG4gICAgICByZXR1cm4gY3VycmVudFxuICAgIH1cbiAgICBjdXJyZW50ID0gY3VycmVudC5nZXROZXh0U2libGluZygpXG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuZnVuY3Rpb24gZmluZEZpcnN0U2libGluZ0Jsb2NrKG5vZGU6IExleGljYWxOb2RlKTogTGV4aWNhbE5vZGUgfCBudWxsIHtcbiAgbGV0IGN1cnJlbnQgPSBub2RlLmdldFByZXZpb3VzU2libGluZygpXG4gIHdoaWxlIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgaWYgKElOVEVSTkFMXyRpc0Jsb2NrKGN1cnJlbnQpKSB7XG4gICAgICByZXR1cm4gY3VycmVudFxuICAgIH1cbiAgICBjdXJyZW50ID0gY3VycmVudC5nZXRQcmV2aW91c1NpYmxpbmcoKVxuICB9XG4gIHJldHVybiBudWxsXG59XG4iLCIndXNlIGNsaWVudCdcbmltcG9ydCB0eXBlIHsgTGV4aWNhbEVkaXRvciwgTGV4aWNhbE5vZGUsIFBhcmFncmFwaE5vZGUgfSBmcm9tICdsZXhpY2FsJ1xuXG5pbXBvcnQgeyB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0IH0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbENvbXBvc2VyQ29udGV4dC5qcydcbmltcG9ydCB7ICRjcmVhdGVQYXJhZ3JhcGhOb2RlLCBpc0hUTUxFbGVtZW50IH0gZnJvbSAnbGV4aWNhbCdcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJ1xuXG5pbXBvcnQgeyB1c2VFZGl0b3JDb25maWdDb250ZXh0IH0gZnJvbSAnLi4vLi4vLi4vY29uZmlnL2NsaWVudC9FZGl0b3JDb25maWdQcm92aWRlci5qcydcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvcG9pbnQuanMnXG5pbXBvcnQgeyBFTkFCTEVfU0xBU0hfTUVOVV9DT01NQU5EIH0gZnJvbSAnLi4vLi4vU2xhc2hNZW51L0xleGljYWxUeXBlYWhlYWRNZW51UGx1Z2luL2luZGV4LmpzJ1xuaW1wb3J0IHsgY2FsY3VsYXRlRGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtIH0gZnJvbSAnLi4vdXRpbHMvY2FsY3VsYXRlRGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtLmpzJ1xuaW1wb3J0IHsgZ2V0Tm9kZUNsb3NlVG9Qb2ludCB9IGZyb20gJy4uL3V0aWxzL2dldE5vZGVDbG9zZVRvUG9pbnQuanMnXG5pbXBvcnQgeyBnZXRUb3BMZXZlbE5vZGVLZXlzIH0gZnJvbSAnLi4vdXRpbHMvZ2V0VG9wTGV2ZWxOb2RlS2V5cy5qcydcbmltcG9ydCB7IGlzT25IYW5kbGVFbGVtZW50IH0gZnJvbSAnLi4vdXRpbHMvaXNPbkhhbmRsZUVsZW1lbnQuanMnXG5pbXBvcnQgeyBzZXRIYW5kbGVQb3NpdGlvbiB9IGZyb20gJy4uL3V0aWxzL3NldEhhbmRsZVBvc2l0aW9uLmpzJ1xuaW1wb3J0ICcuL2luZGV4LnNjc3MnXG5cbmNvbnN0IEFERF9CTE9DS19NRU5VX0NMQVNTTkFNRSA9ICdhZGQtYmxvY2stbWVudSdcblxubGV0IHByZXZJbmRleCA9IEluZmluaXR5XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRJbmRleChrZXlzTGVuZ3RoOiBudW1iZXIpOiBudW1iZXIge1xuICBpZiAoa2V5c0xlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBJbmZpbml0eVxuICB9XG4gIGlmIChwcmV2SW5kZXggPj0gMCAmJiBwcmV2SW5kZXggPCBrZXlzTGVuZ3RoKSB7XG4gICAgcmV0dXJuIHByZXZJbmRleFxuICB9XG5cbiAgcmV0dXJuIE1hdGguZmxvb3Ioa2V5c0xlbmd0aCAvIDIpXG59XG5cbmZ1bmN0aW9uIHVzZUFkZEJsb2NrSGFuZGxlKFxuICBlZGl0b3I6IExleGljYWxFZGl0b3IsXG4gIGFuY2hvckVsZW06IEhUTUxFbGVtZW50LFxuICBpc0VkaXRhYmxlOiBib29sZWFuLFxuKTogUmVhY3QuUmVhY3RFbGVtZW50IHtcbiAgY29uc3Qgc2Nyb2xsZXJFbGVtID0gYW5jaG9yRWxlbS5wYXJlbnRFbGVtZW50XG5cbiAgY29uc3QgeyBlZGl0b3JDb25maWcgfSA9IHVzZUVkaXRvckNvbmZpZ0NvbnRleHQoKVxuICBjb25zdCBibG9ja0hhbmRsZUhvcml6b250YWxPZmZzZXQgPSBlZGl0b3JDb25maWc/LmFkbWluPy5oaWRlR3V0dGVyID8gLTI0IDogMTJcblxuICBjb25zdCBtZW51UmVmID0gdXNlUmVmPEhUTUxCdXR0b25FbGVtZW50PihudWxsKVxuICBjb25zdCBbaG92ZXJlZEVsZW1lbnQsIHNldEhvdmVyZWRFbGVtZW50XSA9IHVzZVN0YXRlPHtcbiAgICBlbGVtOiBIVE1MRWxlbWVudFxuICAgIG5vZGU6IExleGljYWxOb2RlXG4gIH0gfCBudWxsPihudWxsKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gb25Eb2N1bWVudE1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0XG4gICAgICBpZiAoIWlzSFRNTEVsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgZGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtID0gY2FsY3VsYXRlRGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtKFxuICAgICAgICBzY3JvbGxlckVsZW0sXG4gICAgICAgIGV2ZW50LnBhZ2VYLFxuICAgICAgICBldmVudC5wYWdlWSxcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgKVxuXG4gICAgICBpZiAoZGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtID09PSAtMSkge1xuICAgICAgICBzZXRIb3ZlcmVkRWxlbWVudChudWxsKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKGlzT25IYW5kbGVFbGVtZW50KHRhcmdldCwgQUREX0JMT0NLX01FTlVfQ0xBU1NOQU1FKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IHRvcExldmVsTm9kZUtleXMgPSBnZXRUb3BMZXZlbE5vZGVLZXlzKGVkaXRvcilcblxuICAgICAgY29uc3Qge1xuICAgICAgICBibG9ja0VsZW06IF9lbXB0eUJsb2NrRWxlbSxcbiAgICAgICAgYmxvY2tOb2RlLFxuICAgICAgICBmb3VuZEF0SW5kZXgsXG4gICAgICB9ID0gZ2V0Tm9kZUNsb3NlVG9Qb2ludCh7XG4gICAgICAgIGFuY2hvckVsZW0sXG4gICAgICAgIGNhY2hlX3RocmVzaG9sZDogMCxcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICBob3Jpem9udGFsT2Zmc2V0OiAtZGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtLFxuICAgICAgICBwb2ludDogbmV3IFBvaW50KGV2ZW50LngsIGV2ZW50LnkpLFxuICAgICAgICByZXR1cm5FbXB0eVBhcmFncmFwaHM6IHRydWUsXG4gICAgICAgIHN0YXJ0SW5kZXg6IGdldEN1cnJlbnRJbmRleCh0b3BMZXZlbE5vZGVLZXlzLmxlbmd0aCksXG4gICAgICAgIHVzZUVkZ2VBc0RlZmF1bHQ6IGZhbHNlLFxuICAgICAgfSlcblxuICAgICAgcHJldkluZGV4ID0gZm91bmRBdEluZGV4XG5cbiAgICAgIGlmICghX2VtcHR5QmxvY2tFbGVtKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBibG9ja05vZGUgJiZcbiAgICAgICAgKGhvdmVyZWRFbGVtZW50Py5ub2RlICE9PSBibG9ja05vZGUgfHwgaG92ZXJlZEVsZW1lbnQ/LmVsZW0gIT09IF9lbXB0eUJsb2NrRWxlbSlcbiAgICAgICkge1xuICAgICAgICBzZXRIb3ZlcmVkRWxlbWVudCh7XG4gICAgICAgICAgZWxlbTogX2VtcHR5QmxvY2tFbGVtLFxuICAgICAgICAgIG5vZGU6IGJsb2NrTm9kZSxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTaW5jZSB0aGUgZHJhZ2dhYmxlQmxvY2tFbGVtIGlzIG91dHNpZGUgdGhlIGFjdHVhbCBlZGl0b3IsIHdlIG5lZWQgdG8gbGlzdGVuIHRvIHRoZSBkb2N1bWVudFxuICAgIC8vIHRvIGJlIGFibGUgdG8gZGV0ZWN0IHdoZW4gdGhlIG1vdXNlIGlzIG91dHNpZGUgdGhlIGVkaXRvciBhbmQgcmVzcGVjdCBhIGJ1ZmZlciBhcm91bmRcbiAgICAvLyB0aGUgc2Nyb2xsZXJFbGVtIHRvIGF2b2lkIHRoZSBkcmFnZ2FibGVCbG9ja0VsZW0gZGlzYXBwZWFyaW5nIHRvbyBlYXJseS5cbiAgICBkb2N1bWVudD8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Eb2N1bWVudE1vdXNlTW92ZSlcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Eb2N1bWVudE1vdXNlTW92ZSlcbiAgICB9XG4gIH0sIFtzY3JvbGxlckVsZW0sIGFuY2hvckVsZW0sIGVkaXRvciwgaG92ZXJlZEVsZW1lbnRdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1lbnVSZWYuY3VycmVudCAmJiBob3ZlcmVkRWxlbWVudD8ubm9kZSkge1xuICAgICAgc2V0SGFuZGxlUG9zaXRpb24oXG4gICAgICAgIGhvdmVyZWRFbGVtZW50Py5lbGVtLFxuICAgICAgICBtZW51UmVmLmN1cnJlbnQsXG4gICAgICAgIGFuY2hvckVsZW0sXG4gICAgICAgIGJsb2NrSGFuZGxlSG9yaXpvbnRhbE9mZnNldCxcbiAgICAgIClcbiAgICB9XG4gIH0sIFthbmNob3JFbGVtLCBob3ZlcmVkRWxlbWVudCwgYmxvY2tIYW5kbGVIb3Jpem9udGFsT2Zmc2V0XSlcblxuICBjb25zdCBoYW5kbGVBZGRDbGljayA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MQnV0dG9uRWxlbWVudCwgTW91c2VFdmVudD4pID0+IHtcbiAgICAgIGxldCBob3ZlcmVkRWxlbWVudFRvVXNlID0gaG92ZXJlZEVsZW1lbnRcbiAgICAgIGlmICghaG92ZXJlZEVsZW1lbnRUb1VzZT8ubm9kZSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gMS4gVXBkYXRlIGhvdmVyZWRFbGVtZW50Lm5vZGUgdG8gYSBuZXcgcGFyYWdyYXBoIG5vZGUgaWYgdGhlIGhvdmVyZWRFbGVtZW50Lm5vZGUgaXMgbm90IGEgcGFyYWdyYXBoIG5vZGVcbiAgICAgIGVkaXRvci51cGRhdGUoKCkgPT4ge1xuICAgICAgICAvLyBDaGVjayBpZiBibG9ja05vZGUgaXMgYW4gZW1wdHkgdGV4dCBub2RlXG4gICAgICAgIGxldCBpc0VtcHR5UGFyYWdyYXBoID0gdHJ1ZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgaG92ZXJlZEVsZW1lbnRUb1VzZT8ubm9kZS5nZXRUeXBlKCkgIT09ICdwYXJhZ3JhcGgnIHx8XG4gICAgICAgICAgaG92ZXJlZEVsZW1lbnRUb1VzZS5ub2RlLmdldFRleHRDb250ZW50KCkgIT09ICcnXG4gICAgICAgICkge1xuICAgICAgICAgIGlzRW1wdHlQYXJhZ3JhcGggPSBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0VtcHR5UGFyYWdyYXBoKSB7XG4gICAgICAgICAgY29uc3QgbmV3UGFyYWdyYXBoID0gJGNyZWF0ZVBhcmFncmFwaE5vZGUoKVxuICAgICAgICAgIGhvdmVyZWRFbGVtZW50VG9Vc2U/Lm5vZGUuaW5zZXJ0QWZ0ZXIobmV3UGFyYWdyYXBoKVxuXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBob3ZlcmVkRWxlbWVudFRvVXNlID0ge1xuICAgICAgICAgICAgICBlbGVtOiBlZGl0b3IuZ2V0RWxlbWVudEJ5S2V5KG5ld1BhcmFncmFwaC5nZXRLZXkoKSkhLFxuICAgICAgICAgICAgICBub2RlOiBuZXdQYXJhZ3JhcGgsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRIb3ZlcmVkRWxlbWVudChob3ZlcmVkRWxlbWVudFRvVXNlKVxuICAgICAgICAgIH0sIDApXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIC8vIDIuIEZvY3VzIG9uIHRoZSBuZXcgcGFyYWdyYXBoIG5vZGVcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlZGl0b3IudXBkYXRlKCgpID0+IHtcbiAgICAgICAgICBlZGl0b3IuZm9jdXMoKVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgaG92ZXJlZEVsZW1lbnRUb1VzZT8ubm9kZSAmJlxuICAgICAgICAgICAgJ3NlbGVjdCcgaW4gaG92ZXJlZEVsZW1lbnRUb1VzZS5ub2RlICYmXG4gICAgICAgICAgICB0eXBlb2YgaG92ZXJlZEVsZW1lbnRUb1VzZS5ub2RlLnNlbGVjdCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgaG92ZXJlZEVsZW1lbnRUb1VzZS5ub2RlLnNlbGVjdCgpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSwgMSlcblxuICAgICAgLy8gTWFrZSBzdXJlIHRoaXMgaXMgY2FsbGVkIEFGVEVSIHRoZSBmb2N1c2luZyBoYXMgYmVlbiBwcm9jZXNzZWQgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIE90aGVyd2lzZSwgdGhpcyB3b24ndCB3b3JrXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZWRpdG9yLmRpc3BhdGNoQ29tbWFuZChFTkFCTEVfU0xBU0hfTUVOVV9DT01NQU5ELCB7XG4gICAgICAgICAgbm9kZTogaG92ZXJlZEVsZW1lbnRUb1VzZT8ubm9kZSBhcyBQYXJhZ3JhcGhOb2RlLFxuICAgICAgICB9KVxuICAgICAgfSwgMilcblxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9LFxuICAgIFtlZGl0b3IsIGhvdmVyZWRFbGVtZW50XSxcbiAgKVxuXG4gIHJldHVybiBjcmVhdGVQb3J0YWwoXG4gICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPVwiQWRkIGJsb2NrXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBhZGQtYmxvY2stbWVudVwiXG4gICAgICAgIG9uQ2xpY2s9eyhldmVudCkgPT4ge1xuICAgICAgICAgIGhhbmRsZUFkZENsaWNrKGV2ZW50KVxuICAgICAgICB9fVxuICAgICAgICByZWY9e21lbnVSZWZ9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17aXNFZGl0YWJsZSA/ICdpY29uJyA6ICcnfSAvPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9SZWFjdC5GcmFnbWVudD4sXG4gICAgYW5jaG9yRWxlbSxcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQWRkQmxvY2tIYW5kbGVQbHVnaW4oe1xuICBhbmNob3JFbGVtID0gZG9jdW1lbnQuYm9keSxcbn06IHtcbiAgYW5jaG9yRWxlbT86IEhUTUxFbGVtZW50XG59KTogUmVhY3QuUmVhY3RFbGVtZW50IHtcbiAgY29uc3QgW2VkaXRvcl0gPSB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0KClcbiAgcmV0dXJuIHVzZUFkZEJsb2NrSGFuZGxlKGVkaXRvciwgYW5jaG9yRWxlbSwgZWRpdG9yLl9lZGl0YWJsZSlcbn1cbiIsIid1c2UgY2xpZW50J1xuLyoqXG4gKiBDYWxjdWxhdGUgZGlzdGFuY2UgYmV0d2VlbiBzY3JvbGxlckVsZW0gYW5kIHRhcmdldCBpZiB0YXJnZXQgaXMgbm90IGluIHNjcm9sbGVyRWxlbVxuICovXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlRGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtID0gKFxuICBzY3JvbGxlckVsZW06IEhUTUxFbGVtZW50IHwgbnVsbCxcbiAgcGFnZVg6IG51bWJlcixcbiAgcGFnZVk6IG51bWJlcixcbiAgdGFyZ2V0OiBIVE1MRWxlbWVudCxcbiAgaG9yaXpvbnRhbEJ1ZmZlcjogbnVtYmVyID0gNTAsXG4gIHZlcnRpY2FsQnVmZmVyOiBudW1iZXIgPSAyNSxcbik6IG51bWJlciA9PiB7XG4gIGxldCBkaXN0YW5jZUZyb21TY3JvbGxlckVsZW0gPSAwXG4gIGlmIChzY3JvbGxlckVsZW0gJiYgIXNjcm9sbGVyRWxlbS5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgY29uc3QgeyBib3R0b20sIGxlZnQsIHJpZ2h0LCB0b3AgfSA9IHNjcm9sbGVyRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG4gICAgY29uc3QgYWRqdXN0ZWRUb3AgPSB0b3AgKyB3aW5kb3cuc2Nyb2xsWVxuICAgIGNvbnN0IGFkanVzdGVkQm90dG9tID0gYm90dG9tICsgd2luZG93LnNjcm9sbFlcblxuICAgIGlmIChcbiAgICAgIHBhZ2VZIDwgYWRqdXN0ZWRUb3AgLSB2ZXJ0aWNhbEJ1ZmZlciB8fFxuICAgICAgcGFnZVkgPiBhZGp1c3RlZEJvdHRvbSArIHZlcnRpY2FsQnVmZmVyIHx8XG4gICAgICBwYWdlWCA8IGxlZnQgLSBob3Jpem9udGFsQnVmZmVyIHx8XG4gICAgICBwYWdlWCA+IHJpZ2h0ICsgaG9yaXpvbnRhbEJ1ZmZlclxuICAgICkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyB1c2VkIHRvIGFsbG93IHRoZSBfZHJhZ2dhYmxlQmxvY2tFbGVtIHRvIGJlIGZvdW5kIHdoZW4gdGhlIG1vdXNlIGlzIGluIHRoZVxuICAgIC8vIGJ1ZmZlciB6b25lIGFyb3VuZCB0aGUgc2Nyb2xsZXJFbGVtLlxuICAgIGlmIChwYWdlWCA8IGxlZnQgfHwgcGFnZVggPiByaWdodCkge1xuICAgICAgZGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtID0gcGFnZVggPCBsZWZ0ID8gcGFnZVggLSBsZWZ0IDogcGFnZVggLSByaWdodFxuICAgIH1cbiAgfVxuICByZXR1cm4gZGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtXG59XG4iLCIndXNlIGNsaWVudCdcbmltcG9ydCB0eXBlIHsgTGV4aWNhbEVkaXRvciwgTGV4aWNhbE5vZGUgfSBmcm9tICdsZXhpY2FsJ1xuXG5pbXBvcnQgeyAkZ2V0Tm9kZUJ5S2V5IH0gZnJvbSAnbGV4aWNhbCdcblxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi8uLi8uLi91dGlscy9wb2ludC5qcydcbmltcG9ydCB7IFJlY3QgfSBmcm9tICcuLi8uLi8uLi91dGlscy9yZWN0LmpzJ1xuaW1wb3J0IHsgZ2V0Qm91bmRpbmdDbGllbnRSZWN0V2l0aG91dFRyYW5zZm9ybSB9IGZyb20gJy4uL0RyYWdnYWJsZUJsb2NrUGx1Z2luL2dldEJvdW5kaW5nUmVjdFdpdGhvdXRUcmFuc2Zvcm0uanMnXG5pbXBvcnQgeyBnZXRDb2xsYXBzZWRNYXJnaW5zIH0gZnJvbSAnLi4vdXRpbHMvZ2V0Q29sbGFwc2VkTWFyZ2lucy5qcydcbmltcG9ydCB7IGdldFRvcExldmVsTm9kZUtleXMgfSBmcm9tICcuLi91dGlscy9nZXRUb3BMZXZlbE5vZGVLZXlzLmpzJ1xuXG4vLyBEaXJlY3Rpb25zXG5jb25zdCBEb3dud2FyZCA9IDFcbmNvbnN0IFVwd2FyZCA9IC0xXG5jb25zdCBJbmRldGVybWluYXRlID0gMFxuXG50eXBlIFByb3BzID0ge1xuICBhbmNob3JFbGVtOiBIVE1MRWxlbWVudFxuICBjYWNoZV90aHJlc2hvbGQ/OiBudW1iZXJcbiAgZWRpdG9yOiBMZXhpY2FsRWRpdG9yXG4gIC8qKiBmdXp6eSBtYWtlcyB0aGUgc2VhcmNoIG5vdCBleGFjdC4gSWYgbm8gZXhhY3QgbWF0Y2ggZm91bmQsIGZpbmQgdGhlIGNsb3NlcyBub2RlIGluc3RlYWQgb2YgcmV0dXJuaW5nIG51bGwgKi9cbiAgZnV6enk/OiBib29sZWFuXG4gIGhvcml6b250YWxPZmZzZXQ/OiBudW1iZXJcbiAgcG9pbnQ6IFBvaW50XG4gIC8qKlxuICAgKiBCeSBkZWZhdWx0LCBlbXB0eSBwYXJhZ3JhcGhzIGFyZSBub3QgcmV0dXJuZWQuIFNldCB0aGlzIHRvIHRydWUgdG8gcmV0dXJuIGVtcHR5IHBhcmFncmFwaHMuIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICByZXR1cm5FbXB0eVBhcmFncmFwaHM/OiBib29sZWFuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggdG8gc3RhcnQgc2VhcmNoaW5nIGZyb20uIEl0IGNhbiBiZSBhIGNvbnNpZGVyYWJsZSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdG8gc3RhcnQgc2VhcmNoaW5nIGZyb20gdGhlIGluZGV4IG9mIHRoZVxuICAgKiBwcmV2aW91c2x5IGZvdW5kIG5vZGUsIGFzIHRoZSBub2RlIGlzIGxpa2VseSB0byBiZSBjbG9zZSB0byB0aGUgbmV4dCBub2RlLlxuICAgKi9cbiAgc3RhcnRJbmRleD86IG51bWJlclxuICB1c2VFZGdlQXNEZWZhdWx0PzogYm9vbGVhblxuICB2ZXJib3NlPzogYm9vbGVhblxufVxuXG50eXBlIE91dHB1dCA9IHtcbiAgYmxvY2tFbGVtOiBIVE1MRWxlbWVudCB8IG51bGxcbiAgYmxvY2tOb2RlOiBMZXhpY2FsTm9kZSB8IG51bGxcbiAgZm91bmRBdEluZGV4OiBudW1iZXJcbiAgaXNGb3VuZE5vZGVFbXB0eVBhcmFncmFwaDogYm9vbGVhblxufVxuXG5jb25zdCBjYWNoZSA9IHtcbiAgcHJvcHM6IG51bGwgYXMgbnVsbCB8IFByb3BzLFxuICByZXN1bHQ6IG51bGwgYXMgbnVsbCB8IE91dHB1dCxcbn1cblxuZnVuY3Rpb24gaXNQb2ludENsb3NlKHByZXZpb3VzOiBQb2ludCwgY3VycmVudDogUG9pbnQsIHRocmVzaG9sZDogbnVtYmVyID0gMjApOiBib29sZWFuIHtcbiAgY29uc3QgZHggPSBwcmV2aW91cy54IC0gY3VycmVudC54XG4gIGNvbnN0IGR5ID0gcHJldmlvdXMueSAtIGN1cnJlbnQueVxuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPD0gdGhyZXNob2xkICogdGhyZXNob2xkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlQ2xvc2VUb1BvaW50KHByb3BzOiBQcm9wcyk6IE91dHB1dCB7XG4gIGNvbnN0IHtcbiAgICBhbmNob3JFbGVtLFxuICAgIGNhY2hlX3RocmVzaG9sZCA9IDIwLFxuICAgIGVkaXRvcixcbiAgICBmdXp6eSA9IGZhbHNlLFxuICAgIGhvcml6b250YWxPZmZzZXQgPSAwLFxuICAgIHBvaW50OiB7IHgsIHkgfSxcbiAgICBzdGFydEluZGV4ID0gMCxcbiAgICB1c2VFZGdlQXNEZWZhdWx0ID0gZmFsc2UsXG4gIH0gPSBwcm9wc1xuXG4gIC8vIFVzZSBjYWNoZVxuICBpZiAoXG4gICAgY2FjaGVfdGhyZXNob2xkID4gMCAmJlxuICAgIGNhY2hlLnByb3BzICYmXG4gICAgY2FjaGUucmVzdWx0ICYmXG4gICAgY2FjaGUucHJvcHMuZnV6enkgPT09IHByb3BzLmZ1enp5ICYmXG4gICAgY2FjaGUucHJvcHMuaG9yaXpvbnRhbE9mZnNldCA9PT0gcHJvcHMuaG9yaXpvbnRhbE9mZnNldCAmJlxuICAgIGNhY2hlLnByb3BzLnVzZUVkZ2VBc0RlZmF1bHQgPT09IHByb3BzLnVzZUVkZ2VBc0RlZmF1bHQgJiZcbiAgICBpc1BvaW50Q2xvc2UoY2FjaGUucHJvcHMucG9pbnQsIHByb3BzLnBvaW50LCBjYWNoZV90aHJlc2hvbGQpXG4gICkge1xuICAgIHJldHVybiBjYWNoZS5yZXN1bHRcbiAgfVxuXG4gIGNvbnN0IGFuY2hvckVsZW1lbnRSZWN0ID0gYW5jaG9yRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICBjb25zdCB0b3BMZXZlbE5vZGVLZXlzID0gZ2V0VG9wTGV2ZWxOb2RlS2V5cyhlZGl0b3IpXG5cbiAgY29uc3QgY2xvc2VzdEJsb2NrRWxlbToge1xuICAgIGJsb2NrRWxlbTogSFRNTEVsZW1lbnQgfCBudWxsXG4gICAgYmxvY2tOb2RlOiBMZXhpY2FsTm9kZSB8IG51bGxcbiAgICBkaXN0YW5jZTogbnVtYmVyXG4gICAgZm91bmRBdEluZGV4OiBudW1iZXJcbiAgICBpc0ZvdW5kTm9kZUVtcHR5UGFyYWdyYXBoOiBib29sZWFuXG4gIH0gPSB7XG4gICAgYmxvY2tFbGVtOiBudWxsLFxuICAgIGJsb2NrTm9kZTogbnVsbCxcbiAgICBkaXN0YW5jZTogSW5maW5pdHksXG4gICAgZm91bmRBdEluZGV4OiAtMSxcbiAgICBpc0ZvdW5kTm9kZUVtcHR5UGFyYWdyYXBoOiBmYWxzZSxcbiAgfVxuXG4gIC8vIFJldHVybiBudWxsIGlmIG1hdGNoaW5nIGJsb2NrIGVsZW1lbnQgaXMgdGhlIGZpcnN0IG9yIGxhc3Qgbm9kZVxuICBlZGl0b3IuZ2V0RWRpdG9yU3RhdGUoKS5yZWFkKCgpID0+IHtcbiAgICBpZiAodXNlRWRnZUFzRGVmYXVsdCkge1xuICAgICAgY29uc3QgZmlyc3ROb2RlID0gZWRpdG9yLmdldEVsZW1lbnRCeUtleSh0b3BMZXZlbE5vZGVLZXlzWzBdISlcbiAgICAgIGNvbnN0IGxhc3ROb2RlID0gZWRpdG9yLmdldEVsZW1lbnRCeUtleSh0b3BMZXZlbE5vZGVLZXlzW3RvcExldmVsTm9kZUtleXMubGVuZ3RoIC0gMV0hKVxuXG4gICAgICBpZiAoZmlyc3ROb2RlICYmIGxhc3ROb2RlKSB7XG4gICAgICAgIGNvbnN0IFtmaXJzdE5vZGVSZWN0LCBsYXN0Tm9kZVJlY3RdID0gW1xuICAgICAgICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdFdpdGhvdXRUcmFuc2Zvcm0oZmlyc3ROb2RlKSxcbiAgICAgICAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3RXaXRob3V0VHJhbnNmb3JtKGxhc3ROb2RlKSxcbiAgICAgICAgXVxuXG4gICAgICAgIGlmICh5IDwgZmlyc3ROb2RlUmVjdC50b3ApIHtcbiAgICAgICAgICBjbG9zZXN0QmxvY2tFbGVtLmJsb2NrRWxlbSA9IGZpcnN0Tm9kZVxuICAgICAgICAgIGNsb3Nlc3RCbG9ja0VsZW0uZGlzdGFuY2UgPSBmaXJzdE5vZGVSZWN0LnRvcCAtIHlcbiAgICAgICAgICBjbG9zZXN0QmxvY2tFbGVtLmJsb2NrTm9kZSA9ICRnZXROb2RlQnlLZXkodG9wTGV2ZWxOb2RlS2V5c1swXSEpXG4gICAgICAgICAgY2xvc2VzdEJsb2NrRWxlbS5mb3VuZEF0SW5kZXggPSAwXG4gICAgICAgIH0gZWxzZSBpZiAoeSA+IGxhc3ROb2RlUmVjdC5ib3R0b20pIHtcbiAgICAgICAgICBjbG9zZXN0QmxvY2tFbGVtLmRpc3RhbmNlID0geSAtIGxhc3ROb2RlUmVjdC5ib3R0b21cbiAgICAgICAgICBjbG9zZXN0QmxvY2tFbGVtLmJsb2NrTm9kZSA9ICRnZXROb2RlQnlLZXkodG9wTGV2ZWxOb2RlS2V5c1t0b3BMZXZlbE5vZGVLZXlzLmxlbmd0aCAtIDFdISlcbiAgICAgICAgICBjbG9zZXN0QmxvY2tFbGVtLmJsb2NrRWxlbSA9IGxhc3ROb2RlXG4gICAgICAgICAgY2xvc2VzdEJsb2NrRWxlbS5mb3VuZEF0SW5kZXggPSB0b3BMZXZlbE5vZGVLZXlzLmxlbmd0aCAtIDFcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbG9zZXN0QmxvY2tFbGVtPy5ibG9ja0VsZW0pIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmxvY2tFbGVtOiBudWxsLFxuICAgICAgICAgICAgaXNGb3VuZE5vZGVFbXB0eVBhcmFncmFwaDogZmFsc2UsXG4gICAgICAgICAgfSBhcyBPdXRwdXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpbmQgbWF0Y2hpbmcgYmxvY2sgZWxlbWVudFxuICAgIGxldCBpbmRleCA9IHN0YXJ0SW5kZXhcbiAgICBsZXQgZGlyZWN0aW9uID0gSW5kZXRlcm1pbmF0ZVxuXG4gICAgd2hpbGUgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0b3BMZXZlbE5vZGVLZXlzLmxlbmd0aCkge1xuICAgICAgY29uc3Qga2V5ID0gdG9wTGV2ZWxOb2RlS2V5c1tpbmRleF0hXG4gICAgICBjb25zdCBlbGVtID0gZWRpdG9yLmdldEVsZW1lbnRCeUtleShrZXkpXG4gICAgICBpZiAoZWxlbSA9PT0gbnVsbCkge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoeCArIGhvcml6b250YWxPZmZzZXQsIHkpXG4gICAgICAvL2NvbnN0IGRvbVJlY3QgPSBSZWN0LmZyb21ET00oZWxlbSlcbiAgICAgIC8vIERvIG5vdCBjb25zaWRlciB0cmFuc2Zvcm0gb2YgYmxvY2tzIHdoZW4gY2FsY3VsYXRpbmcgZGlzdGFuY2VcbiAgICAgIGNvbnN0IGRvbVJlY3QgPSBSZWN0LmZyb21ET01SZWN0KGdldEJvdW5kaW5nQ2xpZW50UmVjdFdpdGhvdXRUcmFuc2Zvcm0oZWxlbSkpXG5cbiAgICAgIGNvbnN0IHsgbWFyZ2luQm90dG9tLCBtYXJnaW5Ub3AgfSA9IGdldENvbGxhcHNlZE1hcmdpbnMoZWxlbSlcblxuICAgICAgY29uc3QgcmVjdCA9IGRvbVJlY3QuZ2VuZXJhdGVOZXdSZWN0KHtcbiAgICAgICAgYm90dG9tOiBkb21SZWN0LmJvdHRvbSArIG1hcmdpbkJvdHRvbSxcbiAgICAgICAgbGVmdDogYW5jaG9yRWxlbWVudFJlY3QubGVmdCxcbiAgICAgICAgcmlnaHQ6IGFuY2hvckVsZW1lbnRSZWN0LnJpZ2h0LFxuICAgICAgICB0b3A6IGRvbVJlY3QudG9wIC0gbWFyZ2luVG9wLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgeyBkaXN0YW5jZSwgaXNPbkJvdHRvbVNpZGUsIGlzT25Ub3BTaWRlIH0gPSByZWN0LmRpc3RhbmNlRnJvbVBvaW50KHBvaW50KVxuXG4gICAgICBpZiAoZGlzdGFuY2UgPT09IDApIHtcbiAgICAgICAgY2xvc2VzdEJsb2NrRWxlbS5ibG9ja0VsZW0gPSBlbGVtXG4gICAgICAgIGNsb3Nlc3RCbG9ja0VsZW0uYmxvY2tOb2RlID0gJGdldE5vZGVCeUtleShrZXkpXG4gICAgICAgIGNsb3Nlc3RCbG9ja0VsZW0uZm91bmRBdEluZGV4ID0gaW5kZXhcbiAgICAgICAgY2xvc2VzdEJsb2NrRWxlbS5kaXN0YW5jZSA9IGRpc3RhbmNlXG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgYmxvY2tOb2RlIGlzIGFuIGVtcHR5IHRleHQgbm9kZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2xvc2VzdEJsb2NrRWxlbS5ibG9ja05vZGUgJiZcbiAgICAgICAgICBjbG9zZXN0QmxvY2tFbGVtLmJsb2NrTm9kZS5nZXRUeXBlKCkgPT09ICdwYXJhZ3JhcGgnICYmXG4gICAgICAgICAgY2xvc2VzdEJsb2NrRWxlbS5ibG9ja05vZGUuZ2V0VGV4dENvbnRlbnQoKSA9PT0gJydcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKCFmdXp6eSAmJiAhcHJvcHMucmV0dXJuRW1wdHlQYXJhZ3JhcGhzKSB7XG4gICAgICAgICAgICBjbG9zZXN0QmxvY2tFbGVtLmJsb2NrRWxlbSA9IG51bGxcbiAgICAgICAgICAgIGNsb3Nlc3RCbG9ja0VsZW0uYmxvY2tOb2RlID0gbnVsbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsb3Nlc3RCbG9ja0VsZW0uaXNGb3VuZE5vZGVFbXB0eVBhcmFncmFwaCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgfSBlbHNlIGlmIChmdXp6eSkge1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCBjbG9zZXN0QmxvY2tFbGVtLmRpc3RhbmNlKSB7XG4gICAgICAgICAgY2xvc2VzdEJsb2NrRWxlbS5ibG9ja0VsZW0gPSBlbGVtXG4gICAgICAgICAgY2xvc2VzdEJsb2NrRWxlbS5ibG9ja05vZGUgPSAkZ2V0Tm9kZUJ5S2V5KGtleSlcbiAgICAgICAgICBjbG9zZXN0QmxvY2tFbGVtLmRpc3RhbmNlID0gZGlzdGFuY2VcbiAgICAgICAgICBjbG9zZXN0QmxvY2tFbGVtLmZvdW5kQXRJbmRleCA9IGluZGV4XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gSW5kZXRlcm1pbmF0ZSkge1xuICAgICAgICBpZiAoaXNPblRvcFNpZGUpIHtcbiAgICAgICAgICBkaXJlY3Rpb24gPSBVcHdhcmRcbiAgICAgICAgfSBlbHNlIGlmIChpc09uQm90dG9tU2lkZSkge1xuICAgICAgICAgIGRpcmVjdGlvbiA9IERvd253YXJkXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gc3RvcCBzZWFyY2ggYmxvY2sgZWxlbWVudFxuICAgICAgICAgIGRpcmVjdGlvbiA9IEluZmluaXR5XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaW5kZXggKz0gZGlyZWN0aW9uXG4gICAgfVxuICB9KVxuXG4gIC8vIFN0b3JlIGluIGNhY2hlIGJlZm9yZSByZXR1cm5pbmdcbiAgY2FjaGUucHJvcHMgPSBwcm9wc1xuICBjYWNoZS5yZXN1bHQgPSB7XG4gICAgYmxvY2tFbGVtOiBjbG9zZXN0QmxvY2tFbGVtLmJsb2NrRWxlbSxcbiAgICBibG9ja05vZGU6IGNsb3Nlc3RCbG9ja0VsZW0uYmxvY2tOb2RlLFxuICAgIGZvdW5kQXRJbmRleDogY2xvc2VzdEJsb2NrRWxlbS5mb3VuZEF0SW5kZXgsXG4gICAgaXNGb3VuZE5vZGVFbXB0eVBhcmFncmFwaDogY2xvc2VzdEJsb2NrRWxlbS5pc0ZvdW5kTm9kZUVtcHR5UGFyYWdyYXBoLFxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBibG9ja0VsZW06IGNsb3Nlc3RCbG9ja0VsZW0uYmxvY2tFbGVtLFxuICAgIGJsb2NrTm9kZTogY2xvc2VzdEJsb2NrRWxlbS5ibG9ja05vZGUsXG4gICAgZm91bmRBdEluZGV4OiBjbG9zZXN0QmxvY2tFbGVtLmZvdW5kQXRJbmRleCxcbiAgICBpc0ZvdW5kTm9kZUVtcHR5UGFyYWdyYXBoOiBjbG9zZXN0QmxvY2tFbGVtLmlzRm91bmROb2RlRW1wdHlQYXJhZ3JhcGgsXG4gIH1cbn1cbiIsIid1c2UgY2xpZW50J1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdFdpdGhvdXRUcmFuc2Zvcm0oZWxlbTogSFRNTEVsZW1lbnQpOiBET01SZWN0IHtcbiAgY29uc3QgcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAvLyBFeHRyYWN0IHRoZSB0cmFuc2xhdGlvbiB2YWx1ZSBmcm9tIHRoZSB0cmFuc2Zvcm0gc3R5bGVcbiAgY29uc3QgdHJhbnNmb3JtVmFsdWUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW0pLmdldFByb3BlcnR5VmFsdWUoJ3RyYW5zZm9ybScpXG4gIGlmICghdHJhbnNmb3JtVmFsdWUgfHwgdHJhbnNmb3JtVmFsdWUgPT09ICdub25lJykge1xuICAgIHJldHVybiByZWN0XG4gIH1cblxuICBjb25zdCBsYXN0TnVtYmVyT2ZUcmFuc2Zvcm1WYWx1ZSA9IHRyYW5zZm9ybVZhbHVlLnNwbGl0KCcsJykucG9wKClcbiAgcmVjdC55ID0gcmVjdC55IC0gTnVtYmVyKGxhc3ROdW1iZXJPZlRyYW5zZm9ybVZhbHVlPy5yZXBsYWNlKCcpJywgJycpKVxuXG4gIC8vIFJldHVybiB0aGUgb3JpZ2luYWwgYm91bmRpbmcgcmVjdCBpZiBubyB0cmFuc2xhdGlvbiBpcyBhcHBsaWVkXG4gIHJldHVybiByZWN0XG59XG4iLCIndXNlIGNsaWVudCdcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xsYXBzZWRNYXJnaW5zKGVsZW06IEhUTUxFbGVtZW50KToge1xuICBtYXJnaW5Cb3R0b206IG51bWJlclxuICBtYXJnaW5Ub3A6IG51bWJlclxufSB7XG4gIGNvbnN0IGdldE1hcmdpbiA9IChlbGVtZW50OiBFbGVtZW50IHwgbnVsbCwgbWFyZ2luOiAnbWFyZ2luQm90dG9tJyB8ICdtYXJnaW5Ub3AnKTogbnVtYmVyID0+XG4gICAgZWxlbWVudCA/IHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudClbbWFyZ2luXSkgOiAwXG5cbiAgY29uc3QgeyBtYXJnaW5Cb3R0b20sIG1hcmdpblRvcCB9ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSlcbiAgY29uc3QgcHJldkVsZW1TaWJsaW5nTWFyZ2luQm90dG9tID0gZ2V0TWFyZ2luKGVsZW0ucHJldmlvdXNFbGVtZW50U2libGluZywgJ21hcmdpbkJvdHRvbScpXG4gIGNvbnN0IG5leHRFbGVtU2libGluZ01hcmdpblRvcCA9IGdldE1hcmdpbihlbGVtLm5leHRFbGVtZW50U2libGluZywgJ21hcmdpblRvcCcpXG4gIGNvbnN0IGNvbGxhcHNlZFRvcE1hcmdpbiA9IE1hdGgubWF4KHBhcnNlRmxvYXQobWFyZ2luVG9wKSwgcHJldkVsZW1TaWJsaW5nTWFyZ2luQm90dG9tKVxuICBjb25zdCBjb2xsYXBzZWRCb3R0b21NYXJnaW4gPSBNYXRoLm1heChwYXJzZUZsb2F0KG1hcmdpbkJvdHRvbSksIG5leHRFbGVtU2libGluZ01hcmdpblRvcClcblxuICByZXR1cm4geyBtYXJnaW5Cb3R0b206IGNvbGxhcHNlZEJvdHRvbU1hcmdpbiwgbWFyZ2luVG9wOiBjb2xsYXBzZWRUb3BNYXJnaW4gfVxufVxuIiwiJ3VzZSBjbGllbnQnXG5pbXBvcnQgdHlwZSB7IExleGljYWxFZGl0b3IgfSBmcm9tICdsZXhpY2FsJ1xuXG5pbXBvcnQgeyAkZ2V0Um9vdCB9IGZyb20gJ2xleGljYWwnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3BMZXZlbE5vZGVLZXlzKGVkaXRvcjogTGV4aWNhbEVkaXRvcik6IHN0cmluZ1tdIHtcbiAgcmV0dXJuIGVkaXRvci5nZXRFZGl0b3JTdGF0ZSgpLnJlYWQoKCkgPT4gJGdldFJvb3QoKS5nZXRDaGlsZHJlbktleXMoKSlcbn1cbiIsIid1c2UgY2xpZW50J1xuZXhwb3J0IGZ1bmN0aW9uIGlzT25IYW5kbGVFbGVtZW50KGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBoYW5kbGVFbGVtZW50Q2xhc3NOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhZWxlbWVudC5jbG9zZXN0KGAuJHtoYW5kbGVFbGVtZW50Q2xhc3NOYW1lfWApXG59XG4iLCIndXNlIGNsaWVudCdcbmNvbnN0IHJlcGxhY2VkRWxlbWVudHMgPSBbXG4gICdJTUcnLFxuICAnSU5QVVQnLFxuICAnVEVYVEFSRUEnLFxuICAnU0VMRUNUJyxcbiAgJ0JVVFRPTicsXG4gICdWSURFTycsXG4gICdPQkpFQ1QnLFxuICAnRU1CRUQnLFxuICAnSUZSQU1FJyxcbiAgJ0hSJyxcbl1cblxuLyoqXG4gKiBGcm9tIENoYXRHUFQsIG9ubHkgdGhhdCB2ZXJpZmllZCBpdCB3b3JrcyBmb3IgSFIgZWxlbWVudHMuXG4gKlxuICogSFRNTCBFbGVtZW50cyBjYW4gaGF2ZSBDU1MgbGluZUhlaWdodCBhcHBsaWVkIHRvIHRoZW0sIGJ1dCBpdCBkb2Vzbid0IGFsd2F5cyBhZmZlY3QgdGhlIHZpc3VhbCBsYXlvdXQuXG4gKiBUaGlzIGZ1bmN0aW9uIGNoZWNrcyBpZiB0aGUgbGluZS1oZWlnaHQgcHJvcGVydHkgaGFzIGFuIGVmZmVjdCBvbiB0aGUgZWxlbWVudCdzIGxheW91dC5cbiAqIEBwYXJhbSBodG1sRWxlbVxuICovXG5leHBvcnQgZnVuY3Rpb24gZG9lc0xpbmVIZWlnaHRBZmZlY3RFbGVtZW50KGh0bWxFbGVtOiBIVE1MRWxlbWVudCkge1xuICBpZiAoIWh0bWxFbGVtKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyBDaGVjayBmb3IgcmVwbGFjZWQgZWxlbWVudHMsIGVsZW1lbnRzIHRoYXQgdHlwaWNhbGx5IGRvbid0IHN1cHBvcnQgbGluZS1oZWlnaHQgYWRqdXN0bWVudHMsXG4gIC8vIGFuZCBlbGVtZW50cyB3aXRob3V0IHZpc2libGUgY29udGVudFxuXG4gIGlmIChcbiAgICByZXBsYWNlZEVsZW1lbnRzLmluY2x1ZGVzKGh0bWxFbGVtLnRhZ05hbWUpIHx8XG4gICAgaHRtbEVsZW0ub2Zmc2V0SGVpZ2h0ID09PSAwIHx8XG4gICAgaHRtbEVsZW0ub2Zmc2V0V2lkdGggPT09IDBcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyBDaGVjayBmb3Igc3BlY2lmaWMgQ1NTIHByb3BlcnRpZXMgdGhhdCBuZWdhdGUgbGluZS1oZWlnaHQncyB2aXN1YWwgZWZmZWN0c1xuICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGh0bWxFbGVtKVxuICBpZiAoXG4gICAgc3R5bGUuZGlzcGxheSA9PT0gJ3RhYmxlLWNlbGwnIHx8XG4gICAgc3R5bGUucG9zaXRpb24gPT09ICdhYnNvbHV0ZScgfHxcbiAgICBzdHlsZS52aXNpYmlsaXR5ID09PSAnaGlkZGVuJyB8fFxuICAgIHN0eWxlLm9wYWNpdHkgPT09ICcwJ1xuICApIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIFRoaXMgaXMgYSBiYXNpYyBjaGVjaywgYW5kIHRoZXJlIGNhbiBiZSBtb3JlIGNvbXBsZXggc2NlbmFyaW9zIHdoZXJlIGxpbmUtaGVpZ2h0IGRvZXNuJ3QgaGF2ZSBhbiBlZmZlY3QuXG4gIHJldHVybiB0cnVlXG59XG4iLCIndXNlIGNsaWVudCdcbmltcG9ydCB7IGRvZXNMaW5lSGVpZ2h0QWZmZWN0RWxlbWVudCB9IGZyb20gJy4vZG9lc0xpbmVIZWlnaHRBZmZlY3RFbGVtZW50LmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0SGFuZGxlUG9zaXRpb24oXG4gIHRhcmdldEVsZW06IEhUTUxFbGVtZW50IHwgbnVsbCxcbiAgaGFuZGxlRWxlbTogSFRNTEVsZW1lbnQsXG4gIGFuY2hvckVsZW06IEhUTUxFbGVtZW50LFxuICBsZWZ0T2Zmc2V0OiBudW1iZXIgPSAwLCAvLyBTUEFDRVxuKSB7XG4gIGlmICghdGFyZ2V0RWxlbSkge1xuICAgIGhhbmRsZUVsZW0uc3R5bGUub3BhY2l0eSA9ICcwJ1xuICAgIGhhbmRsZUVsZW0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtMTAwMDBweCwgLTEwMDAwcHgpJ1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgdGFyZ2V0UmVjdCA9IHRhcmdldEVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgY29uc3QgdGFyZ2V0U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXRFbGVtKVxuICBjb25zdCBmbG9hdGluZ0VsZW1SZWN0ID0gaGFuZGxlRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICBjb25zdCBhbmNob3JFbGVtZW50UmVjdCA9IGFuY2hvckVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICBsZXQgdG9wOiBudW1iZXJcblxuICBjb25zdCBpc0Jsb2NrU3R5bGUgPSBbXG4gICAgJ0xleGljYWxFZGl0b3JUaGVtZV9fYmxvY2snLFxuICAgICdMZXhpY2FsRWRpdG9yVGhlbWVfX3VwbG9hZCcsXG4gICAgJ0xleGljYWxFZGl0b3JUaGVtZV9fcmVsYXRpb25zaGlwJyxcbiAgXS5zb21lKFxuICAgIChjbGFzc2VzKSA9PlxuICAgICAgdGFyZ2V0RWxlbS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NlcykgfHxcbiAgICAgIHRhcmdldEVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ/LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzKSxcbiAgKVxuXG4gIGlmICghaXNCbG9ja1N0eWxlKSB7XG4gICAgLy8gTm8gbmVlZCB0byBsZXQgbGluZSBoZWlnaHQgYWZmZWN0IHRoZSByZS1wb3NpdGlvbmluZyBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBpZiBsaW5lIGhlaWdodCBoYXMgbm9cbiAgICAvLyB2aXN1YWwgZWZmZWN0IG9uIHRoZSBlbGVtZW50LiBPdGhlcndpc2UsIHRoZSBmbG9hdGluZyBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZCBpbmNvcnJlY3RseS5cbiAgICBjb25zdCBhY3R1YWxMaW5lSGVpZ2h0ID0gZG9lc0xpbmVIZWlnaHRBZmZlY3RFbGVtZW50KHRhcmdldEVsZW0pXG4gICAgICA/IHBhcnNlSW50KHRhcmdldFN0eWxlLmxpbmVIZWlnaHQsIDEwKVxuICAgICAgOiAwXG5cbiAgICB0b3AgPSB0YXJnZXRSZWN0LnRvcCArIChhY3R1YWxMaW5lSGVpZ2h0IC0gZmxvYXRpbmdFbGVtUmVjdC5oZWlnaHQpIC8gMiAtIGFuY2hvckVsZW1lbnRSZWN0LnRvcFxuICB9IGVsc2Uge1xuICAgIHRvcCA9IHRhcmdldFJlY3QudG9wICsgOCAtIGFuY2hvckVsZW1lbnRSZWN0LnRvcFxuICB9XG5cbiAgY29uc3QgbGVmdCA9IGxlZnRPZmZzZXRcblxuICBoYW5kbGVFbGVtLnN0eWxlLm9wYWNpdHkgPSAnMSdcbiAgaGFuZGxlRWxlbS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7bGVmdH1weCwgJHt0b3B9cHgpYFxufVxuIiwiJ3VzZSBjbGllbnQnXG5pbXBvcnQgdHlwZSB7IExleGljYWxFZGl0b3IgfSBmcm9tICdsZXhpY2FsJ1xuaW1wb3J0IHR5cGUgeyBEcmFnRXZlbnQgYXMgUmVhY3REcmFnRXZlbnQgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgdXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCB9IGZyb20gJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxDb21wb3NlckNvbnRleHQuanMnXG5pbXBvcnQgeyBldmVudEZpbGVzIH0gZnJvbSAnQGxleGljYWwvcmljaC10ZXh0J1xuaW1wb3J0IHsgJGdldE5lYXJlc3ROb2RlRnJvbURPTU5vZGUsICRnZXROb2RlQnlLZXksIGlzSFRNTEVsZW1lbnQgfSBmcm9tICdsZXhpY2FsJ1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSdcblxuaW1wb3J0IHsgdXNlRWRpdG9yQ29uZmlnQ29udGV4dCB9IGZyb20gJy4uLy4uLy4uL2NvbmZpZy9jbGllbnQvRWRpdG9yQ29uZmlnUHJvdmlkZXIuanMnXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3BvaW50LmpzJ1xuaW1wb3J0IHsgY2FsY3VsYXRlRGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtIH0gZnJvbSAnLi4vdXRpbHMvY2FsY3VsYXRlRGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtLmpzJ1xuaW1wb3J0IHsgZ2V0Tm9kZUNsb3NlVG9Qb2ludCB9IGZyb20gJy4uL3V0aWxzL2dldE5vZGVDbG9zZVRvUG9pbnQuanMnXG5pbXBvcnQgeyBnZXRUb3BMZXZlbE5vZGVLZXlzIH0gZnJvbSAnLi4vdXRpbHMvZ2V0VG9wTGV2ZWxOb2RlS2V5cy5qcydcbmltcG9ydCB7IGlzT25IYW5kbGVFbGVtZW50IH0gZnJvbSAnLi4vdXRpbHMvaXNPbkhhbmRsZUVsZW1lbnQuanMnXG5pbXBvcnQgeyBzZXRIYW5kbGVQb3NpdGlvbiB9IGZyb20gJy4uL3V0aWxzL3NldEhhbmRsZVBvc2l0aW9uLmpzJ1xuaW1wb3J0IHsgZ2V0Qm91bmRpbmdDbGllbnRSZWN0V2l0aG91dFRyYW5zZm9ybSB9IGZyb20gJy4vZ2V0Qm91bmRpbmdSZWN0V2l0aG91dFRyYW5zZm9ybS5qcydcbmltcG9ydCAnLi9pbmRleC5zY3NzJ1xuaW1wb3J0IHsgc2V0VGFyZ2V0TGluZSB9IGZyb20gJy4vc2V0VGFyZ2V0TGluZS5qcydcblxuY29uc3QgRFJBR0dBQkxFX0JMT0NLX01FTlVfQ0xBU1NOQU1FID0gJ2RyYWdnYWJsZS1ibG9jay1tZW51J1xuY29uc3QgRFJBR19EQVRBX0ZPUk1BVCA9ICdhcHBsaWNhdGlvbi94LWxleGljYWwtZHJhZy1ibG9jaydcblxubGV0IHByZXZJbmRleCA9IEluZmluaXR5XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRJbmRleChrZXlzTGVuZ3RoOiBudW1iZXIpOiBudW1iZXIge1xuICBpZiAoa2V5c0xlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBJbmZpbml0eVxuICB9XG4gIGlmIChwcmV2SW5kZXggPj0gMCAmJiBwcmV2SW5kZXggPCBrZXlzTGVuZ3RoKSB7XG4gICAgcmV0dXJuIHByZXZJbmRleFxuICB9XG5cbiAgcmV0dXJuIE1hdGguZmxvb3Ioa2V5c0xlbmd0aCAvIDIpXG59XG5cbmZ1bmN0aW9uIHNldERyYWdJbWFnZShkYXRhVHJhbnNmZXI6IERhdGFUcmFuc2ZlciwgZHJhZ2dhYmxlQmxvY2tFbGVtOiBIVE1MRWxlbWVudCkge1xuICBjb25zdCB7IHRyYW5zZm9ybSB9ID0gZHJhZ2dhYmxlQmxvY2tFbGVtLnN0eWxlXG5cbiAgLy8gUmVtb3ZlIGRyYWdJbWFnZSBib3JkZXJzXG4gIGRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UoZHJhZ2dhYmxlQmxvY2tFbGVtLCAwLCAwKVxuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGRyYWdnYWJsZUJsb2NrRWxlbS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbiAgfSlcbn1cblxuZnVuY3Rpb24gaGlkZVRhcmdldExpbmUoXG4gIHRhcmdldExpbmVFbGVtOiBIVE1MRWxlbWVudCB8IG51bGwsXG4gIGxhc3RUYXJnZXRCbG9ja0VsZW06IEhUTUxFbGVtZW50IHwgbnVsbCxcbikge1xuICBpZiAodGFyZ2V0TGluZUVsZW0pIHtcbiAgICB0YXJnZXRMaW5lRWxlbS5zdHlsZS5vcGFjaXR5ID0gJzAnXG4gIH1cbiAgaWYgKGxhc3RUYXJnZXRCbG9ja0VsZW0pIHtcbiAgICBsYXN0VGFyZ2V0QmxvY2tFbGVtLnN0eWxlLm9wYWNpdHkgPSAnJ1xuICAgIC8vIERlbGV0ZSBtYXJnaW5Cb3R0b20gYW5kIG1hcmdpblRvcCB2YWx1ZXMgd2Ugc2V0XG4gICAgbGFzdFRhcmdldEJsb2NrRWxlbS5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnJ1xuICAgIGxhc3RUYXJnZXRCbG9ja0VsZW0uc3R5bGUubWFyZ2luVG9wID0gJydcbiAgICAvL2xhc3RUYXJnZXRCbG9jay5zdHlsZS5ib3JkZXIgPSAnbm9uZSdcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VEcmFnZ2FibGVCbG9ja01lbnUoXG4gIGVkaXRvcjogTGV4aWNhbEVkaXRvcixcbiAgYW5jaG9yRWxlbTogSFRNTEVsZW1lbnQsXG4gIGlzRWRpdGFibGU6IGJvb2xlYW4sXG4pOiBSZWFjdC5SZWFjdEVsZW1lbnQge1xuICBjb25zdCBzY3JvbGxlckVsZW0gPSBhbmNob3JFbGVtLnBhcmVudEVsZW1lbnRcblxuICBjb25zdCBtZW51UmVmID0gdXNlUmVmPEhUTUxCdXR0b25FbGVtZW50PihudWxsKVxuICBjb25zdCB0YXJnZXRMaW5lUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuICBjb25zdCBkZWJ1Z0hpZ2hsaWdodFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcbiAgY29uc3QgaXNEcmFnZ2luZ0Jsb2NrUmVmID0gdXNlUmVmPGJvb2xlYW4+KGZhbHNlKVxuICBjb25zdCBbZHJhZ2dhYmxlQmxvY2tFbGVtLCBzZXREcmFnZ2FibGVCbG9ja0VsZW1dID0gdXNlU3RhdGU8SFRNTEVsZW1lbnQgfCBudWxsPihudWxsKVxuICBjb25zdCBbbGFzdFRhcmdldEJsb2NrLCBzZXRMYXN0VGFyZ2V0QmxvY2tdID0gdXNlU3RhdGU8e1xuICAgIGJvdW5kaW5nQm94PzogRE9NUmVjdFxuICAgIGVsZW06IEhUTUxFbGVtZW50IHwgbnVsbFxuICAgIGlzQmVsb3c6IGJvb2xlYW5cbiAgfSB8IG51bGw+KG51bGwpXG5cbiAgY29uc3QgeyBlZGl0b3JDb25maWcgfSA9IHVzZUVkaXRvckNvbmZpZ0NvbnRleHQoKVxuXG4gIGNvbnN0IGJsb2NrSGFuZGxlSG9yaXpvbnRhbE9mZnNldCA9IGVkaXRvckNvbmZpZz8uYWRtaW4/LmhpZGVHdXR0ZXIgPyAtNDQgOiAtOFxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBwb3NpdGlvbmluZyBvZiB0aGUgZHJhZyBoYW5kbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbkRvY3VtZW50TW91c2VNb3ZlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXRcbiAgICAgIGlmICghaXNIVE1MRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBkaXN0YW5jZUZyb21TY3JvbGxlckVsZW0gPSBjYWxjdWxhdGVEaXN0YW5jZUZyb21TY3JvbGxlckVsZW0oXG4gICAgICAgIHNjcm9sbGVyRWxlbSxcbiAgICAgICAgZXZlbnQucGFnZVgsXG4gICAgICAgIGV2ZW50LnBhZ2VZLFxuICAgICAgICB0YXJnZXQsXG4gICAgICApXG4gICAgICBpZiAoZGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtID09PSAtMSkge1xuICAgICAgICBzZXREcmFnZ2FibGVCbG9ja0VsZW0obnVsbClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChpc09uSGFuZGxlRWxlbWVudCh0YXJnZXQsIERSQUdHQUJMRV9CTE9DS19NRU5VX0NMQVNTTkFNRSkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRvcExldmVsTm9kZUtleXMgPSBnZXRUb3BMZXZlbE5vZGVLZXlzKGVkaXRvcilcblxuICAgICAgY29uc3Qge1xuICAgICAgICBibG9ja0VsZW06IF9kcmFnZ2FibGVCbG9ja0VsZW0sXG4gICAgICAgIGZvdW5kQXRJbmRleCxcbiAgICAgICAgaXNGb3VuZE5vZGVFbXB0eVBhcmFncmFwaCxcbiAgICAgIH0gPSBnZXROb2RlQ2xvc2VUb1BvaW50KHtcbiAgICAgICAgYW5jaG9yRWxlbSxcbiAgICAgICAgY2FjaGVfdGhyZXNob2xkOiAwLFxuICAgICAgICBlZGl0b3IsXG4gICAgICAgIGhvcml6b250YWxPZmZzZXQ6IC1kaXN0YW5jZUZyb21TY3JvbGxlckVsZW0sXG4gICAgICAgIHBvaW50OiBuZXcgUG9pbnQoZXZlbnQueCwgZXZlbnQueSksXG4gICAgICAgIHN0YXJ0SW5kZXg6IGdldEN1cnJlbnRJbmRleCh0b3BMZXZlbE5vZGVLZXlzLmxlbmd0aCksXG4gICAgICAgIHVzZUVkZ2VBc0RlZmF1bHQ6IGZhbHNlLFxuICAgICAgICB2ZXJib3NlOiBmYWxzZSxcbiAgICAgIH0pXG5cbiAgICAgIHByZXZJbmRleCA9IGZvdW5kQXRJbmRleFxuXG4gICAgICAvL2lmIChERUJVRyAmJiBfZHJhZ2dhYmxlQmxvY2tFbGVtKSB7XG4gICAgICAvL3RhcmdldEJsb2NrRWxlbS5zdHlsZS5ib3JkZXIgPSAnM3B4IHNvbGlkIHJlZCdcbiAgICAgIC8vIGhpZ2hsaWdodEVsZW1PcmlnaW5hbFBvc2l0aW9uKGRlYnVnSGlnaGxpZ2h0UmVmLCBfZHJhZ2dhYmxlQmxvY2tFbGVtLCBhbmNob3JFbGVtKVxuICAgICAgLy99XG5cbiAgICAgIGlmICghX2RyYWdnYWJsZUJsb2NrRWxlbSAmJiAhaXNGb3VuZE5vZGVFbXB0eVBhcmFncmFwaCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKGRyYWdnYWJsZUJsb2NrRWxlbSAhPT0gX2RyYWdnYWJsZUJsb2NrRWxlbSkge1xuICAgICAgICBzZXREcmFnZ2FibGVCbG9ja0VsZW0oX2RyYWdnYWJsZUJsb2NrRWxlbSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTaW5jZSB0aGUgZHJhZ2dhYmxlQmxvY2tFbGVtIGlzIG91dHNpZGUgdGhlIGFjdHVhbCBlZGl0b3IsIHdlIG5lZWQgdG8gbGlzdGVuIHRvIHRoZSBkb2N1bWVudFxuICAgIC8vIHRvIGJlIGFibGUgdG8gZGV0ZWN0IHdoZW4gdGhlIG1vdXNlIGlzIG91dHNpZGUgdGhlIGVkaXRvciBhbmQgcmVzcGVjdCBhIGJ1ZmZlciBhcm91bmRcbiAgICAvLyB0aGUgc2Nyb2xsZXJFbGVtIHRvIGF2b2lkIHRoZSBkcmFnZ2FibGVCbG9ja0VsZW0gZGlzYXBwZWFyaW5nIHRvbyBlYXJseS5cbiAgICBkb2N1bWVudD8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Eb2N1bWVudE1vdXNlTW92ZSlcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Eb2N1bWVudE1vdXNlTW92ZSlcbiAgICB9XG4gIH0sIFtzY3JvbGxlckVsZW0sIGFuY2hvckVsZW0sIGVkaXRvciwgZHJhZ2dhYmxlQmxvY2tFbGVtXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtZW51UmVmLmN1cnJlbnQpIHtcbiAgICAgIHNldEhhbmRsZVBvc2l0aW9uKFxuICAgICAgICBkcmFnZ2FibGVCbG9ja0VsZW0sXG4gICAgICAgIG1lbnVSZWYuY3VycmVudCxcbiAgICAgICAgYW5jaG9yRWxlbSxcbiAgICAgICAgYmxvY2tIYW5kbGVIb3Jpem9udGFsT2Zmc2V0LFxuICAgICAgKVxuICAgIH1cbiAgfSwgW2FuY2hvckVsZW0sIGRyYWdnYWJsZUJsb2NrRWxlbSwgYmxvY2tIYW5kbGVIb3Jpem9udGFsT2Zmc2V0XSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIG9uRHJhZ292ZXIoZXZlbnQ6IERyYWdFdmVudCk6IGJvb2xlYW4ge1xuICAgICAgaWYgKCFpc0RyYWdnaW5nQmxvY2tSZWYuY3VycmVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGNvbnN0IFtpc0ZpbGVUcmFuc2Zlcl0gPSBldmVudEZpbGVzKGV2ZW50KVxuICAgICAgaWYgKGlzRmlsZVRyYW5zZmVyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IHBhZ2VZLCB0YXJnZXQgfSA9IGV2ZW50XG4gICAgICBpZiAoIWlzSFRNTEVsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtID0gY2FsY3VsYXRlRGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtKFxuICAgICAgICBzY3JvbGxlckVsZW0sXG4gICAgICAgIGV2ZW50LnBhZ2VYLFxuICAgICAgICBldmVudC5wYWdlWSxcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICAxMDAsXG4gICAgICAgIDUwLFxuICAgICAgKVxuXG4gICAgICBjb25zdCB0b3BMZXZlbE5vZGVLZXlzID0gZ2V0VG9wTGV2ZWxOb2RlS2V5cyhlZGl0b3IpXG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgYmxvY2tFbGVtOiB0YXJnZXRCbG9ja0VsZW0sXG4gICAgICAgIGZvdW5kQXRJbmRleCxcbiAgICAgICAgaXNGb3VuZE5vZGVFbXB0eVBhcmFncmFwaCxcbiAgICAgIH0gPSBnZXROb2RlQ2xvc2VUb1BvaW50KHtcbiAgICAgICAgYW5jaG9yRWxlbSxcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICBmdXp6eTogdHJ1ZSxcbiAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogLWRpc3RhbmNlRnJvbVNjcm9sbGVyRWxlbSxcbiAgICAgICAgcG9pbnQ6IG5ldyBQb2ludChldmVudC54LCBldmVudC55KSxcbiAgICAgICAgc3RhcnRJbmRleDogZ2V0Q3VycmVudEluZGV4KHRvcExldmVsTm9kZUtleXMubGVuZ3RoKSxcbiAgICAgICAgdXNlRWRnZUFzRGVmYXVsdDogdHJ1ZSxcbiAgICAgICAgdmVyYm9zZTogdHJ1ZSxcbiAgICAgIH0pXG5cbiAgICAgIHByZXZJbmRleCA9IGZvdW5kQXRJbmRleFxuXG4gICAgICBjb25zdCB0YXJnZXRMaW5lRWxlbSA9IHRhcmdldExpbmVSZWYuY3VycmVudFxuICAgICAgLy8gdGFyZ2V0QmxvY2tFbGVtID09PSBudWxsIHNob3VsZG4ndCBoYXBwZW5cbiAgICAgIGlmICh0YXJnZXRCbG9ja0VsZW0gPT09IG51bGwgfHwgdGFyZ2V0TGluZUVsZW0gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIGlmIChkcmFnZ2FibGVCbG9ja0VsZW0gIT09IHRhcmdldEJsb2NrRWxlbSkge1xuICAgICAgICBjb25zdCB7IGlzQmVsb3csIHdpbGxTdGF5SW5TYW1lUG9zaXRpb24gfSA9IHNldFRhcmdldExpbmUoXG4gICAgICAgICAgZWRpdG9yQ29uZmlnPy5hZG1pbj8uaGlkZUd1dHRlciA/ICcwcHgnIDogJzNyZW0nLFxuICAgICAgICAgIGJsb2NrSGFuZGxlSG9yaXpvbnRhbE9mZnNldCArXG4gICAgICAgICAgICAoZWRpdG9yQ29uZmlnPy5hZG1pbj8uaGlkZUd1dHRlclxuICAgICAgICAgICAgICA/IChtZW51UmVmPy5jdXJyZW50Py5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKT8ud2lkdGggPz8gMClcbiAgICAgICAgICAgICAgOiAtKG1lbnVSZWY/LmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpPy53aWR0aCA/PyAwKSksXG4gICAgICAgICAgdGFyZ2V0TGluZUVsZW0sXG4gICAgICAgICAgdGFyZ2V0QmxvY2tFbGVtLFxuICAgICAgICAgIGxhc3RUYXJnZXRCbG9jayEsXG4gICAgICAgICAgcGFnZVksXG4gICAgICAgICAgYW5jaG9yRWxlbSxcbiAgICAgICAgICBldmVudCxcbiAgICAgICAgICBkZWJ1Z0hpZ2hsaWdodFJlZixcbiAgICAgICAgICBpc0ZvdW5kTm9kZUVtcHR5UGFyYWdyYXBoLFxuICAgICAgICApXG5cbiAgICAgICAgLy8gUHJldmVudCBkZWZhdWx0IGV2ZW50IHRvIGJlIGFibGUgdG8gdHJpZ2dlciBvbkRyb3AgZXZlbnRzXG4gICAgICAgIC8vIENhbGxpbmcgcHJldmVudERlZmF1bHQoKSBhZGRzIHRoZSBncmVlbiBwbHVzIGljb24gdG8gdGhlIGN1cnNvcixcbiAgICAgICAgLy8gaW5kaWNhdGluZyB0aGF0IHRoZSBkcm9wIGlzIGFsbG93ZWQuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICBpZiAoIXdpbGxTdGF5SW5TYW1lUG9zaXRpb24pIHtcbiAgICAgICAgICBzZXRMYXN0VGFyZ2V0QmxvY2soe1xuICAgICAgICAgICAgYm91bmRpbmdCb3g6IHRhcmdldEJsb2NrRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgIGVsZW06IHRhcmdldEJsb2NrRWxlbSxcbiAgICAgICAgICAgIGlzQmVsb3csXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChsYXN0VGFyZ2V0QmxvY2s/LmVsZW0pIHtcbiAgICAgICAgaGlkZVRhcmdldExpbmUodGFyZ2V0TGluZUVsZW0sIGxhc3RUYXJnZXRCbG9jay5lbGVtKVxuICAgICAgICBzZXRMYXN0VGFyZ2V0QmxvY2soe1xuICAgICAgICAgIGJvdW5kaW5nQm94OiB0YXJnZXRCbG9ja0VsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgZWxlbTogdGFyZ2V0QmxvY2tFbGVtLFxuICAgICAgICAgIGlzQmVsb3c6IGZhbHNlLFxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRHJvcChldmVudDogRHJhZ0V2ZW50KTogYm9vbGVhbiB7XG4gICAgICBpZiAoIWlzRHJhZ2dpbmdCbG9ja1JlZi5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgY29uc3QgW2lzRmlsZVRyYW5zZmVyXSA9IGV2ZW50RmlsZXMoZXZlbnQpXG4gICAgICBpZiAoaXNGaWxlVHJhbnNmZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBjb25zdCB7IGRhdGFUcmFuc2ZlciwgcGFnZVksIHRhcmdldCB9ID0gZXZlbnRcbiAgICAgIGNvbnN0IGRyYWdEYXRhID0gZGF0YVRyYW5zZmVyPy5nZXREYXRhKERSQUdfREFUQV9GT1JNQVQpIHx8ICcnXG5cbiAgICAgIGVkaXRvci51cGRhdGUoKCkgPT4ge1xuICAgICAgICBjb25zdCBkcmFnZ2VkTm9kZSA9ICRnZXROb2RlQnlLZXkoZHJhZ0RhdGEpXG4gICAgICAgIGlmICghZHJhZ2dlZE5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzSFRNTEVsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlRnJvbVNjcm9sbGVyRWxlbSA9IGNhbGN1bGF0ZURpc3RhbmNlRnJvbVNjcm9sbGVyRWxlbShcbiAgICAgICAgICBzY3JvbGxlckVsZW0sXG4gICAgICAgICAgZXZlbnQucGFnZVgsXG4gICAgICAgICAgZXZlbnQucGFnZVksXG4gICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgIDEwMCxcbiAgICAgICAgICA1MCxcbiAgICAgICAgKVxuXG4gICAgICAgIGNvbnN0IHsgYmxvY2tFbGVtOiB0YXJnZXRCbG9ja0VsZW0sIGlzRm91bmROb2RlRW1wdHlQYXJhZ3JhcGggfSA9IGdldE5vZGVDbG9zZVRvUG9pbnQoe1xuICAgICAgICAgIGFuY2hvckVsZW0sXG4gICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgIGZ1enp5OiB0cnVlLFxuICAgICAgICAgIGhvcml6b250YWxPZmZzZXQ6IC1kaXN0YW5jZUZyb21TY3JvbGxlckVsZW0sXG4gICAgICAgICAgcG9pbnQ6IG5ldyBQb2ludChldmVudC54LCBldmVudC55KSxcbiAgICAgICAgICB1c2VFZGdlQXNEZWZhdWx0OiB0cnVlLFxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICghdGFyZ2V0QmxvY2tFbGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9ICRnZXROZWFyZXN0Tm9kZUZyb21ET01Ob2RlKHRhcmdldEJsb2NrRWxlbSlcbiAgICAgICAgaWYgKCF0YXJnZXROb2RlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldE5vZGUgPT09IGRyYWdnZWROb2RlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgaGVpZ2h0OiB0YXJnZXRCbG9ja0VsZW1IZWlnaHQsIHRvcDogdGFyZ2V0QmxvY2tFbGVtVG9wIH0gPVxuICAgICAgICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdFdpdGhvdXRUcmFuc2Zvcm0odGFyZ2V0QmxvY2tFbGVtKVxuXG4gICAgICAgIGNvbnN0IG1vdXNlWSA9IHBhZ2VZXG4gICAgICAgIGNvbnN0IGlzQmVsb3cgPSBtb3VzZVkgPj0gdGFyZ2V0QmxvY2tFbGVtVG9wICsgdGFyZ2V0QmxvY2tFbGVtSGVpZ2h0IC8gMiArIHdpbmRvdy5zY3JvbGxZXG5cbiAgICAgICAgaWYgKCFpc0ZvdW5kTm9kZUVtcHR5UGFyYWdyYXBoKSB7XG4gICAgICAgICAgaWYgKGlzQmVsb3cpIHtcbiAgICAgICAgICAgIC8vIGJlbG93IHRhcmdldEJsb2NrRWxlbVxuICAgICAgICAgICAgdGFyZ2V0Tm9kZS5pbnNlcnRBZnRlcihkcmFnZ2VkTm9kZSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYWJvdmUgdGFyZ2V0QmxvY2tFbGVtXG4gICAgICAgICAgICB0YXJnZXROb2RlLmluc2VydEJlZm9yZShkcmFnZ2VkTm9kZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICB0YXJnZXROb2RlLmluc2VydEJlZm9yZShkcmFnZ2VkTm9kZSlcbiAgICAgICAgICB0YXJnZXROb2RlLnJlbW92ZSgpXG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICBpZiAocGFnZVkgPj0gdGFyZ2V0QmxvY2tFbGVtVG9wICsgdGFyZ2V0QmxvY2tFbGVtSGVpZ2h0IC8gMikge1xuICAgICAgICAgIHRhcmdldE5vZGUuaW5zZXJ0QWZ0ZXIoZHJhZ2dlZE5vZGUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFyZ2V0Tm9kZS5pbnNlcnRCZWZvcmUoZHJhZ2dlZE5vZGUpXG4gICAgICAgIH0qL1xuICAgICAgICBpZiAoZHJhZ2dhYmxlQmxvY2tFbGVtICE9PSBudWxsKSB7XG4gICAgICAgICAgc2V0RHJhZ2dhYmxlQmxvY2tFbGVtKG51bGwpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5kIGFsbCBwcmV2aW91cyBlbGVtZW50cyB3aXRoIGxleGljYWwtYmxvY2staGlnaGxpZ2h0ZXIgY2xhc3MgYW5kIHJlbW92ZSB0aGVtXG4gICAgICAgIGNvbnN0IGFsbFByZXZIaWdobGlnaHRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGV4aWNhbC1ibG9jay1oaWdobGlnaHRlcicpXG4gICAgICAgIGFsbFByZXZIaWdobGlnaHRlcnMuZm9yRWFjaCgoaGlnaGxpZ2h0ZXIpID0+IHtcbiAgICAgICAgICBoaWdobGlnaHRlci5yZW1vdmUoKVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IG5ld0luc2VydGVkRWxlbSA9IGVkaXRvci5nZXRFbGVtZW50QnlLZXkoZHJhZ2dlZE5vZGUuZ2V0S2V5KCkpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIC8vIGFkZCBuZXcgdGVtcCBodG1sIGVsZW1lbnQgdG8gbmV3SW5zZXJ0ZWRFbGVtIHdpdGggdGhlIHNhbWUgaGVpZ2h0IGFuZCB3aWR0aCBhbmQgdGhlIGNsYXNzIGJsb2NrLXNlbGVjdGVkXG4gICAgICAgICAgLy8gdG8gaGlnaGxpZ2h0IHRoZSBuZXcgaW5zZXJ0ZWQgZWxlbWVudFxuICAgICAgICAgIGNvbnN0IG5ld0luc2VydGVkRWxlbVJlY3QgPSBuZXdJbnNlcnRlZEVsZW0/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgaWYgKCFuZXdJbnNlcnRlZEVsZW1SZWN0KSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaGlnaGxpZ2h0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgaGlnaGxpZ2h0RWxlbS5jbGFzc05hbWUgPSAnbGV4aWNhbC1ibG9jay1oaWdobGlnaHRlcidcblxuICAgICAgICAgIGhpZ2hsaWdodEVsZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3ZhcigtLXRoZW1lLWVsZXZhdGlvbi0xMDAwJ1xuICAgICAgICAgIGhpZ2hsaWdodEVsZW0uc3R5bGUudHJhbnNpdGlvbiA9ICdvcGFjaXR5IDAuNXMgZWFzZS1pbi1vdXQnXG4gICAgICAgICAgaGlnaGxpZ2h0RWxlbS5zdHlsZS56SW5kZXggPSAnMSdcbiAgICAgICAgICBoaWdobGlnaHRFbGVtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSdcbiAgICAgICAgICBoaWdobGlnaHRFbGVtLnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94J1xuICAgICAgICAgIGhpZ2hsaWdodEVsZW0uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzRweCdcbiAgICAgICAgICBoaWdobGlnaHRFbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0RWxlbSlcblxuICAgICAgICAgIGhpZ2hsaWdodEVsZW0uc3R5bGUub3BhY2l0eSA9ICcwLjEnXG5cbiAgICAgICAgICBoaWdobGlnaHRFbGVtLnN0eWxlLmhlaWdodCA9IGAke25ld0luc2VydGVkRWxlbVJlY3QuaGVpZ2h0ICsgOH1weGBcbiAgICAgICAgICBoaWdobGlnaHRFbGVtLnN0eWxlLndpZHRoID0gYCR7bmV3SW5zZXJ0ZWRFbGVtUmVjdC53aWR0aCArIDh9cHhgXG4gICAgICAgICAgaGlnaGxpZ2h0RWxlbS5zdHlsZS50b3AgPSBgJHtuZXdJbnNlcnRlZEVsZW1SZWN0LnRvcCArIHdpbmRvdy5zY3JvbGxZIC0gNH1weGBcbiAgICAgICAgICBoaWdobGlnaHRFbGVtLnN0eWxlLmxlZnQgPSBgJHtuZXdJbnNlcnRlZEVsZW1SZWN0LmxlZnQgLSA0fXB4YFxuXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBoaWdobGlnaHRFbGVtLnN0eWxlLm9wYWNpdHkgPSAnMCdcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICBoaWdobGlnaHRFbGVtLnJlbW92ZSgpXG4gICAgICAgICAgICB9LCA1MDApXG4gICAgICAgICAgfSwgMTAwMClcbiAgICAgICAgfSwgMTIwKVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICAvLyByZWdpc3RlciBvbkRyYWdvdmVyIGV2ZW50IGxpc3RlbmVyczpcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIG9uRHJhZ292ZXIpXG4gICAgLy8gcmVnaXN0ZXIgb25Ecm9wIGV2ZW50IGxpc3RlbmVyczpcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgb25Ecm9wKVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgb25EcmFnb3ZlcilcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBvbkRyb3ApXG4gICAgfVxuICB9LCBbXG4gICAgc2Nyb2xsZXJFbGVtLFxuICAgIGJsb2NrSGFuZGxlSG9yaXpvbnRhbE9mZnNldCxcbiAgICBhbmNob3JFbGVtLFxuICAgIGVkaXRvcixcbiAgICBsYXN0VGFyZ2V0QmxvY2ssXG4gICAgZHJhZ2dhYmxlQmxvY2tFbGVtLFxuICAgIGVkaXRvckNvbmZpZz8uYWRtaW4/LmhpZGVHdXR0ZXIsXG4gIF0pXG5cbiAgZnVuY3Rpb24gb25EcmFnU3RhcnQoZXZlbnQ6IFJlYWN0RHJhZ0V2ZW50PEhUTUxCdXR0b25FbGVtZW50Pik6IHZvaWQge1xuICAgIGNvbnN0IGRhdGFUcmFuc2ZlciA9IGV2ZW50LmRhdGFUcmFuc2ZlclxuICAgIGlmICghZGF0YVRyYW5zZmVyIHx8ICFkcmFnZ2FibGVCbG9ja0VsZW0pIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBzZXREcmFnSW1hZ2UoZGF0YVRyYW5zZmVyLCBkcmFnZ2FibGVCbG9ja0VsZW0pXG4gICAgbGV0IG5vZGVLZXkgPSAnJ1xuICAgIGVkaXRvci51cGRhdGUoKCkgPT4ge1xuICAgICAgY29uc3Qgbm9kZSA9ICRnZXROZWFyZXN0Tm9kZUZyb21ET01Ob2RlKGRyYWdnYWJsZUJsb2NrRWxlbSlcbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIG5vZGVLZXkgPSBub2RlLmdldEtleSgpXG4gICAgICB9XG4gICAgfSlcbiAgICBpc0RyYWdnaW5nQmxvY2tSZWYuY3VycmVudCA9IHRydWVcbiAgICBkYXRhVHJhbnNmZXIuc2V0RGF0YShEUkFHX0RBVEFfRk9STUFULCBub2RlS2V5KVxuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnRW5kKCk6IHZvaWQge1xuICAgIGlzRHJhZ2dpbmdCbG9ja1JlZi5jdXJyZW50ID0gZmFsc2VcbiAgICBpZiAobGFzdFRhcmdldEJsb2NrPy5lbGVtKSB7XG4gICAgICBoaWRlVGFyZ2V0TGluZSh0YXJnZXRMaW5lUmVmLmN1cnJlbnQsIGxhc3RUYXJnZXRCbG9jaz8uZWxlbSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY3JlYXRlUG9ydGFsKFxuICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD1cIkRyYWcgdG8gbW92ZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImljb24gZHJhZ2dhYmxlLWJsb2NrLW1lbnVcIlxuICAgICAgICBkcmFnZ2FibGVcbiAgICAgICAgb25EcmFnRW5kPXtvbkRyYWdFbmR9XG4gICAgICAgIG9uRHJhZ1N0YXJ0PXtvbkRyYWdTdGFydH1cbiAgICAgICAgcmVmPXttZW51UmVmfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2lzRWRpdGFibGUgPyAnaWNvbicgOiAnJ30gLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcmFnZ2FibGUtYmxvY2stdGFyZ2V0LWxpbmVcIiByZWY9e3RhcmdldExpbmVSZWZ9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlYnVnLWhpZ2hsaWdodFwiIHJlZj17ZGVidWdIaWdobGlnaHRSZWZ9IC8+XG4gICAgPC9SZWFjdC5GcmFnbWVudD4sXG4gICAgYW5jaG9yRWxlbSxcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRHJhZ2dhYmxlQmxvY2tQbHVnaW4oe1xuICBhbmNob3JFbGVtID0gZG9jdW1lbnQuYm9keSxcbn06IHtcbiAgYW5jaG9yRWxlbT86IEhUTUxFbGVtZW50XG59KTogUmVhY3QuUmVhY3RFbGVtZW50IHtcbiAgY29uc3QgW2VkaXRvcl0gPSB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0KClcbiAgcmV0dXJuIHVzZURyYWdnYWJsZUJsb2NrTWVudShlZGl0b3IsIGFuY2hvckVsZW0sIGVkaXRvci5fZWRpdGFibGUpXG59XG4iLCIndXNlIGNsaWVudCdcbmltcG9ydCB7IGdldENvbGxhcHNlZE1hcmdpbnMgfSBmcm9tICcuLi91dGlscy9nZXRDb2xsYXBzZWRNYXJnaW5zLmpzJ1xuY29uc3QgVEFSR0VUX0xJTkVfSEFMRl9IRUlHSFQgPSAwXG5jb25zdCBURVhUX0JPWF9IT1JJWk9OVEFMX1BBRERJTkcgPSAtMjRcbmNvbnN0IERFQlVHID0gZmFsc2VcblxubGV0IGFuaW1hdGlvblRpbWVyID0gMFxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VGFyZ2V0TGluZShcbiAgb2Zmc2V0V2lkdGg6IHN0cmluZyxcbiAgb2Zmc2V0TGVmdDogbnVtYmVyLFxuICB0YXJnZXRMaW5lRWxlbTogSFRNTEVsZW1lbnQsXG4gIHRhcmdldEJsb2NrRWxlbTogSFRNTEVsZW1lbnQsXG4gIGxhc3RUYXJnZXRCbG9jazoge1xuICAgIGJvdW5kaW5nQm94PzogRE9NUmVjdFxuICAgIGVsZW06IEhUTUxFbGVtZW50IHwgbnVsbFxuICAgIGlzQmVsb3c6IGJvb2xlYW5cbiAgfSxcbiAgbW91c2VZOiBudW1iZXIsXG4gIGFuY2hvckVsZW06IEhUTUxFbGVtZW50LFxuICBldmVudDogRHJhZ0V2ZW50LFxuICBkZWJ1Z0hpZ2hsaWdodFJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50IHwgbnVsbD4sXG4gIGlzRm91bmROb2RlRW1wdHlQYXJhZ3JhcGg6IGJvb2xlYW4gPSBmYWxzZSxcbikge1xuICBjb25zdCB7IGhlaWdodDogdGFyZ2V0QmxvY2tFbGVtSGVpZ2h0LCB0b3A6IHRhcmdldEJsb2NrRWxlbVRvcCB9ID1cbiAgICB0YXJnZXRCbG9ja0VsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgLy8gdXNlZCB0byBiZSBnZXRCb3VuZGluZ0NsaWVudFJlY3RXaXRob3V0VHJhbnNmb3JtLiBOb3Qgc3VyZSB3aGF0J3MgYmV0dGVyLCBidXQgdGhlIG5vcm1hbCBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgc2VlbXMgdG8gd29yayBmaW5lXG4gIGNvbnN0IHsgdG9wOiBhbmNob3JUb3AsIHdpZHRoOiBhbmNob3JXaWR0aCB9ID0gYW5jaG9yRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG4gIGNvbnN0IHsgbWFyZ2luQm90dG9tLCBtYXJnaW5Ub3AgfSA9IGdldENvbGxhcHNlZE1hcmdpbnModGFyZ2V0QmxvY2tFbGVtKVxuICBsZXQgbGluZVRvcCA9IHRhcmdldEJsb2NrRWxlbVRvcFxuXG4gIGNvbnN0IGlzQmVsb3cgPSBtb3VzZVkgPj0gdGFyZ2V0QmxvY2tFbGVtVG9wICsgdGFyZ2V0QmxvY2tFbGVtSGVpZ2h0IC8gMiArIHdpbmRvdy5zY3JvbGxZXG5cbiAgbGV0IHdpbGxTdGF5SW5TYW1lUG9zaXRpb24gPSBmYWxzZVxuXG4gIC8qKlxuICAgKiBEbyBub3QgcnVuIGFueSB0cmFuc2Zvcm0gb3IgY2hhbmdlcyBpZiB0aGUgYWN0dWFsIG5ldyBsaW5lIHBvc2l0aW9uIHdvdWxkIGJlIHRoZSBzYW1lIChldmVuIGlmIGl0J3Mgbm93IGluc2VydGVkIEJFRk9SRSByYXRoZXIgdGhhbiBBRlRFUiAtIHBvc2l0aW9uIHdvdWxkIHN0aWxsIGJlIHRoZSBzYW1lKVxuICAgKiBUaGlzIHByZXZlbnRzIHVubmVjZXNzYXJ5IGZsaWNrZXJpbmcuXG4gICAqXG4gICAqIFdlIHN0aWxsIG5lZWQgdG8gbGV0IGl0IHJ1biBldmVuIGlmIHRoZSBwb3NpdGlvbiAoSUdOT1JJTkcgdGhlIHRyYW5zZm9ybSkgd291bGQgbm90IGNoYW5nZSwgYXMgdGhlIHRyYW5zZm9ybSBhbmltYXRpb24gaXMgbm90IGZpbmlzaGVkIHlldC4gVGhpcyBpcyB3aGF0IGFuaW1hdGlvblRpbWVyIGRvZXMuIE90aGVyd2lzZSwgdGhlIHBvc2l0aW9uaW5nIHdpbGwgYmUgaW5hY2N1cmF0ZVxuICAgKi9cbiAgaWYgKGxhc3RUYXJnZXRCbG9jaz8uZWxlbSkge1xuICAgIGlmICh0YXJnZXRCbG9ja0VsZW0gIT09IGxhc3RUYXJnZXRCbG9jaz8uZWxlbSkge1xuICAgICAgaWYgKFxuICAgICAgICBpc0JlbG93ICYmXG4gICAgICAgIGxhc3RUYXJnZXRCbG9jaz8uZWxlbSAmJlxuICAgICAgICBsYXN0VGFyZ2V0QmxvY2s/LmVsZW0gPT09IHRhcmdldEJsb2NrRWxlbS5uZXh0RWxlbWVudFNpYmxpbmdcbiAgICAgICkge1xuICAgICAgICBhbmltYXRpb25UaW1lcisrXG5cbiAgICAgICAgaWYgKGFuaW1hdGlvblRpbWVyIDwgMjAwKSB7XG4gICAgICAgICAgd2lsbFN0YXlJblNhbWVQb3NpdGlvbiA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgIWlzQmVsb3cgJiZcbiAgICAgICAgbGFzdFRhcmdldEJsb2NrPy5lbGVtICYmXG4gICAgICAgIGxhc3RUYXJnZXRCbG9jaz8uZWxlbSA9PT0gdGFyZ2V0QmxvY2tFbGVtLnByZXZpb3VzRWxlbWVudFNpYmxpbmdcbiAgICAgICkge1xuICAgICAgICBhbmltYXRpb25UaW1lcisrXG4gICAgICAgIGlmIChhbmltYXRpb25UaW1lciA8IDIwMCkge1xuICAgICAgICAgIHdpbGxTdGF5SW5TYW1lUG9zaXRpb24gPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYW5pbWF0aW9uVGltZXIrK1xuXG4gICAgICBjb25zdCBsYXN0Qm91bmRpbmdCb3hQb3NpdGlvbiA9IGxhc3RUYXJnZXRCbG9jaz8uYm91bmRpbmdCb3g/LnlcbiAgICAgIGNvbnN0IGN1cnJlbnRCb3VuZGluZ0JveFBvc2l0aW9uID0gdGFyZ2V0QmxvY2tFbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnlcblxuICAgICAgaWYgKFxuICAgICAgICAoaXNCZWxvdyA9PT0gbGFzdFRhcmdldEJsb2NrPy5pc0JlbG93ICYmXG4gICAgICAgICAgbGFzdEJvdW5kaW5nQm94UG9zaXRpb24gPT09IGN1cnJlbnRCb3VuZGluZ0JveFBvc2l0aW9uKSB8fFxuICAgICAgICBhbmltYXRpb25UaW1lciA8IDIwMFxuICAgICAgKSB7XG4gICAgICAgIHdpbGxTdGF5SW5TYW1lUG9zaXRpb24gPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAod2lsbFN0YXlJblNhbWVQb3NpdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICBpc0JlbG93LFxuICAgICAgd2lsbFN0YXlJblNhbWVQb3NpdGlvbixcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGFyYWdyYXBocyBuZWVkIG5vIGlzQmVsb3cvYWJvdmUgaGFuZGxpbmcsXG4gICAqL1xuICBpZiAoIWlzRm91bmROb2RlRW1wdHlQYXJhZ3JhcGgpIHtcbiAgICAvL2lmICghaXNGb3VuZE5vZGVFbXB0eVBhcmFncmFwaCkge1xuICAgIGlmIChpc0JlbG93KSB7XG4gICAgICAvLyBiZWxvdyB0YXJnZXRCbG9ja0VsZW1cbiAgICAgIGxpbmVUb3AgKz0gdGFyZ2V0QmxvY2tFbGVtSGVpZ2h0ICsgbWFyZ2luQm90dG9tIC8gMlxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhYm92ZSB0YXJnZXRCbG9ja0VsZW1cbiAgICAgIGxpbmVUb3AgLT0gbWFyZ2luVG9wIC8gMlxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsaW5lVG9wICs9IHRhcmdldEJsb2NrRWxlbUhlaWdodCAvIDJcbiAgfVxuXG4gIGxldCB0YXJnZXRFbGVtVHJhbnNsYXRlMiA9IDBcblxuICBpZiAoIWlzRm91bmROb2RlRW1wdHlQYXJhZ3JhcGgpIHtcbiAgICBpZiAoaXNCZWxvdykge1xuICAgICAgdGFyZ2V0RWxlbVRyYW5zbGF0ZTIgPSAtVEFSR0VUX0xJTkVfSEFMRl9IRUlHSFRcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0RWxlbVRyYW5zbGF0ZTIgPSBUQVJHRVRfTElORV9IQUxGX0hFSUdIVFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHRvcCA9IGxpbmVUb3AgLSBhbmNob3JUb3AgKyB0YXJnZXRFbGVtVHJhbnNsYXRlMlxuXG4gIGNvbnN0IGxlZnQgPSBURVhUX0JPWF9IT1JJWk9OVEFMX1BBRERJTkcgLSBvZmZzZXRMZWZ0XG5cbiAgdGFyZ2V0TGluZUVsZW0uc3R5bGUud2lkdGggPSBgY2FsYygke2FuY2hvcldpZHRofXB4IC0gJHtvZmZzZXRXaWR0aH0pYFxuICB0YXJnZXRMaW5lRWxlbS5zdHlsZS5vcGFjaXR5ID0gJy44J1xuXG4gIC8vIGlmIChERUJVRykge1xuICAvLyAgIC8vdGFyZ2V0QmxvY2tFbGVtLnN0eWxlLmJvcmRlciA9ICczcHggc29saWQgcmVkJ1xuICAvLyAgIGhpZ2hsaWdodEVsZW1PcmlnaW5hbFBvc2l0aW9uKGRlYnVnSGlnaGxpZ2h0UmVmLCB0YXJnZXRCbG9ja0VsZW0sIGFuY2hvckVsZW0pXG4gIC8vIH1cblxuICB0YXJnZXRMaW5lRWxlbS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7bGVmdH1weCwgY2FsYygke3RvcH1weCAtICR7JzJweCd9KSlgXG5cbiAgLyoqXG4gICAqIFByb3Blcmx5IHJlc2V0IHByZXZpb3VzIHRhcmdldEJsb2NrRWxlbSBzdHlsZXNcbiAgICovXG4gIGlmIChsYXN0VGFyZ2V0QmxvY2s/LmVsZW0pIHtcbiAgICBsYXN0VGFyZ2V0QmxvY2suZWxlbS5zdHlsZS5vcGFjaXR5ID0gJydcblxuICAgIGlmIChsYXN0VGFyZ2V0QmxvY2s/LmVsZW0gPT09IHRhcmdldEJsb2NrRWxlbSkge1xuICAgICAgaWYgKGlzQmVsb3cpIHtcbiAgICAgICAgbGFzdFRhcmdldEJsb2NrLmVsZW0uc3R5bGUubWFyZ2luVG9wID0gJydcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxhc3RUYXJnZXRCbG9jay5lbGVtLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcnXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RUYXJnZXRCbG9jay5lbGVtLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcnXG4gICAgICBsYXN0VGFyZ2V0QmxvY2suZWxlbS5zdHlsZS5tYXJnaW5Ub3AgPSAnJ1xuICAgIH1cbiAgfVxuXG4gIGFuaW1hdGlvblRpbWVyID0gMFxuICByZXR1cm4ge1xuICAgIGlzQmVsb3csXG4gICAgd2lsbFN0YXlJblNhbWVQb3NpdGlvbixcbiAgfVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUganN4LWExMXkvY2xpY2stZXZlbnRzLWhhdmUta2V5LWV2ZW50cyAqL1xuJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IHVzZUxleGljYWxDb21wb3NlckNvbnRleHQgfSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsQ29tcG9zZXJDb250ZXh0J1xuaW1wb3J0IHsgJGNyZWF0ZVBhcmFncmFwaE5vZGUsICRnZXRSb290IH0gZnJvbSAnbGV4aWNhbCdcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0ICcuL2luZGV4LnNjc3MnXG5pbXBvcnQgeyB1c2VFZGl0b3JDb25maWdDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29uZmlnL2NsaWVudC9FZGl0b3JDb25maWdQcm92aWRlci5qcydcbmNvbnN0IGJhc2VDbGFzcyA9ICdpbnNlcnQtcGFyYWdyYXBoLWF0LWVuZCdcblxuZXhwb3J0IGNvbnN0IEluc2VydFBhcmFncmFwaEF0RW5kUGx1Z2luOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgY29uc3QgW2VkaXRvcl0gPSB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0KClcbiAgY29uc3QgeyBlZGl0b3JDb25maWcgfSA9IHVzZUVkaXRvckNvbmZpZ0NvbnRleHQoKVxuXG4gIGlmIChlZGl0b3JDb25maWc/LmFkbWluPy5oaWRlSW5zZXJ0UGFyYWdyYXBoQXRFbmQpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgY29uc3Qgb25DbGljayA9ICgpID0+IHtcbiAgICBlZGl0b3IudXBkYXRlKCgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFncmFwaE5vZGUgPSAkY3JlYXRlUGFyYWdyYXBoTm9kZSgpXG4gICAgICAkZ2V0Um9vdCgpLmFwcGVuZChwYXJhZ3JhcGhOb2RlKVxuICAgICAgcGFyYWdyYXBoTm9kZS5zZWxlY3QoKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gKFxuICAgIC8vIFRPRE86IGNvbnZlcnQgdG8gYnV0dG9uXG4gICAgPGRpdlxuICAgICAgYXJpYS1sYWJlbD1cIkluc2VydCBQYXJhZ3JhcGhcIlxuICAgICAgY2xhc3NOYW1lPXtiYXNlQ2xhc3N9XG4gICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICB0YWJJbmRleD17MH1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfS1pbnNpZGVgfT5cbiAgICAgICAgPHNwYW4+Kzwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCB9IGZyb20gJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxDb21wb3NlckNvbnRleHQnXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgcmVnaXN0ZXJNYXJrZG93blNob3J0Y3V0cyB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL0BsZXhpY2FsL21hcmtkb3duL01hcmtkb3duU2hvcnRjdXRzLmpzJ1xuaW1wb3J0IHsgdXNlRWRpdG9yQ29uZmlnQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbmZpZy9jbGllbnQvRWRpdG9yQ29uZmlnUHJvdmlkZXIuanMnXG5cbmV4cG9ydCBjb25zdCBNYXJrZG93blNob3J0Y3V0UGx1Z2luOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgY29uc3QgeyBlZGl0b3JDb25maWcgfSA9IHVzZUVkaXRvckNvbmZpZ0NvbnRleHQoKVxuICBjb25zdCBbZWRpdG9yXSA9IHVzZUxleGljYWxDb21wb3NlckNvbnRleHQoKVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuIHJlZ2lzdGVyTWFya2Rvd25TaG9ydGN1dHMoZWRpdG9yLCBlZGl0b3JDb25maWcuZmVhdHVyZXMubWFya2Rvd25UcmFuc2Zvcm1lcnMgPz8gW10pXG4gIH0sIFtlZGl0b3IsIGVkaXRvckNvbmZpZy5mZWF0dXJlcy5tYXJrZG93blRyYW5zZm9ybWVyc10pXG5cbiAgcmV0dXJuIG51bGxcbn1cbiIsImltcG9ydCB7IHVzZUxleGljYWxDb21wb3NlckNvbnRleHQgfSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsQ29tcG9zZXJDb250ZXh0J1xuaW1wb3J0IHsgJGdldFNlbGVjdGlvbiwgJGlzUmFuZ2VTZWxlY3Rpb24sIFJvb3ROb2RlIH0gZnJvbSAnbGV4aWNhbCdcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuXG4vKipcbiAqIEJ5IGRlZmF1bHQsIExleGljYWwgdGhyb3dzIGFuIGVycm9yIGlmIHRoZSBzZWxlY3Rpb24gZW5kcyBpbiBkZWxldGVkIG5vZGVzLlxuICogVGhpcyBpcyB2ZXJ5IGFnZ3Jlc3NpdmUgY29uc2lkZXJpbmcgdGhlcmUgYXJlIHJlYXNvbnMgd2h5IHRoaXMgY2FuIGhhcHBlblxuICogb3V0c2lkZSBvZiBQYXlsb2FkJ3MgY29udHJvbCAoY3VzdG9tIGZlYXR1cmVzIG9yIGNvbmZsaWN0aW5nIGZlYXR1cmVzLCBmb3IgZXhhbXBsZSkuXG4gKiBJbiB0aGUgY2FzZSBvZiBzZWxlY3Rpb25zIG9uIG5vbmV4aXN0ZW50IG5vZGVzLCB0aGlzIHBsdWdpbiBtb3ZlcyB0aGUgc2VsZWN0aW9uIHRvXG4gKiB0aGUgZW5kIG9mIHRoZSBlZGl0b3IgYW5kIGRpc3BsYXlzIGEgd2FybmluZyBpbnN0ZWFkIG9mIGFuIGVycm9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gTm9ybWFsaXplU2VsZWN0aW9uUGx1Z2luKCkge1xuICBjb25zdCBbZWRpdG9yXSA9IHVzZUxleGljYWxDb21wb3NlckNvbnRleHQoKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuIGVkaXRvci5yZWdpc3Rlck5vZGVUcmFuc2Zvcm0oUm9vdE5vZGUsIChyb290KSA9PiB7XG4gICAgICBjb25zdCBzZWxlY3Rpb24gPSAkZ2V0U2VsZWN0aW9uKClcbiAgICAgIGlmICgkaXNSYW5nZVNlbGVjdGlvbihzZWxlY3Rpb24pKSB7XG4gICAgICAgIGNvbnN0IGFuY2hvck5vZGUgPSBzZWxlY3Rpb24uYW5jaG9yLmdldE5vZGUoKVxuICAgICAgICBjb25zdCBmb2N1c05vZGUgPSBzZWxlY3Rpb24uZm9jdXMuZ2V0Tm9kZSgpXG4gICAgICAgIGlmICghYW5jaG9yTm9kZS5pc0F0dGFjaGVkKCkgfHwgIWZvY3VzTm9kZS5pc0F0dGFjaGVkKCkpIHtcbiAgICAgICAgICByb290LnNlbGVjdEVuZCgpXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAndXBkYXRlRWRpdG9yOiBzZWxlY3Rpb24gaGFzIGJlZW4gbW92ZWQgdG8gdGhlIGVuZCBvZiB0aGUgZWRpdG9yIGJlY2F1c2UgdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQgbm9kZXMgaGF2ZSBiZWVuIHJlbW92ZWQgYW5kICcgK1xuICAgICAgICAgICAgICBcInNlbGVjdGlvbiB3YXNuJ3QgbW92ZWQgdG8gYW5vdGhlciBub2RlLiBFbnN1cmUgc2VsZWN0aW9uIGNoYW5nZXMgYWZ0ZXIgcmVtb3ZpbmcvcmVwbGFjaW5nIGEgc2VsZWN0ZWQgbm9kZS5cIixcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0pXG4gIH0sIFtlZGl0b3JdKVxuXG4gIHJldHVybiBudWxsXG59XG4iLCJpbXBvcnQgeyB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0IH0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbENvbXBvc2VyQ29udGV4dCdcbmltcG9ydCB7ICRnZXRTZWxlY3Rpb24sIENPTU1BTkRfUFJJT1JJVFlfTE9XLCBTRUxFQ1RfQUxMX0NPTU1BTkQgfSBmcm9tICdsZXhpY2FsJ1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5cbi8qKlxuICogQWxsb3dzIHRvIHNlbGVjdCBpbnB1dHMgd2l0aCBgY3RybCthYCBvciBgY21kK2FgLlxuICogUmVxdWlyZWQgYmVjYXVzZSBMZXhpY2FsIHByZXZlbnREZWZhdWx0IHRoZSBldmVudC5cbiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL3BheWxvYWRjbXMvcGF5bG9hZC9pc3N1ZXMvNjg3MVxuICovXG5leHBvcnQgZnVuY3Rpb24gU2VsZWN0QWxsUGx1Z2luKCkge1xuICBjb25zdCBbZWRpdG9yXSA9IHVzZUxleGljYWxDb21wb3NlckNvbnRleHQoKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoXG4gICAgICBTRUxFQ1RfQUxMX0NPTU1BTkQsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9ICRnZXRTZWxlY3Rpb24oKVxuICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRcbiAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgYWN0aXZlRWxlbWVudC5zZWxlY3QoKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9LFxuICAgICAgQ09NTUFORF9QUklPUklUWV9MT1csXG4gICAgKVxuICB9LCBbZWRpdG9yXSlcblxuICByZXR1cm4gbnVsbFxufVxuIiwiJ3VzZSBjbGllbnQnXG5pbXBvcnQgeyB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0IH0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbENvbXBvc2VyQ29udGV4dC5qcydcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAnQHBheWxvYWRjbXMvdWknXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJ1xuXG5pbXBvcnQgdHlwZSB7XG4gIFNsYXNoTWVudUdyb3VwLFxuICBTbGFzaE1lbnVHcm91cEludGVybmFsLFxuICBTbGFzaE1lbnVJdGVtSW50ZXJuYWwsXG4gIFNsYXNoTWVudUl0ZW0gYXMgU2xhc2hNZW51SXRlbVR5cGUsXG59IGZyb20gJy4vTGV4aWNhbFR5cGVhaGVhZE1lbnVQbHVnaW4vdHlwZXMuanMnXG5cbmltcG9ydCB7IHVzZUVkaXRvckNvbmZpZ0NvbnRleHQgfSBmcm9tICcuLi8uLi9jb25maWcvY2xpZW50L0VkaXRvckNvbmZpZ1Byb3ZpZGVyLmpzJ1xuaW1wb3J0ICcuL2luZGV4LnNjc3MnXG5pbXBvcnQgeyBMZXhpY2FsVHlwZWFoZWFkTWVudVBsdWdpbiB9IGZyb20gJy4vTGV4aWNhbFR5cGVhaGVhZE1lbnVQbHVnaW4vaW5kZXguanMnXG5pbXBvcnQgeyB1c2VNZW51VHJpZ2dlck1hdGNoIH0gZnJvbSAnLi91c2VNZW51VHJpZ2dlck1hdGNoLmpzJ1xuXG5jb25zdCBiYXNlQ2xhc3MgPSAnc2xhc2gtbWVudS1wb3B1cCdcblxuZnVuY3Rpb24gU2xhc2hNZW51SXRlbSh7XG4gIGlzU2VsZWN0ZWQsXG4gIGl0ZW0sXG4gIG9uQ2xpY2ssXG4gIG9uTW91c2VFbnRlcixcbiAgcmVmLFxufToge1xuICBpbmRleDogbnVtYmVyXG4gIGlzU2VsZWN0ZWQ6IGJvb2xlYW5cbiAgaXRlbTogU2xhc2hNZW51SXRlbUludGVybmFsXG4gIG9uQ2xpY2s6ICgpID0+IHZvaWRcbiAgb25Nb3VzZUVudGVyOiAoKSA9PiB2b2lkXG4gIHJlZj86IFJlYWN0LlJlZjxIVE1MQnV0dG9uRWxlbWVudD5cbn0pIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkUHJvcHM6IHsgZmVhdHVyZUNsaWVudFNjaGVtYU1hcCwgc2NoZW1hUGF0aCB9LFxuICB9ID0gdXNlRWRpdG9yQ29uZmlnQ29udGV4dCgpXG5cbiAgY29uc3QgeyBpMThuIH0gPSB1c2VUcmFuc2xhdGlvbjx7fSwgc3RyaW5nPigpXG5cbiAgbGV0IGNsYXNzTmFtZSA9IGAke2Jhc2VDbGFzc31fX2l0ZW0gJHtiYXNlQ2xhc3N9X19pdGVtLSR7aXRlbS5rZXl9YFxuICBpZiAoaXNTZWxlY3RlZCkge1xuICAgIGNsYXNzTmFtZSArPSBgICR7YmFzZUNsYXNzfV9faXRlbS0tc2VsZWN0ZWRgXG4gIH1cblxuICBsZXQgdGl0bGUgPSBpdGVtLmtleVxuICBpZiAoaXRlbS5sYWJlbCkge1xuICAgIHRpdGxlID1cbiAgICAgIHR5cGVvZiBpdGVtLmxhYmVsID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gaXRlbS5sYWJlbCh7IGZlYXR1cmVDbGllbnRTY2hlbWFNYXAsIGkxOG4sIHNjaGVtYVBhdGggfSlcbiAgICAgICAgOiBpdGVtLmxhYmVsXG4gIH1cbiAgLy8gQ3JvcCB0aXRsZSB0byBtYXguIDI1IGNoYXJhY3RlcnNcbiAgaWYgKHRpdGxlLmxlbmd0aCA+IDI1KSB7XG4gICAgdGl0bGUgPSB0aXRsZS5zdWJzdHJpbmcoMCwgMjUpICsgJy4uLidcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgYXJpYS1zZWxlY3RlZD17aXNTZWxlY3RlZH1cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgaWQ9e2Jhc2VDbGFzcyArICdfX2l0ZW0tJyArIGl0ZW0ua2V5fVxuICAgICAga2V5PXtpdGVtLmtleX1cbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICBvbk1vdXNlRW50ZXI9e29uTW91c2VFbnRlcn1cbiAgICAgIHJlZj17cmVmfVxuICAgICAgcm9sZT1cIm9wdGlvblwiXG4gICAgICB0YWJJbmRleD17LTF9XG4gICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICA+XG4gICAgICB7aXRlbT8uSWNvbiAmJiA8aXRlbS5JY29uIC8+fVxuXG4gICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2l0ZW0tdGV4dGB9Pnt0aXRsZX08L3NwYW4+XG4gICAgPC9idXR0b24+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNsYXNoTWVudVBsdWdpbih7XG4gIGFuY2hvckVsZW0gPSBkb2N1bWVudC5ib2R5LFxufToge1xuICBhbmNob3JFbGVtPzogSFRNTEVsZW1lbnRcbn0pOiBSZWFjdC5SZWFjdEVsZW1lbnQge1xuICBjb25zdCBbZWRpdG9yXSA9IHVzZUxleGljYWxDb21wb3NlckNvbnRleHQoKVxuICBjb25zdCBbcXVlcnlTdHJpbmcsIHNldFF1ZXJ5U3RyaW5nXSA9IHVzZVN0YXRlPG51bGwgfCBzdHJpbmc+KG51bGwpXG4gIGNvbnN0IHsgZWRpdG9yQ29uZmlnIH0gPSB1c2VFZGl0b3JDb25maWdDb250ZXh0KClcbiAgY29uc3QgeyBpMThuIH0gPSB1c2VUcmFuc2xhdGlvbjx7fSwgc3RyaW5nPigpXG4gIGNvbnN0IHtcbiAgICBmaWVsZFByb3BzOiB7IGZlYXR1cmVDbGllbnRTY2hlbWFNYXAsIHNjaGVtYVBhdGggfSxcbiAgfSA9IHVzZUVkaXRvckNvbmZpZ0NvbnRleHQoKVxuXG4gIGNvbnN0IGNoZWNrRm9yVHJpZ2dlck1hdGNoID0gdXNlTWVudVRyaWdnZXJNYXRjaCgnLycsIHtcbiAgICBtaW5MZW5ndGg6IDAsXG4gIH0pXG5cbiAgY29uc3QgZ2V0RHluYW1pY0l0ZW1zID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGxldCBncm91cFdpdGhJdGVtczogQXJyYXk8U2xhc2hNZW51R3JvdXA+ID0gW11cblxuICAgIGZvciAoY29uc3QgZHluYW1pY0l0ZW0gb2YgZWRpdG9yQ29uZmlnLmZlYXR1cmVzLnNsYXNoTWVudS5keW5hbWljR3JvdXBzKSB7XG4gICAgICBpZiAocXVlcnlTdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZHluYW1pY0dyb3VwV2l0aEl0ZW1zID0gZHluYW1pY0l0ZW0oe1xuICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICBxdWVyeVN0cmluZyxcbiAgICAgICAgfSlcbiAgICAgICAgZ3JvdXBXaXRoSXRlbXMgPSBncm91cFdpdGhJdGVtcy5jb25jYXQoZHluYW1pY0dyb3VwV2l0aEl0ZW1zKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBncm91cFdpdGhJdGVtc1xuICB9LCBbZWRpdG9yLCBxdWVyeVN0cmluZywgZWRpdG9yQ29uZmlnPy5mZWF0dXJlc10pXG5cbiAgY29uc3QgZ3JvdXBzOiBTbGFzaE1lbnVHcm91cFtdID0gdXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IGdyb3Vwc1dpdGhJdGVtczogU2xhc2hNZW51R3JvdXBbXSA9IFtdXG4gICAgZm9yIChjb25zdCBncm91cFdpdGhJdGVtIG9mIGVkaXRvckNvbmZpZz8uZmVhdHVyZXMuc2xhc2hNZW51Lmdyb3VwcyA/PyBbXSkge1xuICAgICAgZ3JvdXBzV2l0aEl0ZW1zLnB1c2goZ3JvdXBXaXRoSXRlbSlcbiAgICB9XG5cbiAgICBpZiAocXVlcnlTdHJpbmcpIHtcbiAgICAgIC8vIEZpbHRlciBjdXJyZW50IGdyb3VwcyBmaXJzdFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRPRE86IGZpeCB0aGlzXG4gICAgICBncm91cHNXaXRoSXRlbXMgPSBncm91cHNXaXRoSXRlbXMubWFwKChncm91cCkgPT4ge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZEl0ZW1zID0gZ3JvdXAuaXRlbXMuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgICAgbGV0IGl0ZW1UaXRsZSA9IGl0ZW0ua2V5XG4gICAgICAgICAgaWYgKGl0ZW0ubGFiZWwpIHtcbiAgICAgICAgICAgIGl0ZW1UaXRsZSA9XG4gICAgICAgICAgICAgIHR5cGVvZiBpdGVtLmxhYmVsID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyBpdGVtLmxhYmVsKHsgZmVhdHVyZUNsaWVudFNjaGVtYU1hcCwgaTE4biwgc2NoZW1hUGF0aCB9KVxuICAgICAgICAgICAgICAgIDogaXRlbS5sYWJlbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChuZXcgUmVnRXhwKHF1ZXJ5U3RyaW5nLCAnZ2knKS5leGVjKGl0ZW1UaXRsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVtLmtleXdvcmRzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmtleXdvcmRzLnNvbWUoKGtleXdvcmQpID0+IG5ldyBSZWdFeHAocXVlcnlTdHJpbmcsICdnaScpLmV4ZWMoa2V5d29yZCkpXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgICBpZiAoZmlsdGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZ3JvdXAsXG4gICAgICAgICAgICBpdGVtczogZmlsdGVyZWRJdGVtcyxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH0pXG5cbiAgICAgIGdyb3Vwc1dpdGhJdGVtcyA9IGdyb3Vwc1dpdGhJdGVtcy5maWx0ZXIoKGdyb3VwKSA9PiBncm91cCAhPSBudWxsKVxuXG4gICAgICAvLyBOb3cgYWRkIGR5bmFtaWMgZ3JvdXBzXG4gICAgICBjb25zdCBkeW5hbWljSXRlbUdyb3VwcyA9IGdldER5bmFtaWNJdGVtcygpXG5cbiAgICAgIC8vIG1lcmdlIGR5bmFtaWMgaXRlbXMgaW50byBncm91cHNcbiAgICAgIGZvciAoY29uc3QgZHluYW1pY0dyb3VwIG9mIGR5bmFtaWNJdGVtR3JvdXBzKSB7XG4gICAgICAgIC8vIDEuIGZpbmQgdGhlIGdyb3VwIHdpdGggdGhlIHNhbWUgbmFtZSBvciBjcmVhdGUgbmV3IG9uZVxuICAgICAgICBsZXQgZ3JvdXAgPSBncm91cHNXaXRoSXRlbXMuZmluZCgoZ3JvdXApID0+IGdyb3VwLmtleSA9PT0gZHluYW1pY0dyb3VwLmtleSlcbiAgICAgICAgaWYgKCFncm91cCkge1xuICAgICAgICAgIGdyb3VwID0ge1xuICAgICAgICAgICAgLi4uZHluYW1pY0dyb3VwLFxuICAgICAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBncm91cHNXaXRoSXRlbXMgPSBncm91cHNXaXRoSXRlbXMuZmlsdGVyKChncm91cCkgPT4gZ3JvdXAua2V5ICE9PSBkeW5hbWljR3JvdXAua2V5KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMi4gQWRkIGl0ZW1zIHRvIGdyb3VwIGl0ZW1zIGFycmF5IGFuZCBhZGQgdG8gc2FuaXRpemVkLnNsYXNoTWVudS5ncm91cHNXaXRoSXRlbXNcbiAgICAgICAgaWYgKGdyb3VwPy5pdGVtcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgZ3JvdXAuaXRlbXMgPSBncm91cC5pdGVtcy5jb25jYXQoZ3JvdXAuaXRlbXMpXG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXBzV2l0aEl0ZW1zLnB1c2goZ3JvdXApXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyb3Vwc1dpdGhJdGVtc1xuICB9LCBbXG4gICAgcXVlcnlTdHJpbmcsXG4gICAgZWRpdG9yQ29uZmlnPy5mZWF0dXJlcy5zbGFzaE1lbnUuZ3JvdXBzLFxuICAgIGdldER5bmFtaWNJdGVtcyxcbiAgICBmZWF0dXJlQ2xpZW50U2NoZW1hTWFwLFxuICAgIGkxOG4sXG4gICAgc2NoZW1hUGF0aCxcbiAgXSlcblxuICByZXR1cm4gKFxuICAgIDxMZXhpY2FsVHlwZWFoZWFkTWVudVBsdWdpblxuICAgICAgYW5jaG9yRWxlbT17YW5jaG9yRWxlbX1cbiAgICAgIGdyb3Vwcz17Z3JvdXBzIGFzIFNsYXNoTWVudUdyb3VwSW50ZXJuYWxbXX1cbiAgICAgIG1lbnVSZW5kZXJGbj17KFxuICAgICAgICBhbmNob3JFbGVtZW50UmVmLFxuICAgICAgICB7IHNlbGVjdGVkSXRlbUtleSwgc2VsZWN0SXRlbUFuZENsZWFuVXAsIHNldFNlbGVjdGVkSXRlbUtleSB9LFxuICAgICAgKSA9PlxuICAgICAgICBhbmNob3JFbGVtZW50UmVmLmN1cnJlbnQgJiYgZ3JvdXBzLmxlbmd0aFxuICAgICAgICAgID8gUmVhY3RET00uY3JlYXRlUG9ydGFsKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YmFzZUNsYXNzfT5cbiAgICAgICAgICAgICAgICB7Z3JvdXBzLm1hcCgoZ3JvdXApID0+IHtcbiAgICAgICAgICAgICAgICAgIGxldCBncm91cFRpdGxlID0gZ3JvdXAua2V5XG4gICAgICAgICAgICAgICAgICBpZiAoZ3JvdXAubGFiZWwgJiYgZmVhdHVyZUNsaWVudFNjaGVtYU1hcCkge1xuICAgICAgICAgICAgICAgICAgICBncm91cFRpdGxlID1cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZ3JvdXAubGFiZWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZ3JvdXAubGFiZWwoeyBmZWF0dXJlQ2xpZW50U2NoZW1hTWFwLCBpMThuLCBzY2hlbWFQYXRoIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGdyb3VwLmxhYmVsXG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2dyb3VwICR7YmFzZUNsYXNzfV9fZ3JvdXAtJHtncm91cC5rZXl9YH1cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2dyb3VwLmtleX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19ncm91cC10aXRsZWB9Pntncm91cFRpdGxlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIHtncm91cC5pdGVtcy5tYXAoKGl0ZW0sIG9pOiBudW1iZXIpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTbGFzaE1lbnVJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4PXtvaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17c2VsZWN0ZWRJdGVtS2V5ID09PSBpdGVtLmtleX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbT17aXRlbSBhcyBTbGFzaE1lbnVJdGVtSW50ZXJuYWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS5rZXl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZEl0ZW1LZXkoaXRlbS5rZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0SXRlbUFuZENsZWFuVXAoaXRlbSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRJdGVtS2V5KGl0ZW0ua2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyhlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsoaXRlbSBhcyBTbGFzaE1lbnVJdGVtSW50ZXJuYWwpLnJlZiA9IHsgY3VycmVudDogZWwgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PixcbiAgICAgICAgICAgICAgYW5jaG9yRWxlbWVudFJlZi5jdXJyZW50LFxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogbnVsbFxuICAgICAgfVxuICAgICAgb25RdWVyeUNoYW5nZT17c2V0UXVlcnlTdHJpbmd9XG4gICAgICB0cmlnZ2VyRm49e2NoZWNrRm9yVHJpZ2dlck1hdGNofVxuICAgIC8+XG4gIClcbn1cbiIsIid1c2UgY2xpZW50J1xuaW1wb3J0IHR5cGUgeyBMZXhpY2FsRWRpdG9yIH0gZnJvbSAnbGV4aWNhbCdcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgUFVOQ1RVQVRJT04gfSBmcm9tICcuL0xleGljYWxUeXBlYWhlYWRNZW51UGx1Z2luL2luZGV4LmpzJ1xuXG5leHBvcnQgdHlwZSBUcmlnZ2VyRm4gPSAoe1xuICBlZGl0b3IsXG4gIHF1ZXJ5LFxufToge1xuICBlZGl0b3I6IExleGljYWxFZGl0b3JcbiAgLyoqIFRoZSBxdWVyeSBzdHJpbmcgaXMgdGhlIFBPVEVOVElBTCB0cmlnZ2VyIEFORCB0aGUgdGV4dCBhZnRlciB0aGUgdHJpZ2dlciB0ZXh0LiAqL1xuICBxdWVyeTogc3RyaW5nXG59KSA9PiBNZW51VGV4dE1hdGNoIHwgbnVsbFxuXG5leHBvcnQgdHlwZSBNZW51VGV4dE1hdGNoID0ge1xuICBsZWFkT2Zmc2V0OiBudW1iZXJcbiAgbWF0Y2hpbmdTdHJpbmc6IHN0cmluZ1xuICByZXBsYWNlYWJsZVN0cmluZzogc3RyaW5nXG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNoZWNrcyBpZiB0aGUgdHJpZ2dlciAoZS5nLiAnLycpIGlzIHByZXNlbnQgaW4gdGhlIHF1ZXJ5IGFuZCwgaWYgc28sIHJldHVybnMgdGhlIG1hdGNoaW5nIHN0cmluZyAodGV4dCBhZnRlciB0aGUgdHJpZ2dlcilcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU1lbnVUcmlnZ2VyTWF0Y2goXG4gIC8qKlxuICAgKiBUZXh0IHdoaWNoIHRyaWdnZXJzIHRoZSBtZW51LiBFdmVyeXRoaW5nIGFmdGVyIHRoaXMgdGV4dCB3aWxsIGJlIHVzZWQgYXMgdGhlIHF1ZXJ5LlxuICAgKi9cbiAgdHJpZ2dlcjogc3RyaW5nLFxuICB7IG1heExlbmd0aCA9IDc1LCBtaW5MZW5ndGggPSAxIH06IHsgbWF4TGVuZ3RoPzogbnVtYmVyOyBtaW5MZW5ndGg/OiBudW1iZXIgfSxcbik6IFRyaWdnZXJGbiB7XG4gIHJldHVybiB1c2VDYWxsYmFjayhcbiAgICAoeyBxdWVyeSB9KSA9PiB7XG4gICAgICBjb25zdCB2YWxpZENoYXJzID0gJ1teJyArIHRyaWdnZXIgKyBQVU5DVFVBVElPTiArICdcXFxcc10nXG4gICAgICBjb25zdCBUeXBlYWhlYWRUcmlnZ2VyUmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAnKF58XFxcXHN8XFxcXCgpKCcgK1xuICAgICAgICAgICdbJyArXG4gICAgICAgICAgdHJpZ2dlciArXG4gICAgICAgICAgJ10nICtcbiAgICAgICAgICAnKCg/OicgK1xuICAgICAgICAgIHZhbGlkQ2hhcnMgK1xuICAgICAgICAgICcpezAsJyArXG4gICAgICAgICAgbWF4TGVuZ3RoICtcbiAgICAgICAgICAnfSknICtcbiAgICAgICAgICAnKSQnLFxuICAgICAgKVxuICAgICAgY29uc3QgbWF0Y2ggPSBUeXBlYWhlYWRUcmlnZ2VyUmVnZXguZXhlYyhxdWVyeSlcbiAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtYXliZUxlYWRpbmdXaGl0ZXNwYWNlID0gbWF0Y2hbMV0hXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIG1hdGNoaW5nU3RyaW5nIGlzIG9ubHkgdGhlIHRleHQgQUZURVIgdGhlIHRyaWdnZXIgdGV4dC4gKFNvIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIC8pXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBtYXRjaGluZ1N0cmluZyA9IG1hdGNoWzNdIVxuXG4gICAgICAgIGlmIChtYXRjaGluZ1N0cmluZy5sZW5ndGggPj0gbWluTGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlYWRPZmZzZXQ6IG1hdGNoLmluZGV4ICsgbWF5YmVMZWFkaW5nV2hpdGVzcGFjZS5sZW5ndGgsXG4gICAgICAgICAgICBtYXRjaGluZ1N0cmluZyxcbiAgICAgICAgICAgIHJlcGxhY2VhYmxlU3RyaW5nOiBtYXRjaFsyXSEsIC8vIHJlcGxhY2VhYmxlU3RyaW5nIGlzIHRoZSB0cmlnZ2VyIHRleHQgKyB0aGUgbWF0Y2hpbmcgc3RyaW5nXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH0sXG4gICAgW21heExlbmd0aCwgbWluTGVuZ3RoLCB0cmlnZ2VyXSxcbiAgKVxufVxuIiwiJ3VzZSBjbGllbnQnXG5pbXBvcnQgdHlwZSB7IFRleHRGb3JtYXRUeXBlIH0gZnJvbSAnbGV4aWNhbCdcblxuaW1wb3J0IHsgdXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCB9IGZyb20gJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxDb21wb3NlckNvbnRleHQnXG5pbXBvcnQgeyBURVhUX1RZUEVfVE9fRk9STUFULCBUZXh0Tm9kZSB9IGZyb20gJ2xleGljYWwnXG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHR5cGUgeyBTYW5pdGl6ZWRDbGllbnRGZWF0dXJlcyB9IGZyb20gJy4uLy4uLy4uL2ZlYXR1cmVzL3R5cGVzQ2xpZW50LmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gVGV4dFBsdWdpbih7IGZlYXR1cmVzIH06IHsgZmVhdHVyZXM6IFNhbml0aXplZENsaWVudEZlYXR1cmVzIH0pIHtcbiAgY29uc3QgW2VkaXRvcl0gPSB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0KClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGRpc2FibGVkRm9ybWF0cyA9IGdldERpc2FibGVkRm9ybWF0cyhmZWF0dXJlcy5lbmFibGVkRm9ybWF0cylcbiAgICBpZiAoZGlzYWJsZWRGb3JtYXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIElkZWFsbHkgb3ZlcnJpZGUgdGhlIFRleHROb2RlIHdpdGggb3VyIG93biBUZXh0Tm9kZSAoY2hhbmdpbmcgaXRzIHNldEZvcm1hdCBvciB0b2dnbGVGb3JtYXQgbWV0aG9kcyksXG4gICAgLy8gd291bGQgYmUgbW9yZSBwZXJmb3JtYW50LiBJZiB3ZSBmaW5kIGEgbm90aWNlYWJsZSBwZXJmIHJlZ3Jlc3Npb24gd2UgY2FuIHN3aXRjaCB0byB0aGF0IG9wdGlvbi5cbiAgICAvLyBPdmVycmlkaW5nIHRoZSBGT1JNQVRfVEVYVF9DT01NQU5EIGFuZCBQQVNURV9DT01NQU5EIGNvbW1hbmRzIGlzIG5vdCBhbiBvcHRpb24gSSBjb25zaWRlcmVkIGJlY2F1c2VcbiAgICAvLyB0aGVyZSBtaWdodCBiZSBvdGhlciBmb3JtcyBvZiBtdXRhdGlvbiB0aGF0IHdlIG1pZ2h0IG5vdCBiZSBjb25zaWRlcmluZy4gRm9yIGV4YW1wbGU6XG4gICAgLy8gYnJvd3NlciBleHRlbnNpb25zIG9yIFBheWxvYWQvTGV4aWNhbCBwbHVnaW5zIHRoYXQgaGF2ZSB0aGVpciBvd24gY29tbWFuZHMuXG4gICAgcmV0dXJuIGVkaXRvci5yZWdpc3Rlck5vZGVUcmFuc2Zvcm0oVGV4dE5vZGUsICh0ZXh0Tm9kZSkgPT4ge1xuICAgICAgZGlzYWJsZWRGb3JtYXRzLmZvckVhY2goKGRpc2FibGVkRm9ybWF0KSA9PiB7XG4gICAgICAgIGlmICh0ZXh0Tm9kZS5oYXNGb3JtYXQoZGlzYWJsZWRGb3JtYXQpKSB7XG4gICAgICAgICAgdGV4dE5vZGUudG9nZ2xlRm9ybWF0KGRpc2FibGVkRm9ybWF0KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH0sIFtlZGl0b3IsIGZlYXR1cmVzXSlcblxuICByZXR1cm4gbnVsbFxufVxuXG5mdW5jdGlvbiBnZXREaXNhYmxlZEZvcm1hdHMoZW5hYmxlZEZvcm1hdHM6IFRleHRGb3JtYXRUeXBlW10pOiBUZXh0Rm9ybWF0VHlwZVtdIHtcbiAgY29uc3QgYWxsRm9ybWF0cyA9IE9iamVjdC5rZXlzKFRFWFRfVFlQRV9UT19GT1JNQVQpIGFzIFRleHRGb3JtYXRUeXBlW11cbiAgY29uc3QgZW5hYmxlZFNldCA9IG5ldyBTZXQoZW5hYmxlZEZvcm1hdHMpXG5cbiAgcmV0dXJuIGFsbEZvcm1hdHMuZmlsdGVyKChmb3JtYXQpID0+ICFlbmFibGVkU2V0Lmhhcyhmb3JtYXQpKVxufVxuIiwiJ3VzZSBjbGllbnQnXG5pbXBvcnQgdHlwZSB7IEpTWCB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0IH0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbENvbXBvc2VyQ29udGV4dCdcbmltcG9ydCB7IENvbnRlbnRFZGl0YWJsZSB9IGZyb20gJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxDb250ZW50RWRpdGFibGUuanMnXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ0BwYXlsb2FkY21zL3VpJ1xuXG5pbXBvcnQgJy4vQ29udGVudEVkaXRhYmxlLnNjc3MnXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgdHlwZSB7IFNhbml0aXplZENsaWVudEVkaXRvckNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZy90eXBlcy5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIExleGljYWxDb250ZW50RWRpdGFibGUoe1xuICBjbGFzc05hbWUsXG4gIGVkaXRvckNvbmZpZyxcbn06IHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIGVkaXRvckNvbmZpZzogU2FuaXRpemVkQ2xpZW50RWRpdG9yQ29uZmlnXG59KTogSlNYLkVsZW1lbnQge1xuICBjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uPHt9LCBzdHJpbmc+KClcbiAgY29uc3QgW18sIHsgZ2V0VGhlbWUgfV0gPSB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0KClcbiAgY29uc3QgdGhlbWUgPSBnZXRUaGVtZSgpXG5cbiAgcmV0dXJuIChcbiAgICA8Q29udGVudEVkaXRhYmxlXG4gICAgICBhcmlhLXBsYWNlaG9sZGVyPXt0KCdsZXhpY2FsOmdlbmVyYWw6cGxhY2Vob2xkZXInKX1cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lID8/ICdDb250ZW50RWRpdGFibGVfX3Jvb3QnfVxuICAgICAgcGxhY2Vob2xkZXI9e1xuICAgICAgICA8cCBjbGFzc05hbWU9e3RoZW1lPy5wbGFjZWhvbGRlcn0+XG4gICAgICAgICAge2VkaXRvckNvbmZpZz8uYWRtaW4/LnBsYWNlaG9sZGVyID8/IHQoJ2xleGljYWw6Z2VuZXJhbDpwbGFjZWhvbGRlcicpfVxuICAgICAgICA8L3A+XG4gICAgICB9XG4gICAgLz5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIkJ1bGtVcGxvYWRQcm92aWRlciIsIkZpZWxkRGVzY3JpcHRpb24iLCJGaWVsZEVycm9yIiwiRmllbGRMYWJlbCIsIlJlbmRlckN1c3RvbUNvbXBvbmVudCIsInVzZUVkaXREZXB0aCIsInVzZUVmZmVjdEV2ZW50IiwidXNlRmllbGQiLCJtZXJnZUZpZWxkU3R5bGVzIiwiZGVxdWFsIiwiUmVhY3QiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsIkVycm9yQm91bmRhcnkiLCJMZXhpY2FsQ29tcG9zZXIiLCJjIiwiX2MiLCJ1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0IiwiTGV4aWNhbEVycm9yQm91bmRhcnkiLCJIaXN0b3J5UGx1Z2luIiwiT25DaGFuZ2VQbHVnaW4iLCJSaWNoVGV4dFBsdWdpbiIsInVzZUxleGljYWxFZGl0YWJsZSIsIkJMVVJfQ09NTUFORCIsIkNPTU1BTkRfUFJJT1JJVFlfTE9XIiwiRk9DVVNfQ09NTUFORCIsIkVkaXRvclBsdWdpbiIsImFuY2hvckVsZW0iLCJjbGllbnRQcm9wcyIsInBsdWdpbiIsInBvc2l0aW9uIiwiQ29tcG9uZW50IiwiX2pzeCIsImNvcHlUb0NsaXBib2FyZCIsIm9iamVjdEtsYXNzRXF1YWxzIiwiT2JqZWN0SUQiLCJDT1BZX0NPTU1BTkQiLCJDbGlwYm9hcmRQbHVnaW4iLCIkIiwiZWRpdG9yIiwidDAiLCJ0MSIsInJlZ2lzdGVyQ29tbWFuZCIsImV2ZW50IiwiQ2xpcGJvYXJkRXZlbnQiLCJ0aGVuIiwiY2xpcGJvYXJkRGF0YSIsIkVycm9yIiwibGV4aWNhbFN0cmluZ2lmaWVkIiwiZ2V0RGF0YSIsImxleGljYWwiLCJKU09OIiwicGFyc2UiLCJjaGFuZ2VJZHMiLCJub2RlIiwiZmllbGRzIiwiaWQiLCJkZWZhdWx0IiwidG9IZXhTdHJpbmciLCJjaGlsZHJlbiIsImNoaWxkIiwibm9kZV8wIiwibm9kZXMiLCJzdHJpbmdpZmllZCIsInN0cmluZ2lmeSIsInNldERhdGEiLCJjYXRjaCIsImVycm9yIiwiJGZpbmRNYXRjaGluZ1BhcmVudCIsIm1lcmdlUmVnaXN0ZXIiLCIkY3JlYXRlTm9kZVNlbGVjdGlvbiIsIiRnZXRFZGl0b3IiLCIkZ2V0TmVhcmVzdE5vZGVGcm9tRE9NTm9kZSIsIiRnZXRTZWxlY3Rpb24iLCIkaXNEZWNvcmF0b3JOb2RlIiwiJGlzRWxlbWVudE5vZGUiLCIkaXNMaW5lQnJlYWtOb2RlIiwiJGlzTm9kZVNlbGVjdGlvbiIsIiRpc1JhbmdlU2VsZWN0aW9uIiwiJGlzUm9vdE9yU2hhZG93Um9vdCIsIiRpc1RleHROb2RlIiwiJHNldFNlbGVjdGlvbiIsIkNMSUNLX0NPTU1BTkQiLCJLRVlfQVJST1dfRE9XTl9DT01NQU5EIiwiS0VZX0FSUk9XX1VQX0NPTU1BTkQiLCJLRVlfQkFDS1NQQUNFX0NPTU1BTkQiLCJLRVlfREVMRVRFX0NPTU1BTkQiLCJTRUxFQ1RJT05fQ0hBTkdFX0NPTU1BTkQiLCJEZWNvcmF0b3JQbHVnaW4iLCIkb25EZWxldGUiLCJfdGVtcDIiLCJfdGVtcDMiLCJfdGVtcDQiLCJfdGVtcDYiLCJfdGVtcDgiLCJldmVudF8yIiwic2VsZWN0aW9uXzEiLCJzZWxlY3Rpb24iLCJwcmV2ZW50RGVmYXVsdCIsIm5leHRTaWJsaW5nIiwiZ2V0Tm9kZXMiLCJnZXROZXh0U2libGluZyIsImVsZW1lbnRfMCIsImdldEVsZW1lbnRCeUtleSIsImdldEtleSIsImVsZW1lbnQiLCIkc2VsZWN0RGVjb3JhdG9yIiwiZmlyc3REZXNjZW5kYW50IiwiZ2V0Rmlyc3REZXNjZW5kYW50IiwiSU5URVJOQUxfJGlzQmxvY2siLCJzZWxlY3RFbmQiLCJsYXN0Tm9kZSIsImlzQmFja3dhcmQiLCJhbmNob3IiLCJmb2N1cyIsImdldE5vZGUiLCJsYXN0U2VsZWN0ZWRCbG9jayIsIl90ZW1wNyIsIm5leHRCbG9jayIsImZpbmRMYXRlclNpYmxpbmdCbG9jayIsIm5leHRCbG9ja0VsZW1lbnQiLCJub2RlXzEiLCJldmVudF8xIiwic2VsZWN0aW9uXzAiLCJwcmV2U2libGluZyIsImdldFByZXZpb3VzU2libGluZyIsImxhc3REZXNjZW5kYW50IiwiZ2V0TGFzdERlc2NlbmRhbnQiLCJzZWxlY3RTdGFydCIsImZpcnN0Tm9kZSIsImZpcnN0U2VsZWN0ZWRCbG9jayIsIl90ZW1wNSIsInByZXZCbG9jayIsImZpbmRGaXJzdFNpYmxpbmdCbG9jayIsInByZXZCbG9ja0VsZW1lbnQiLCJkZWNvcmF0b3JfMCIsIiRnZXRTZWxlY3RlZERlY29yYXRvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNsYXNzTGlzdCIsInJlbW92ZSIsImRlY29yYXRvciIsImFkZCIsImV2ZW50XzAiLCIkZ2V0RGVjb3JhdG9yQnlNb3VzZUV2ZW50IiwidGFyZ2V0IiwiSFRNTEVsZW1lbnQiLCJpc0NvbnRlbnRFZGl0YWJsZSIsImNsb3Nlc3QiLCJmb3JFYWNoIiwiX3RlbXAiLCJ1bmRlZmluZWQiLCJsZW5ndGgiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siLCJpc0lubGluZSIsImZpcnN0Q2hpbGQiLCJnZXRGaXJzdENoaWxkIiwiaXNMZWFmRWxlbWVudCIsImNhbkJlRW1wdHkiLCJjdXJyZW50IiwiJGNyZWF0ZVBhcmFncmFwaE5vZGUiLCJpc0hUTUxFbGVtZW50IiwidXNlUmVmIiwiY3JlYXRlUG9ydGFsIiwiY2FsY3VsYXRlRGlzdGFuY2VGcm9tU2Nyb2xsZXJFbGVtIiwic2Nyb2xsZXJFbGVtIiwicGFnZVgiLCJwYWdlWSIsImhvcml6b250YWxCdWZmZXIiLCJ2ZXJ0aWNhbEJ1ZmZlciIsImRpc3RhbmNlRnJvbVNjcm9sbGVyRWxlbSIsImNvbnRhaW5zIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYWRqdXN0ZWRUb3AiLCJ3aW5kb3ciLCJzY3JvbGxZIiwiYWRqdXN0ZWRCb3R0b20iLCIkZ2V0Tm9kZUJ5S2V5IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0V2l0aG91dFRyYW5zZm9ybSIsImVsZW0iLCJyZWN0IiwidHJhbnNmb3JtVmFsdWUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImxhc3ROdW1iZXJPZlRyYW5zZm9ybVZhbHVlIiwic3BsaXQiLCJwb3AiLCJ5IiwiTnVtYmVyIiwicmVwbGFjZSIsImdldENvbGxhcHNlZE1hcmdpbnMiLCJnZXRNYXJnaW4iLCJtYXJnaW4iLCJwYXJzZUZsb2F0IiwibWFyZ2luQm90dG9tIiwibWFyZ2luVG9wIiwicHJldkVsZW1TaWJsaW5nTWFyZ2luQm90dG9tIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsIm5leHRFbGVtU2libGluZ01hcmdpblRvcCIsIm5leHRFbGVtZW50U2libGluZyIsImNvbGxhcHNlZFRvcE1hcmdpbiIsIk1hdGgiLCJtYXgiLCIkZ2V0Um9vdCIsImdldFRvcExldmVsTm9kZUtleXMiLCJnZXRFZGl0b3JTdGF0ZSIsInJlYWQiLCJnZXRDaGlsZHJlbktleXMiLCJEb3dud2FyZCIsIlVwd2FyZCIsIkluZGV0ZXJtaW5hdGUiLCJjYWNoZSIsInByb3BzIiwicmVzdWx0IiwiaXNQb2ludENsb3NlIiwicHJldmlvdXMiLCJ0aHJlc2hvbGQiLCJkeCIsIngiLCJkeSIsImdldE5vZGVDbG9zZVRvUG9pbnQiLCJjYWNoZV90aHJlc2hvbGQiLCJmdXp6eSIsImhvcml6b250YWxPZmZzZXQiLCJwb2ludCIsInN0YXJ0SW5kZXgiLCJ1c2VFZGdlQXNEZWZhdWx0IiwiYW5jaG9yRWxlbWVudFJlY3QiLCJ0b3BMZXZlbE5vZGVLZXlzIiwiY2xvc2VzdEJsb2NrRWxlbSIsImJsb2NrRWxlbSIsImJsb2NrTm9kZSIsImRpc3RhbmNlIiwiSW5maW5pdHkiLCJmb3VuZEF0SW5kZXgiLCJpc0ZvdW5kTm9kZUVtcHR5UGFyYWdyYXBoIiwiZmlyc3ROb2RlUmVjdCIsImxhc3ROb2RlUmVjdCIsImluZGV4IiwiZGlyZWN0aW9uIiwia2V5IiwiUG9pbnQiLCJkb21SZWN0IiwiUmVjdCIsImZyb21ET01SZWN0IiwiZ2VuZXJhdGVOZXdSZWN0IiwiaXNPbkJvdHRvbVNpZGUiLCJpc09uVG9wU2lkZSIsImRpc3RhbmNlRnJvbVBvaW50IiwiZ2V0VHlwZSIsImdldFRleHRDb250ZW50IiwicmV0dXJuRW1wdHlQYXJhZ3JhcGhzIiwiaXNPbkhhbmRsZUVsZW1lbnQiLCJoYW5kbGVFbGVtZW50Q2xhc3NOYW1lIiwicmVwbGFjZWRFbGVtZW50cyIsImRvZXNMaW5lSGVpZ2h0QWZmZWN0RWxlbWVudCIsImh0bWxFbGVtIiwiaW5jbHVkZXMiLCJ0YWdOYW1lIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0V2lkdGgiLCJzdHlsZSIsImRpc3BsYXkiLCJ2aXNpYmlsaXR5Iiwib3BhY2l0eSIsInNldEhhbmRsZVBvc2l0aW9uIiwidGFyZ2V0RWxlbSIsImhhbmRsZUVsZW0iLCJsZWZ0T2Zmc2V0IiwidHJhbnNmb3JtIiwidGFyZ2V0UmVjdCIsInRhcmdldFN0eWxlIiwiZmxvYXRpbmdFbGVtUmVjdCIsInNvbWUiLCJjbGFzc2VzIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJhY3R1YWxMaW5lSGVpZ2h0IiwicGFyc2VJbnQiLCJsaW5lSGVpZ2h0IiwiaGVpZ2h0IiwiQUREX0JMT0NLX01FTlVfQ0xBU1NOQU1FIiwicHJldkluZGV4IiwiZ2V0Q3VycmVudEluZGV4Iiwia2V5c0xlbmd0aCIsImZsb29yIiwidXNlQWRkQmxvY2tIYW5kbGUiLCJpc0VkaXRhYmxlIiwicGFyZW50RWxlbWVudCIsImVkaXRvckNvbmZpZyIsInVzZUVkaXRvckNvbmZpZ0NvbnRleHQiLCJibG9ja0hhbmRsZUhvcml6b250YWxPZmZzZXQiLCJhZG1pbiIsImhpZGVHdXR0ZXIiLCJtZW51UmVmIiwiaG92ZXJlZEVsZW1lbnQiLCJzZXRIb3ZlcmVkRWxlbWVudCIsIm9uRG9jdW1lbnRNb3VzZU1vdmUiLCJfZW1wdHlCbG9ja0VsZW0iLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUFkZENsaWNrIiwiaG92ZXJlZEVsZW1lbnRUb1VzZSIsInVwZGF0ZSIsImlzRW1wdHlQYXJhZ3JhcGgiLCJuZXdQYXJhZ3JhcGgiLCJpbnNlcnRBZnRlciIsInNldFRpbWVvdXQiLCJzZWxlY3QiLCJkaXNwYXRjaENvbW1hbmQiLCJFTkFCTEVfU0xBU0hfTUVOVV9DT01NQU5EIiwic3RvcFByb3BhZ2F0aW9uIiwiRnJhZ21lbnQiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwicmVmIiwidHlwZSIsIkFkZEJsb2NrSGFuZGxlUGx1Z2luIiwiYm9keSIsIl9lZGl0YWJsZSIsImV2ZW50RmlsZXMiLCJUQVJHRVRfTElORV9IQUxGX0hFSUdIVCIsIlRFWFRfQk9YX0hPUklaT05UQUxfUEFERElORyIsImFuaW1hdGlvblRpbWVyIiwic2V0VGFyZ2V0TGluZSIsIm9mZnNldExlZnQiLCJ0YXJnZXRMaW5lRWxlbSIsInRhcmdldEJsb2NrRWxlbSIsImxhc3RUYXJnZXRCbG9jayIsIm1vdXNlWSIsImRlYnVnSGlnaGxpZ2h0UmVmIiwidGFyZ2V0QmxvY2tFbGVtSGVpZ2h0IiwidGFyZ2V0QmxvY2tFbGVtVG9wIiwiYW5jaG9yVG9wIiwid2lkdGgiLCJhbmNob3JXaWR0aCIsImxpbmVUb3AiLCJpc0JlbG93Iiwid2lsbFN0YXlJblNhbWVQb3NpdGlvbiIsImxhc3RCb3VuZGluZ0JveFBvc2l0aW9uIiwiYm91bmRpbmdCb3giLCJjdXJyZW50Qm91bmRpbmdCb3hQb3NpdGlvbiIsInRhcmdldEVsZW1UcmFuc2xhdGUyIiwiRFJBR0dBQkxFX0JMT0NLX01FTlVfQ0xBU1NOQU1FIiwiRFJBR19EQVRBX0ZPUk1BVCIsInNldERyYWdJbWFnZSIsImRhdGFUcmFuc2ZlciIsImRyYWdnYWJsZUJsb2NrRWxlbSIsImhpZGVUYXJnZXRMaW5lIiwibGFzdFRhcmdldEJsb2NrRWxlbSIsInVzZURyYWdnYWJsZUJsb2NrTWVudSIsInRhcmdldExpbmVSZWYiLCJpc0RyYWdnaW5nQmxvY2tSZWYiLCJzZXREcmFnZ2FibGVCbG9ja0VsZW0iLCJzZXRMYXN0VGFyZ2V0QmxvY2siLCJfZHJhZ2dhYmxlQmxvY2tFbGVtIiwidmVyYm9zZSIsIm9uRHJhZ292ZXIiLCJpc0ZpbGVUcmFuc2ZlciIsIm9uRHJvcCIsImRyYWdEYXRhIiwiZHJhZ2dlZE5vZGUiLCJ0YXJnZXROb2RlIiwiaW5zZXJ0QmVmb3JlIiwicXVlcnlTZWxlY3RvckFsbCIsImhpZ2hsaWdodGVyIiwibmV3SW5zZXJ0ZWRFbGVtIiwibmV3SW5zZXJ0ZWRFbGVtUmVjdCIsImhpZ2hsaWdodEVsZW0iLCJjcmVhdGVFbGVtZW50IiwiYmFja2dyb3VuZENvbG9yIiwidHJhbnNpdGlvbiIsInpJbmRleCIsInBvaW50ZXJFdmVudHMiLCJib3hTaXppbmciLCJib3JkZXJSYWRpdXMiLCJhcHBlbmRDaGlsZCIsIm9uRHJhZ1N0YXJ0Iiwibm9kZUtleSIsIm9uRHJhZ0VuZCIsIl9qc3hzIiwiZHJhZ2dhYmxlIiwiRHJhZ2dhYmxlQmxvY2tQbHVnaW4iLCJiYXNlQ2xhc3MiLCJJbnNlcnRQYXJhZ3JhcGhBdEVuZFBsdWdpbiIsImhpZGVJbnNlcnRQYXJhZ3JhcGhBdEVuZCIsInJvbGUiLCJ0YWJJbmRleCIsInBhcmFncmFwaE5vZGUiLCJhcHBlbmQiLCJNYXJrZG93blNob3J0Y3V0UGx1Z2luIiwiZmVhdHVyZXMiLCJtYXJrZG93blRyYW5zZm9ybWVycyIsInJlZ2lzdGVyTWFya2Rvd25TaG9ydGN1dHMiLCJSb290Tm9kZSIsIk5vcm1hbGl6ZVNlbGVjdGlvblBsdWdpbiIsInJlZ2lzdGVyTm9kZVRyYW5zZm9ybSIsInJvb3QiLCJhbmNob3JOb2RlIiwiZm9jdXNOb2RlIiwiaXNBdHRhY2hlZCIsImNvbnNvbGUiLCJ3YXJuIiwiU0VMRUNUX0FMTF9DT01NQU5EIiwiU2VsZWN0QWxsUGx1Z2luIiwiYWN0aXZlRWxlbWVudCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJ1c2VUcmFuc2xhdGlvbiIsIlJlYWN0RE9NIiwidXNlTWVudVRyaWdnZXJNYXRjaCIsInRyaWdnZXIiLCJtYXhMZW5ndGgiLCJtaW5MZW5ndGgiLCJ0MiIsInQzIiwidDQiLCJxdWVyeSIsInZhbGlkQ2hhcnMiLCJQVU5DVFVBVElPTiIsIm1hdGNoIiwiUmVnRXhwIiwiZXhlYyIsIm1heWJlTGVhZGluZ1doaXRlc3BhY2UiLCJtYXRjaGluZ1N0cmluZyIsImxlYWRPZmZzZXQiLCJyZXBsYWNlYWJsZVN0cmluZyIsIlNsYXNoTWVudUl0ZW0iLCJpc1NlbGVjdGVkIiwiaXRlbSIsIm9uTW91c2VFbnRlciIsImZpZWxkUHJvcHMiLCJmZWF0dXJlQ2xpZW50U2NoZW1hTWFwIiwic2NoZW1hUGF0aCIsImkxOG4iLCJ0aXRsZSIsImxhYmVsIiwic3Vic3RyaW5nIiwiSWNvbiIsIlNsYXNoTWVudVBsdWdpbiIsInF1ZXJ5U3RyaW5nIiwic2V0UXVlcnlTdHJpbmciLCJjaGVja0ZvclRyaWdnZXJNYXRjaCIsImdldER5bmFtaWNJdGVtcyIsImdyb3VwV2l0aEl0ZW1zIiwiZHluYW1pY0l0ZW0iLCJzbGFzaE1lbnUiLCJkeW5hbWljR3JvdXBzIiwiZHluYW1pY0dyb3VwV2l0aEl0ZW1zIiwiY29uY2F0IiwiZ3JvdXBzIiwiZ3JvdXBzV2l0aEl0ZW1zIiwiZ3JvdXBXaXRoSXRlbSIsInB1c2giLCJtYXAiLCJncm91cCIsImZpbHRlcmVkSXRlbXMiLCJpdGVtcyIsImZpbHRlciIsIml0ZW1UaXRsZSIsImtleXdvcmRzIiwia2V5d29yZCIsImR5bmFtaWNJdGVtR3JvdXBzIiwiZHluYW1pY0dyb3VwIiwiZmluZCIsIkxleGljYWxUeXBlYWhlYWRNZW51UGx1Z2luIiwibWVudVJlbmRlckZuIiwiYW5jaG9yRWxlbWVudFJlZiIsInNlbGVjdGVkSXRlbUtleSIsInNlbGVjdEl0ZW1BbmRDbGVhblVwIiwic2V0U2VsZWN0ZWRJdGVtS2V5IiwiZ3JvdXBUaXRsZSIsIm9pIiwiZWwiLCJvblF1ZXJ5Q2hhbmdlIiwidHJpZ2dlckZuIiwiVEVYVF9UWVBFX1RPX0ZPUk1BVCIsIlRleHROb2RlIiwiVGV4dFBsdWdpbiIsImVuYWJsZWRGb3JtYXRzIiwiZGlzYWJsZWRGb3JtYXRzIiwiZ2V0RGlzYWJsZWRGb3JtYXRzIiwidGV4dE5vZGUiLCJkaXNhYmxlZEZvcm1hdCIsImhhc0Zvcm1hdCIsInRvZ2dsZUZvcm1hdCIsImFsbEZvcm1hdHMiLCJPYmplY3QiLCJrZXlzIiwiZW5hYmxlZFNldCIsIlNldCIsImZvcm1hdCIsImhhcyIsIkNvbnRlbnRFZGl0YWJsZSIsIkxleGljYWxDb250ZW50RWRpdGFibGUiLCJ0IiwiZ2V0VGhlbWUiLCJwbGFjZWhvbGRlciIsInRoZW1lIiwiTGV4aWNhbEVkaXRvciIsImVkaXRvckNvbnRhaW5lclJlZiIsImlzU21hbGxXaWR0aFZpZXdwb3J0Iiwib25DaGFuZ2UiLCJlZGl0b3JDb25maWdDb250ZXh0IiwiZmxvYXRpbmdBbmNob3JFbGVtIiwic2V0RmxvYXRpbmdBbmNob3JFbGVtIiwiU3ltYm9sIiwiZm9yIiwiX2Zsb2F0aW5nQW5jaG9yRWxlbSIsIm9uUmVmIiwidXVpZCIsInBhcmVudEVkaXRvciIsInJlZ2lzdGVyQ2hpbGQiLCJoYW5kbGVGb2N1cyIsImZvY3VzRWRpdG9yIiwiaGFuZGxlQmx1ciIsImJsdXJFZGl0b3IiLCJ1bnJlZ2lzdGVyRm9jdXMiLCJ1bnJlZ2lzdGVyQmx1ciIsInVucmVnaXN0ZXJDaGlsZCIsInBsdWdpbnMiLCJjb250ZW50RWRpdGFibGUiLCJpZ25vcmVTZWxlY3Rpb25DaGFuZ2UiLCJlZGl0b3JTdGF0ZSIsImVkaXRvcl8wIiwidGFncyIsInNpemUiLCJoaWRlRHJhZ2dhYmxlQmxvY2tFbGVtZW50IiwiaGlkZUFkZEJsb2NrQnV0dG9uIiwicGx1Z2luXzEiLCJkZXNrdG9wT25seSIsInBsdWdpbl8wIiwicGx1Z2luXzIiLCJwbHVnaW5fMyIsInBsdWdpbl80IiwiTmVzdFByb3ZpZGVycyIsInByb3ZpZGVycyIsInNsaWNlIiwiTGV4aWNhbFByb3ZpZGVyIiwiY29tcG9zZXJLZXkiLCJyZWFkT25seSIsInZhbHVlIiwicGFyZW50Q29udGV4dCIsImVkaXREZXB0aCIsImluaXRpYWxDb25maWciLCJBcnJheSIsImlzQXJyYXkiLCJlZGl0YWJsZSIsIm5hbWVzcGFjZSIsImdldEVuYWJsZWROb2RlcyIsIm9uRXJyb3IiLCJFZGl0b3JDb25maWdQcm92aWRlciIsIkxleGljYWxFZGl0b3JDb21wb25lbnQiLCJSaWNoVGV4dENvbXBvbmVudCIsImZpZWxkIiwiZGVzY3JpcHRpb24iLCJyZWFkT25seUZyb21BZG1pbiIsImxvY2FsaXplZCIsInJlcXVpcmVkIiwicGF0aCIsInBhdGhGcm9tUHJvcHMiLCJyZWFkT25seUZyb21Ub3BMZXZlbFByb3BzIiwidmFsaWRhdGUiLCJyZWFkT25seUZyb21Qcm9wcyIsIm1lbW9pemVkVmFsaWRhdGUiLCJ2YWxpZGF0aW9uT3B0aW9ucyIsImN1c3RvbUNvbXBvbmVudHMiLCJBZnRlcklucHV0IiwiQmVmb3JlSW5wdXQiLCJEZXNjcmlwdGlvbiIsIkxhYmVsIiwiZGlzYWJsZWQiLCJkaXNhYmxlZEZyb21GaWVsZCIsImluaXRpYWxWYWx1ZSIsInNldFZhbHVlIiwic2hvd0Vycm9yIiwicG90ZW50aWFsbHlTdGFsZVBhdGgiLCJzZXRJc1NtYWxsV2lkdGhWaWV3cG9ydCIsInJlcmVuZGVyUHJvdmlkZXJLZXkiLCJzZXRSZXJlbmRlclByb3ZpZGVyS2V5IiwicHJldkluaXRpYWxWYWx1ZVJlZiIsInByZXZWYWx1ZVJlZiIsInVwZGF0ZVZpZXdQb3J0V2lkdGgiLCJpc05leHRTbWFsbFdpZHRoVmlld3BvcnQiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsIkJvb2xlYW4iLCJqb2luIiwicGF0aFdpdGhFZGl0RGVwdGgiLCJydW5EZXByaW9yaXRpemVkIiwidXNlUnVuRGVwcmlvcml0aXplZCIsImhhbmRsZUNoYW5nZSIsInVwZGF0ZUZpZWxkVmFsdWUiLCJuZXdTdGF0ZSIsInRvSlNPTiIsInN0eWxlcyIsImhhbmRsZUluaXRpYWxWYWx1ZUNoYW5nZSIsIkRhdGUiLCJpcyIsIkN1c3RvbUNvbXBvbmVudCIsIkZhbGxiYWNrIiwiZmFsbGJhY2tSZW5kZXIiLCJvblJlc2V0IiwiZHJhd2VyU2x1Z1ByZWZpeCIsImNvbG9yIiwibWVzc2FnZSIsIlJpY2hUZXh0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@payloadcms/richtext-lexical/dist/exports/client/Field-QUXIGJRC.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@payloadcms/richtext-lexical/dist/exports/client/bundled.css":
/*!***********************************************************************************!*\
  !*** ./node_modules/@payloadcms/richtext-lexical/dist/exports/client/bundled.css ***!
  \***********************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"f45044caf1c8\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9yaWNodGV4dC1sZXhpY2FsL2Rpc3QvZXhwb3J0cy9jbGllbnQvYnVuZGxlZC5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxJQUFVLElBQUksaUJBQWlCIiwic291cmNlcyI6WyJEOlxcV09SS1xccHJvamVjdHNcXHBheWxvYWQtdFxcbm9kZV9tb2R1bGVzXFxAcGF5bG9hZGNtc1xccmljaHRleHQtbGV4aWNhbFxcZGlzdFxcZXhwb3J0c1xcY2xpZW50XFxidW5kbGVkLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImY0NTA0NGNhZjFjOFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@payloadcms/richtext-lexical/dist/exports/client/bundled.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/react-error-boundary/dist/react-error-boundary.development.esm.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/react-error-boundary/dist/react-error-boundary.development.esm.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorBoundary: () => (/* binding */ ErrorBoundary),\n/* harmony export */   ErrorBoundaryContext: () => (/* binding */ ErrorBoundaryContext),\n/* harmony export */   useErrorBoundary: () => (/* binding */ useErrorBoundary),\n/* harmony export */   withErrorBoundary: () => (/* binding */ withErrorBoundary)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ ErrorBoundary,ErrorBoundaryContext,useErrorBoundary,withErrorBoundary auto */ var _s = $RefreshSig$();\n\nconst ErrorBoundaryContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nconst initialState = {\n    didCatch: false,\n    error: null\n};\nclass ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n    static getDerivedStateFromError(error) {\n        return {\n            didCatch: true,\n            error\n        };\n    }\n    resetErrorBoundary() {\n        const { error } = this.state;\n        if (error !== null) {\n            var _this$props$onReset, _this$props;\n            for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n                args[_key] = arguments[_key];\n            }\n            (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n                args,\n                reason: \"imperative-api\"\n            });\n            this.setState(initialState);\n        }\n    }\n    componentDidCatch(error, info) {\n        var _this$props$onError, _this$props2;\n        (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        const { didCatch } = this.state;\n        const { resetKeys } = this.props;\n        // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n        // we'd end up resetting the error boundary immediately.\n        // This would likely trigger a second error to be thrown.\n        // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n        if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n            var _this$props$onReset2, _this$props3;\n            (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n                next: resetKeys,\n                prev: prevProps.resetKeys,\n                reason: \"keys\"\n            });\n            this.setState(initialState);\n        }\n    }\n    render() {\n        const { children, fallbackRender, FallbackComponent, fallback } = this.props;\n        const { didCatch, error } = this.state;\n        let childToRender = children;\n        if (didCatch) {\n            const props = {\n                error,\n                resetErrorBoundary: this.resetErrorBoundary\n            };\n            if (typeof fallbackRender === \"function\") {\n                childToRender = fallbackRender(props);\n            } else if (FallbackComponent) {\n                childToRender = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(FallbackComponent, props);\n            } else if (fallback !== undefined) {\n                childToRender = fallback;\n            } else {\n                {\n                    console.error(\"react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop\");\n                }\n                throw error;\n            }\n        }\n        return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ErrorBoundaryContext.Provider, {\n            value: {\n                didCatch,\n                error,\n                resetErrorBoundary: this.resetErrorBoundary\n            }\n        }, childToRender);\n    }\n    constructor(props){\n        super(props);\n        this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n        this.state = initialState;\n    }\n}\nfunction hasArrayChanged() {\n    let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    return a.length !== b.length || a.some((item, index)=>!Object.is(item, b[index]));\n}\nfunction assertErrorBoundaryContext(value) {\n    if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n        throw new Error(\"ErrorBoundaryContext not found\");\n    }\n}\nfunction useErrorBoundary() {\n    _s();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ErrorBoundaryContext);\n    assertErrorBoundaryContext(context);\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        error: null,\n        hasError: false\n    });\n    const memoized = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useErrorBoundary.useMemo[memoized]\": ()=>({\n                resetBoundary: ({\n                    \"useErrorBoundary.useMemo[memoized]\": ()=>{\n                        context.resetErrorBoundary();\n                        setState({\n                            error: null,\n                            hasError: false\n                        });\n                    }\n                })[\"useErrorBoundary.useMemo[memoized]\"],\n                showBoundary: ({\n                    \"useErrorBoundary.useMemo[memoized]\": (error)=>setState({\n                            error,\n                            hasError: true\n                        })\n                })[\"useErrorBoundary.useMemo[memoized]\"]\n            })\n    }[\"useErrorBoundary.useMemo[memoized]\"], [\n        context.resetErrorBoundary\n    ]);\n    if (state.hasError) {\n        throw state.error;\n    }\n    return memoized;\n}\n_s(useErrorBoundary, \"+pKi6m5l0SpCZXu8kma/1W0pdXE=\");\nfunction withErrorBoundary(component, errorBoundaryProps) {\n    const Wrapped = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>/*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ErrorBoundary, errorBoundaryProps, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(component, {\n            ...props,\n            ref\n        })));\n    // Format for display in DevTools\n    const name = component.displayName || component.name || \"Unknown\";\n    Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n    return Wrapped;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9yZWFjdC1lcnJvci1ib3VuZGFyeS9kaXN0L3JlYWN0LWVycm9yLWJvdW5kYXJ5LmRldmVsb3BtZW50LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQzJHO0FBRTNHLE1BQU1PLHFDQUF1QlAsb0RBQWFBLENBQUM7QUFFM0MsTUFBTVEsZUFBZTtJQUNuQkMsVUFBVTtJQUNWQyxPQUFPO0FBQ1Q7QUFDQSxNQUFNQyxzQkFBc0JWLDRDQUFTQTtJQU1uQyxPQUFPVyx5QkFBeUJGLEtBQUssRUFBRTtRQUNyQyxPQUFPO1lBQ0xELFVBQVU7WUFDVkM7UUFDRjtJQUNGO0lBQ0FHLHFCQUFxQjtRQUNuQixNQUFNLEVBQ0pILEtBQUssRUFDTixHQUFHLElBQUksQ0FBQ0ksS0FBSztRQUNkLElBQUlKLFVBQVUsTUFBTTtZQUNsQixJQUFJSyxxQkFBcUJDO1lBQ3pCLElBQUssSUFBSUMsT0FBT0MsVUFBVUMsTUFBTSxFQUFFQyxPQUFPLElBQUlDLE1BQU1KLE9BQU9LLE9BQU8sR0FBR0EsT0FBT0wsTUFBTUssT0FBUTtnQkFDdkZGLElBQUksQ0FBQ0UsS0FBSyxHQUFHSixTQUFTLENBQUNJLEtBQUs7WUFDOUI7WUFDQ1AsQ0FBQUEsc0JBQXNCLENBQUNDLGNBQWMsSUFBSSxDQUFDTyxLQUFLLEVBQUVDLE9BQU8sTUFBTSxRQUFRVCx3QkFBd0IsS0FBSyxJQUFJLEtBQUssSUFBSUEsb0JBQW9CVSxJQUFJLENBQUNULGFBQWE7Z0JBQ3JKSTtnQkFDQU0sUUFBUTtZQUNWO1lBQ0EsSUFBSSxDQUFDQyxRQUFRLENBQUNuQjtRQUNoQjtJQUNGO0lBQ0FvQixrQkFBa0JsQixLQUFLLEVBQUVtQixJQUFJLEVBQUU7UUFDN0IsSUFBSUMscUJBQXFCQztRQUN4QkQsQ0FBQUEsc0JBQXNCLENBQUNDLGVBQWUsSUFBSSxDQUFDUixLQUFLLEVBQUVTLE9BQU8sTUFBTSxRQUFRRix3QkFBd0IsS0FBSyxJQUFJLEtBQUss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VTVELGlEQUFVQSxDQUFDSTtJQUMzQnFELDJCQUEyQkc7SUFDM0IsTUFBTSxDQUFDakQsT0FBT2EsU0FBUyxHQUFHdkIsK0NBQVFBLENBQUM7UUFDakNNLE9BQU87UUFDUHNELFVBQVU7SUFDWjtJQUNBLE1BQU1DLFdBQVc1RCw4Q0FBT0E7OENBQUMsSUFBTztnQkFDOUI2RCxhQUFhOzBEQUFFO3dCQUNiSCxRQUFRbEQsa0JBQWtCO3dCQUMxQmMsU0FBUzs0QkFDUGpCLE9BQU87NEJBQ1BzRCxVQUFVO3dCQUNaO29CQUNGOztnQkFDQUcsWUFBWTswREFBRXpELENBQUFBLFFBQVNpQixTQUFTOzRCQUM5QmpCOzRCQUNBc0QsVUFBVTt3QkFDWjs7WUFDRjs2Q0FBSTtRQUFDRCxRQUFRbEQsa0JBQWtCO0tBQUM7SUFDaEMsSUFBSUMsTUFBTWtELFFBQVEsRUFBRTtRQUNsQixNQUFNbEQsTUFBTUosS0FBSztJQUNuQjtJQUNBLE9BQU91RDtBQUNUO0dBeEJTSDtBQTBCVCxTQUFTTSxrQkFBa0JDLFNBQVMsRUFBRUMsa0JBQWtCO0lBQ3RELE1BQU1DLHdCQUFVakUsaURBQVVBLENBQUMsQ0FBQ2lCLE9BQU9pRCxvQkFBUXRFLG9EQUFhQSxDQUFDUyxlQUFlMkQsa0NBQW9CcEUsb0RBQWFBLENBQUNtRSxXQUFXO1lBQ25ILEdBQUc5QyxLQUFLO1lBQ1JpRDtRQUNGO0lBRUEsaUNBQWlDO0lBQ2pDLE1BQU1DLE9BQU9KLFVBQVVLLFdBQVcsSUFBSUwsVUFBVUksSUFBSSxJQUFJO0lBQ3hERixRQUFRRyxXQUFXLEdBQUcscUJBQXFCQyxNQUFNLENBQUNGLE1BQU07SUFDeEQsT0FBT0Y7QUFDVDtBQUVvRiIsInNvdXJjZXMiOlsiRDpcXFdPUktcXHByb2plY3RzXFxwYXlsb2FkLXRcXG5vZGVfbW9kdWxlc1xccmVhY3QtZXJyb3ItYm91bmRhcnlcXGRpc3RcXHJlYWN0LWVycm9yLWJvdW5kYXJ5LmRldmVsb3BtZW50LmVzbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBDb21wb25lbnQsIGNyZWF0ZUVsZW1lbnQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VNZW1vLCBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBFcnJvckJvdW5kYXJ5Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCk7XG5cbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgZGlkQ2F0Y2g6IGZhbHNlLFxuICBlcnJvcjogbnVsbFxufTtcbmNsYXNzIEVycm9yQm91bmRhcnkgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnJlc2V0RXJyb3JCb3VuZGFyeSA9IHRoaXMucmVzZXRFcnJvckJvdW5kYXJ5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpZENhdGNoOiB0cnVlLFxuICAgICAgZXJyb3JcbiAgICB9O1xuICB9XG4gIHJlc2V0RXJyb3JCb3VuZGFyeSgpIHtcbiAgICBjb25zdCB7XG4gICAgICBlcnJvclxuICAgIH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmIChlcnJvciAhPT0gbnVsbCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzJG9uUmVzZXQsIF90aGlzJHByb3BzO1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICAoX3RoaXMkcHJvcHMkb25SZXNldCA9IChfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMpLm9uUmVzZXQpID09PSBudWxsIHx8IF90aGlzJHByb3BzJG9uUmVzZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHByb3BzJG9uUmVzZXQuY2FsbChfdGhpcyRwcm9wcywge1xuICAgICAgICBhcmdzLFxuICAgICAgICByZWFzb246IFwiaW1wZXJhdGl2ZS1hcGlcIlxuICAgICAgfSk7XG4gICAgICB0aGlzLnNldFN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgfVxuICB9XG4gIGNvbXBvbmVudERpZENhdGNoKGVycm9yLCBpbmZvKSB7XG4gICAgdmFyIF90aGlzJHByb3BzJG9uRXJyb3IsIF90aGlzJHByb3BzMjtcbiAgICAoX3RoaXMkcHJvcHMkb25FcnJvciA9IChfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzKS5vbkVycm9yKSA9PT0gbnVsbCB8fCBfdGhpcyRwcm9wcyRvbkVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRwcm9wcyRvbkVycm9yLmNhbGwoX3RoaXMkcHJvcHMyLCBlcnJvciwgaW5mbyk7XG4gIH1cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgY29uc3Qge1xuICAgICAgZGlkQ2F0Y2hcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7XG4gICAgICByZXNldEtleXNcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIC8vIFRoZXJlJ3MgYW4gZWRnZSBjYXNlIHdoZXJlIGlmIHRoZSB0aGluZyB0aGF0IHRyaWdnZXJlZCB0aGUgZXJyb3IgaGFwcGVucyB0byAqYWxzbyogYmUgaW4gdGhlIHJlc2V0S2V5cyBhcnJheSxcbiAgICAvLyB3ZSdkIGVuZCB1cCByZXNldHRpbmcgdGhlIGVycm9yIGJvdW5kYXJ5IGltbWVkaWF0ZWx5LlxuICAgIC8vIFRoaXMgd291bGQgbGlrZWx5IHRyaWdnZXIgYSBzZWNvbmQgZXJyb3IgdG8gYmUgdGhyb3duLlxuICAgIC8vIFNvIHdlIG1ha2Ugc3VyZSB0aGF0IHdlIGRvbid0IGNoZWNrIHRoZSByZXNldEtleXMgb24gdGhlIGZpcnN0IGNhbGwgb2YgY0RVIGFmdGVyIHRoZSBlcnJvciBpcyBzZXQuXG5cbiAgICBpZiAoZGlkQ2F0Y2ggJiYgcHJldlN0YXRlLmVycm9yICE9PSBudWxsICYmIGhhc0FycmF5Q2hhbmdlZChwcmV2UHJvcHMucmVzZXRLZXlzLCByZXNldEtleXMpKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMkb25SZXNldDIsIF90aGlzJHByb3BzMztcbiAgICAgIChfdGhpcyRwcm9wcyRvblJlc2V0MiA9IChfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzKS5vblJlc2V0KSA9PT0gbnVsbCB8fCBfdGhpcyRwcm9wcyRvblJlc2V0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcHJvcHMkb25SZXNldDIuY2FsbChfdGhpcyRwcm9wczMsIHtcbiAgICAgICAgbmV4dDogcmVzZXRLZXlzLFxuICAgICAgICBwcmV2OiBwcmV2UHJvcHMucmVzZXRLZXlzLFxuICAgICAgICByZWFzb246IFwia2V5c1wiXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgZmFsbGJhY2tSZW5kZXIsXG4gICAgICBGYWxsYmFja0NvbXBvbmVudCxcbiAgICAgIGZhbGxiYWNrXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge1xuICAgICAgZGlkQ2F0Y2gsXG4gICAgICBlcnJvclxuICAgIH0gPSB0aGlzLnN0YXRlO1xuICAgIGxldCBjaGlsZFRvUmVuZGVyID0gY2hpbGRyZW47XG4gICAgaWYgKGRpZENhdGNoKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHJlc2V0RXJyb3JCb3VuZGFyeTogdGhpcy5yZXNldEVycm9yQm91bmRhcnlcbiAgICAgIH07XG4gICAgICBpZiAodHlwZW9mIGZhbGxiYWNrUmVuZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2hpbGRUb1JlbmRlciA9IGZhbGxiYWNrUmVuZGVyKHByb3BzKTtcbiAgICAgIH0gZWxzZSBpZiAoRmFsbGJhY2tDb21wb25lbnQpIHtcbiAgICAgICAgY2hpbGRUb1JlbmRlciA9IGNyZWF0ZUVsZW1lbnQoRmFsbGJhY2tDb21wb25lbnQsIHByb3BzKTtcbiAgICAgIH0gZWxzZSBpZiAoZmFsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjaGlsZFRvUmVuZGVyID0gZmFsbGJhY2s7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcInJlYWN0LWVycm9yLWJvdW5kYXJ5IHJlcXVpcmVzIGVpdGhlciBhIGZhbGxiYWNrLCBmYWxsYmFja1JlbmRlciwgb3IgRmFsbGJhY2tDb21wb25lbnQgcHJvcFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRXJyb3JCb3VuZGFyeUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIGRpZENhdGNoLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgcmVzZXRFcnJvckJvdW5kYXJ5OiB0aGlzLnJlc2V0RXJyb3JCb3VuZGFyeVxuICAgICAgfVxuICAgIH0sIGNoaWxkVG9SZW5kZXIpO1xuICB9XG59XG5mdW5jdGlvbiBoYXNBcnJheUNoYW5nZWQoKSB7XG4gIGxldCBhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgbGV0IGIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuICByZXR1cm4gYS5sZW5ndGggIT09IGIubGVuZ3RoIHx8IGEuc29tZSgoaXRlbSwgaW5kZXgpID0+ICFPYmplY3QuaXMoaXRlbSwgYltpbmRleF0pKTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0RXJyb3JCb3VuZGFyeUNvbnRleHQodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlLmRpZENhdGNoICE9PSBcImJvb2xlYW5cIiB8fCB0eXBlb2YgdmFsdWUucmVzZXRFcnJvckJvdW5kYXJ5ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvckJvdW5kYXJ5Q29udGV4dCBub3QgZm91bmRcIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlRXJyb3JCb3VuZGFyeSgpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoRXJyb3JCb3VuZGFyeUNvbnRleHQpO1xuICBhc3NlcnRFcnJvckJvdW5kYXJ5Q29udGV4dChjb250ZXh0KTtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgZXJyb3I6IG51bGwsXG4gICAgaGFzRXJyb3I6IGZhbHNlXG4gIH0pO1xuICBjb25zdCBtZW1vaXplZCA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICByZXNldEJvdW5kYXJ5OiAoKSA9PiB7XG4gICAgICBjb250ZXh0LnJlc2V0RXJyb3JCb3VuZGFyeSgpO1xuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgaGFzRXJyb3I6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNob3dCb3VuZGFyeTogZXJyb3IgPT4gc2V0U3RhdGUoe1xuICAgICAgZXJyb3IsXG4gICAgICBoYXNFcnJvcjogdHJ1ZVxuICAgIH0pXG4gIH0pLCBbY29udGV4dC5yZXNldEVycm9yQm91bmRhcnldKTtcbiAgaWYgKHN0YXRlLmhhc0Vycm9yKSB7XG4gICAgdGhyb3cgc3RhdGUuZXJyb3I7XG4gIH1cbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG5mdW5jdGlvbiB3aXRoRXJyb3JCb3VuZGFyeShjb21wb25lbnQsIGVycm9yQm91bmRhcnlQcm9wcykge1xuICBjb25zdCBXcmFwcGVkID0gZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4gY3JlYXRlRWxlbWVudChFcnJvckJvdW5kYXJ5LCBlcnJvckJvdW5kYXJ5UHJvcHMsIGNyZWF0ZUVsZW1lbnQoY29tcG9uZW50LCB7XG4gICAgLi4ucHJvcHMsXG4gICAgcmVmXG4gIH0pKSk7XG5cbiAgLy8gRm9ybWF0IGZvciBkaXNwbGF5IGluIERldlRvb2xzXG4gIGNvbnN0IG5hbWUgPSBjb21wb25lbnQuZGlzcGxheU5hbWUgfHwgY29tcG9uZW50Lm5hbWUgfHwgXCJVbmtub3duXCI7XG4gIFdyYXBwZWQuZGlzcGxheU5hbWUgPSBcIndpdGhFcnJvckJvdW5kYXJ5KFwiLmNvbmNhdChuYW1lLCBcIilcIik7XG4gIHJldHVybiBXcmFwcGVkO1xufVxuXG5leHBvcnQgeyBFcnJvckJvdW5kYXJ5LCBFcnJvckJvdW5kYXJ5Q29udGV4dCwgdXNlRXJyb3JCb3VuZGFyeSwgd2l0aEVycm9yQm91bmRhcnkgfTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwiQ29tcG9uZW50IiwiY3JlYXRlRWxlbWVudCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZU1lbW8iLCJmb3J3YXJkUmVmIiwiRXJyb3JCb3VuZGFyeUNvbnRleHQiLCJpbml0aWFsU3RhdGUiLCJkaWRDYXRjaCIsImVycm9yIiwiRXJyb3JCb3VuZGFyeSIsImdldERlcml2ZWRTdGF0ZUZyb21FcnJvciIsInJlc2V0RXJyb3JCb3VuZGFyeSIsInN0YXRlIiwiX3RoaXMkcHJvcHMkb25SZXNldCIsIl90aGlzJHByb3BzIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJwcm9wcyIsIm9uUmVzZXQiLCJjYWxsIiwicmVhc29uIiwic2V0U3RhdGUiLCJjb21wb25lbnREaWRDYXRjaCIsImluZm8iLCJfdGhpcyRwcm9wcyRvbkVycm9yIiwiX3RoaXMkcHJvcHMyIiwib25FcnJvciIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsInByZXZTdGF0ZSIsInJlc2V0S2V5cyIsImhhc0FycmF5Q2hhbmdlZCIsIl90aGlzJHByb3BzJG9uUmVzZXQyIiwiX3RoaXMkcHJvcHMzIiwibmV4dCIsInByZXYiLCJyZW5kZXIiLCJjaGlsZHJlbiIsImZhbGxiYWNrUmVuZGVyIiwiRmFsbGJhY2tDb21wb25lbnQiLCJmYWxsYmFjayIsImNoaWxkVG9SZW5kZXIiLCJ1bmRlZmluZWQiLCJjb25zb2xlIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsImJpbmQiLCJhIiwiYiIsInNvbWUiLCJpdGVtIiwiaW5kZXgiLCJPYmplY3QiLCJpcyIsImFzc2VydEVycm9yQm91bmRhcnlDb250ZXh0IiwiRXJyb3IiLCJ1c2VFcnJvckJvdW5kYXJ5IiwiY29udGV4dCIsImhhc0Vycm9yIiwibWVtb2l6ZWQiLCJyZXNldEJvdW5kYXJ5Iiwic2hvd0JvdW5kYXJ5Iiwid2l0aEVycm9yQm91bmRhcnkiLCJjb21wb25lbnQiLCJlcnJvckJvdW5kYXJ5UHJvcHMiLCJXcmFwcGVkIiwicmVmIiwibmFtZSIsImRpc3BsYXlOYW1lIiwiY29uY2F0Il0sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/react-error-boundary/dist/react-error-boundary.development.esm.js\n"));

/***/ })

}]);